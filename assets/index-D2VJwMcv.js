(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var lm={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function bS(){if(av)return Pl;av=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var ov;function AS(){return ov||(ov=1,lm.exports=bS()),lm.exports}var y=AS(),um={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function SS(){if(lv)return Ie;lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function C(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,H={};function B(k,re,ee){this.props=k,this.context=re,this.refs=H,this.updater=ee||V}B.prototype.isReactComponent={},B.prototype.setState=function(k,re){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,re,"setState")},B.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function G(){}G.prototype=B.prototype;function W(k,re,ee){this.props=k,this.context=re,this.refs=H,this.updater=ee||V}var X=W.prototype=new G;X.constructor=W,O(X,B.prototype),X.isPureReactComponent=!0;var Z=Array.isArray,ae={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function M(k,re,ee,oe,le,_e){return ee=_e.ref,{$$typeof:r,type:k,key:re,ref:ee!==void 0?ee:null,props:_e}}function S(k,re){return M(k.type,re,void 0,void 0,void 0,k.props)}function b(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function I(k){var re={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ee){return re[ee]})}var D=/\/+/g;function U(k,re){return typeof k=="object"&&k!==null&&k.key!=null?I(""+k.key):re.toString(36)}function x(){}function Oe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(x,x):(k.status="pending",k.then(function(re){k.status==="pending"&&(k.status="fulfilled",k.value=re)},function(re){k.status==="pending"&&(k.status="rejected",k.reason=re)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ze(k,re,ee,oe,le){var _e=typeof k;(_e==="undefined"||_e==="boolean")&&(k=null);var Se=!1;if(k===null)Se=!0;else switch(_e){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(k.$$typeof){case r:case e:Se=!0;break;case T:return Se=k._init,Ze(Se(k._payload),re,ee,oe,le)}}if(Se)return le=le(k),Se=oe===""?"."+U(k,0):oe,Z(le)?(ee="",Se!=null&&(ee=Se.replace(D,"$&/")+"/"),Ze(le,re,ee,"",function(it){return it})):le!=null&&(b(le)&&(le=S(le,ee+(le.key==null||k&&k.key===le.key?"":(""+le.key).replace(D,"$&/")+"/")+Se)),re.push(le)),1;Se=0;var nt=oe===""?".":oe+":";if(Z(k))for(var Me=0;Me<k.length;Me++)oe=k[Me],_e=nt+U(oe,Me),Se+=Ze(oe,re,ee,_e,le);else if(Me=C(k),typeof Me=="function")for(k=Me.call(k),Me=0;!(oe=k.next()).done;)oe=oe.value,_e=nt+U(oe,Me++),Se+=Ze(oe,re,ee,_e,le);else if(_e==="object"){if(typeof k.then=="function")return Ze(Oe(k),re,ee,oe,le);throw re=String(k),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ue(k,re,ee){if(k==null)return k;var oe=[],le=0;return Ze(k,oe,"","",function(_e){return re.call(ee,_e,le++)}),oe}function ie(k){if(k._status===-1){var re=k._result;re=re(),re.then(function(ee){(k._status===0||k._status===-1)&&(k._status=1,k._result=ee)},function(ee){(k._status===0||k._status===-1)&&(k._status=2,k._result=ee)}),k._status===-1&&(k._status=0,k._result=re)}if(k._status===1)return k._result.default;throw k._result}var he=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ye(){}return Ie.Children={map:ue,forEach:function(k,re,ee){ue(k,function(){re.apply(this,arguments)},ee)},count:function(k){var re=0;return ue(k,function(){re++}),re},toArray:function(k){return ue(k,function(re){return re})||[]},only:function(k){if(!b(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ie.Component=B,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=W,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ie.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ie.cache=function(k){return function(){return k.apply(null,arguments)}},Ie.cloneElement=function(k,re,ee){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var oe=O({},k.props),le=k.key,_e=void 0;if(re!=null)for(Se in re.ref!==void 0&&(_e=void 0),re.key!==void 0&&(le=""+re.key),re)!pe.call(re,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&re.ref===void 0||(oe[Se]=re[Se]);var Se=arguments.length-2;if(Se===1)oe.children=ee;else if(1<Se){for(var nt=Array(Se),Me=0;Me<Se;Me++)nt[Me]=arguments[Me+2];oe.children=nt}return M(k.type,le,void 0,void 0,_e,oe)},Ie.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ie.createElement=function(k,re,ee){var oe,le={},_e=null;if(re!=null)for(oe in re.key!==void 0&&(_e=""+re.key),re)pe.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=re[oe]);var Se=arguments.length-2;if(Se===1)le.children=ee;else if(1<Se){for(var nt=Array(Se),Me=0;Me<Se;Me++)nt[Me]=arguments[Me+2];le.children=nt}if(k&&k.defaultProps)for(oe in Se=k.defaultProps,Se)le[oe]===void 0&&(le[oe]=Se[oe]);return M(k,_e,void 0,void 0,null,le)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:m,render:k}},Ie.isValidElement=b,Ie.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:ie}},Ie.memo=function(k,re){return{$$typeof:g,type:k,compare:re===void 0?null:re}},Ie.startTransition=function(k){var re=ae.T,ee={};ae.T=ee;try{var oe=k(),le=ae.S;le!==null&&le(ee,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ye,he)}catch(_e){he(_e)}finally{ae.T=re}},Ie.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ie.use=function(k){return ae.H.use(k)},Ie.useActionState=function(k,re,ee){return ae.H.useActionState(k,re,ee)},Ie.useCallback=function(k,re){return ae.H.useCallback(k,re)},Ie.useContext=function(k){return ae.H.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k,re){return ae.H.useDeferredValue(k,re)},Ie.useEffect=function(k,re){return ae.H.useEffect(k,re)},Ie.useId=function(){return ae.H.useId()},Ie.useImperativeHandle=function(k,re,ee){return ae.H.useImperativeHandle(k,re,ee)},Ie.useInsertionEffect=function(k,re){return ae.H.useInsertionEffect(k,re)},Ie.useLayoutEffect=function(k,re){return ae.H.useLayoutEffect(k,re)},Ie.useMemo=function(k,re){return ae.H.useMemo(k,re)},Ie.useOptimistic=function(k,re){return ae.H.useOptimistic(k,re)},Ie.useReducer=function(k,re,ee){return ae.H.useReducer(k,re,ee)},Ie.useRef=function(k){return ae.H.useRef(k)},Ie.useState=function(k){return ae.H.useState(k)},Ie.useSyncExternalStore=function(k,re,ee){return ae.H.useSyncExternalStore(k,re,ee)},Ie.useTransition=function(){return ae.H.useTransition()},Ie.version="19.0.0",Ie}var uv;function ip(){return uv||(uv=1,um.exports=SS()),um.exports}var j=ip(),cm={exports:{}},Ll={},hm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function wS(){return cv||(cv=1,function(r){function e(ue,ie){var he=ue.length;ue.push(ie);e:for(;0<he;){var ye=he-1>>>1,k=ue[ye];if(0<o(k,ie))ue[ye]=ie,ue[he]=k,he=ye;else break e}}function n(ue){return ue.length===0?null:ue[0]}function s(ue){if(ue.length===0)return null;var ie=ue[0],he=ue.pop();if(he!==ie){ue[0]=he;e:for(var ye=0,k=ue.length,re=k>>>1;ye<re;){var ee=2*(ye+1)-1,oe=ue[ee],le=ee+1,_e=ue[le];if(0>o(oe,he))le<k&&0>o(_e,oe)?(ue[ye]=_e,ue[le]=he,ye=le):(ue[ye]=oe,ue[ee]=he,ye=ee);else if(le<k&&0>o(_e,he))ue[ye]=_e,ue[le]=he,ye=le;else break e}}return ie}function o(ue,ie){var he=ue.sortIndex-ie.sortIndex;return he!==0?he:ue.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,w=null,C=3,V=!1,O=!1,H=!1,B=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function X(ue){for(var ie=n(g);ie!==null;){if(ie.callback===null)s(g);else if(ie.startTime<=ue)s(g),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(g)}}function Z(ue){if(H=!1,X(ue),!O)if(n(p)!==null)O=!0,Oe();else{var ie=n(g);ie!==null&&Ze(Z,ie.startTime-ue)}}var ae=!1,pe=-1,M=5,S=-1;function b(){return!(r.unstable_now()-S<M)}function I(){if(ae){var ue=r.unstable_now();S=ue;var ie=!0;try{e:{O=!1,H&&(H=!1,G(pe),pe=-1),V=!0;var he=C;try{t:{for(X(ue),w=n(p);w!==null&&!(w.expirationTime>ue&&b());){var ye=w.callback;if(typeof ye=="function"){w.callback=null,C=w.priorityLevel;var k=ye(w.expirationTime<=ue);if(ue=r.unstable_now(),typeof k=="function"){w.callback=k,X(ue),ie=!0;break t}w===n(p)&&s(p),X(ue)}else s(p);w=n(p)}if(w!==null)ie=!0;else{var re=n(g);re!==null&&Ze(Z,re.startTime-ue),ie=!1}}break e}finally{w=null,C=he,V=!1}ie=void 0}}finally{ie?D():ae=!1}}}var D;if(typeof W=="function")D=function(){W(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,x=U.port2;U.port1.onmessage=I,D=function(){x.postMessage(null)}}else D=function(){B(I,0)};function Oe(){ae||(ae=!0,D())}function Ze(ue,ie){pe=B(function(){ue(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ue){ue.callback=null},r.unstable_continueExecution=function(){O||V||(O=!0,Oe())},r.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ue?Math.floor(1e3/ue):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(ue){switch(C){case 1:case 2:case 3:var ie=3;break;default:ie=C}var he=C;C=ie;try{return ue()}finally{C=he}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ue,ie){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var he=C;C=ue;try{return ie()}finally{C=he}},r.unstable_scheduleCallback=function(ue,ie,he){var ye=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ye+he:ye):he=ye,ue){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=he+k,ue={id:T++,callback:ie,priorityLevel:ue,startTime:he,expirationTime:k,sortIndex:-1},he>ye?(ue.sortIndex=he,e(g,ue),n(p)===null&&ue===n(g)&&(H?(G(pe),pe=-1):H=!0,Ze(Z,he-ye))):(ue.sortIndex=k,e(p,ue),O||V||(O=!0,Oe())),ue},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(ue){var ie=C;return function(){var he=C;C=ie;try{return ue.apply(this,arguments)}finally{C=he}}}}(fm)),fm}var hv;function RS(){return hv||(hv=1,hm.exports=wS()),hm.exports}var dm={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function CS(){if(fv)return Qt;fv=1;var r=ip();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},Qt.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,w=m(T,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:V}):T==="script"&&s.d.X(p,{crossOrigin:w,integrity:C,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,w=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.0.0",Qt}var dv;function IS(){if(dv)return dm.exports;dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=CS(),dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function NS(){if(mv)return Ll;mv=1;var r=RS(),e=ip(),n=IS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),V=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),Z=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=ae&&t[ae]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function S(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case g:return"StrictMode";case H:return"Suspense";case B:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case O:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return i=t.displayName||null,i!==null?i:S(t.type)||"Memo";case W:i=t._payload,t=t._init;try{return S(t(i))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,D,U;function x(t){if(D===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);D=i&&i[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+D+t+U}var Oe=!1;function Ze(t,i){if(!t||Oe)return"";Oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Q){var K=Q}Reflect.construct(t,[],se)}else{try{se.call()}catch(Q){K=Q}t.call(se.prototype)}}else{try{throw Error()}catch(Q){K=Q}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],A=d[1];if(E&&A){var N=E.split(`
`),L=A.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===L.length)for(l=N.length-1,h=L.length-1;1<=l&&0<=h&&N[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==L[h]){var Y=`
`+N[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Oe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?x(a):""}function ue(t){switch(t.tag){case 26:case 27:case 5:return x(t.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return t=Ze(t.type,!1),t;case 11:return t=Ze(t.type.render,!1),t;case 1:return t=Ze(t.type,!0),t;default:return""}}function ie(t){try{var i="";do i+=ue(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function he(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function ye(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function k(t){if(he(t)!==t)throw Error(s(188))}function re(t){var i=t.alternate;if(!i){if(i=he(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return k(h),t;if(d===l)return k(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,A=h.child;A;){if(A===a){E=!0,a=h,l=d;break}if(A===l){E=!0,l=h,a=d;break}A=A.sibling}if(!E){for(A=d.child;A;){if(A===a){E=!0,a=d,l=h;break}if(A===l){E=!0,l=d,a=h;break}A=A.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function ee(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=ee(t),i!==null)return i;t=t.sibling}return null}var oe=Array.isArray,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Se=[],nt=-1;function Me(t){return{current:t}}function it(t){0>nt||(t.current=Se[nt],Se[nt]=null,nt--)}function qe(t,i){nt++,Se[nt]=t.current,t.current=i}var Jt=Me(null),wi=Me(null),bn=Me(null),pr=Me(null);function gr(t,i){switch(qe(bn,i),qe(wi,t),qe(Jt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?M_(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=M_(t),i=j_(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}it(Jt),qe(Jt,i)}function Ri(){it(Jt),it(wi),it(bn)}function Oo(t){t.memoizedState!==null&&qe(pr,t);var i=Jt.current,a=j_(i,t.type);i!==a&&(qe(wi,t),qe(Jt,a))}function ma(t){wi.current===t&&(it(Jt),it(wi)),pr.current===t&&(it(pr),Ol._currentValue=_e)}var pa=Object.prototype.hasOwnProperty,_s=r.unstable_scheduleCallback,ga=r.unstable_cancelCallback,cf=r.unstable_shouldYield,ko=r.unstable_requestPaint,ln=r.unstable_now,bu=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,Dt=r.unstable_UserBlockingPriority,Ci=r.unstable_NormalPriority,Au=r.unstable_LowPriority,Vo=r.unstable_IdlePriority,hf=r.log,vs=r.unstable_setDisableYieldValue,yr=null,Kt=null;function Mo(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(yr,t,void 0,(t.current.flags&128)===128)}catch{}}function Xn(t){if(typeof hf=="function"&&vs(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(yr,t)}catch{}}var en=Math.clz32?Math.clz32:wu,jo=Math.log,Su=Math.LN2;function wu(t){return t>>>=0,t===0?32:31-(jo(t)/Su|0)|0}var Wn=128,_r=4194304;function Un(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function An(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,E=t.warmLanes;t=t.finishedLanes!==0;var A=a&134217727;return A!==0?(a=A&~h,a!==0?l=Un(a):(d&=A,d!==0?l=Un(d):t||(E=A&~E,E!==0&&(l=Un(E))))):(A=a&~h,A!==0?l=Un(A):d!==0?l=Un(d):t||(E=a&~E,E!==0&&(l=Un(E)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,E=i&-i,h>=E||h===32&&(E&4194176)!==0)?i:l}function vr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ya(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var t=Wn;return Wn<<=1,(Wn&4194176)===0&&(Wn=128),t}function Er(){var t=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),t}function _a(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function mt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ru(t,i,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,N=t.expirationTimes,L=t.hiddenUpdates;for(a=E&~a;0<a;){var Y=31-en(a),se=1<<Y;A[Y]=0,N[Y]=-1;var K=L[Y];if(K!==null)for(L[Y]=null,Y=0;Y<K.length;Y++){var Q=K[Y];Q!==null&&(Q.lane&=-536870913)}a&=~se}l!==0&&Tr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function Tr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-en(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function br(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-en(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Cu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Iu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:ev(t.type))}function Ar(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var Zn=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Zn,At="__reactProps$"+Zn,Ii="__reactContainer$"+Zn,Es="__reactEvents$"+Zn,va="__reactListeners$"+Zn,Jn="__reactHandles$"+Zn,Lo="__reactResources$"+Zn,Sr="__reactMarker$"+Zn;function Ts(t){delete t[Ot],delete t[At],delete t[Es],delete t[va],delete t[Jn]}function Bn(t){var i=t[Ot];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ii]||a[Ot]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=U_(t);t!==null;){if(a=t[Ot])return a;t=U_(t)}return i}t=a,a=t.parentNode}return null}function Ni(t){if(t=t[Ot]||t[Ii]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function wr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Rr(t){var i=t[Lo];return i||(i=t[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function rt(t){t[Sr]=!0}var Uo=new Set,Ea={};function dn(t,i){un(t,i),un(t+"Capture",i)}function un(t,i){for(Ea[t]=i,t=0;t<i.length;t++)Uo.add(i[t])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ff=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},zo={};function Nu(t){return pa.call(zo,t)?!0:pa.call(Bo,t)?!1:ff.test(t)?zo[t]=!0:(Bo[t]=!0,!1)}function Cr(t,i,a){if(Nu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ir(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Sn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function df(t){var i=xu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function bs(t){t._valueTracker||(t._valueTracker=df(t))}function qo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=xu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xi=/[\n"\\]/g;function ut(t){return t.replace(xi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Nr(t,i,a,l,h,d,E,A){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?ba(t,E,tn(i)):a!=null?ba(t,E,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+tn(A):t.removeAttribute("name")}function As(t,i,a,l,h,d,E,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function ba(t,i,a){i==="number"&&Ta(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function He(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ss(t,i,a){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+tn(a):""}function xr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function wn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var mf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||mf.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Du(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ho(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ho(t,d,i[d])}function Fo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(t){return gf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Rn=null;function Aa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Di=null,Oi=null;function ki(t){var i=Ni(t);if(i&&(t=i.stateNode)){var a=t[At]||null;e:switch(t=i.stateNode,i.type){case"input":if(Nr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ut(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[At]||null;if(!h)throw Error(s(90));Nr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&qo(l)}break e;case"textarea":Ss(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&He(t,!!a.multiple,i,!1)}}}var Go=!1;function Ou(t,i,a){if(Go)return t(i,a);Go=!0;try{var l=t(i);return l}finally{if(Go=!1,(Di!==null||Oi!==null)&&(Ac(),Di&&(i=Di,t=Oi,Oi=Di=null,ki(i),t)))for(i=0;i<t.length;i++)ki(t[i])}}function ws(t,i){var a=t.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!1;if(mn)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{Cn=!1}var ti=null,Dr=null,Vi=null;function Ko(){if(Vi)return Vi;var t,i=Dr,a=i.length,l,h="value"in ti?ti.value:ti.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return Vi=h.slice(t,1<l?1-l:void 0)}function ni(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ii(){return!0}function $o(){return!1}function kt(t){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ii:$o,this.isPropagationStopped=$o,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),i}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=kt(Ke),Cs=I({},Ke,{view:0,detail:0}),ku=kt(Cs),wa,Ra,ri,Is=I({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(wa=t.screenX-ri.screenX,Ra=t.screenY-ri.screenY):Ra=wa=0,ri=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),In=kt(Is),Vu=I({},Is,{dataTransfer:0}),yf=kt(Vu),Ns=I({},Cs,{relatedTarget:0}),Ca=kt(Ns),Qo=I({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=kt(Qo),Mu=I({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Na=kt(Mu),_f=I({},Ke,{data:0}),Yo=kt(_f),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Pu[t])?!!i[t]:!1}function Ds(){return Xo}var Lu=I({},Cs,{key:function(t){if(t.key){var i=xs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ni(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?ni(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ni(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xa=kt(Lu),Uu=I({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=kt(Uu),Mi=I({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),Bu=kt(Mi),zu=I({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),qu=kt(zu),Hu=I({},Is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=kt(Hu),nn=I({},Ke,{newState:0,oldState:0}),Fu=kt(nn),Gu=[9,13,27,32],si=mn&&"CompositionEvent"in window,c=null;mn&&"documentMode"in document&&(c=document.documentMode);var _=mn&&"TextEvent"in window&&!c,v=mn&&(!si||c&&8<c&&11>=c),R=" ",q=!1;function $(t,i){switch(t){case"keyup":return Gu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function St(t,i){switch(t){case"compositionend":return ce(i);case"keypress":return i.which!==32?null:(q=!0,R);case"textInput":return t=i.data,t===R&&q?null:t;default:return null}}function Ue(t,i){if(Le)return t==="compositionend"||!si&&$(t,i)?(t=Ko(),Vi=Dr=ti=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function ji(t,i,a,l){Di?Oi?Oi.push(l):Oi=[l]:Di=l,i=Ic(i,"onChange"),0<i.length&&(a=new Sa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ut=null,ai=null;function Zo(t){x_(t,0)}function Ku(t){var i=wr(t);if(qo(i))return t}function sg(t,i){if(t==="change")return i}var ag=!1;if(mn){var vf;if(mn){var Ef="oninput"in document;if(!Ef){var og=document.createElement("div");og.setAttribute("oninput","return;"),Ef=typeof og.oninput=="function"}vf=Ef}else vf=!1;ag=vf&&(!document.documentMode||9<document.documentMode)}function lg(){Ut&&(Ut.detachEvent("onpropertychange",ug),ai=Ut=null)}function ug(t){if(t.propertyName==="value"&&Ku(ai)){var i=[];ji(i,ai,t,Aa(t)),Ou(Zo,i)}}function Zb(t,i,a){t==="focusin"?(lg(),Ut=i,ai=a,Ut.attachEvent("onpropertychange",ug)):t==="focusout"&&lg()}function Jb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(ai)}function eA(t,i){if(t==="click")return Ku(i)}function tA(t,i){if(t==="input"||t==="change")return Ku(i)}function nA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:nA;function Jo(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!pa.call(i,h)||!pn(t[h],i[h]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hg(t,i){var a=cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cg(a)}}function fg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?fg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ta(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ta(t.document)}return i}function Tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function iA(t,i){var a=dg(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&fg(i.ownerDocument.documentElement,i)){if(l!==null&&Tf(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=hg(i,d);var E=hg(i,l);h&&E&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(E.node,E.offset)):(t.setEnd(E.node,E.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var rA=mn&&"documentMode"in document&&11>=document.documentMode,Oa=null,bf=null,el=null,Af=!1;function mg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Af||Oa==null||Oa!==Ta(l)||(l=Oa,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Jo(el,l)||(el=l,l=Ic(bf,"onSelect"),0<l.length&&(i=new Sa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Oa)))}function Os(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ka={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},Sf={},pg={};mn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function ks(t){if(Sf[t])return Sf[t];if(!ka[t])return t;var i=ka[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in pg)return Sf[t]=i[a];return t}var gg=ks("animationend"),yg=ks("animationiteration"),_g=ks("animationstart"),sA=ks("transitionrun"),aA=ks("transitionstart"),oA=ks("transitioncancel"),vg=ks("transitionend"),Eg=new Map,Tg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function zn(t,i){Eg.set(t,i),dn(i,[t])}var Nn=[],Va=0,wf=0;function $u(){for(var t=Va,i=wf=Va=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&bg(a,h,d)}}function Qu(t,i,a,l){Nn[Va++]=t,Nn[Va++]=i,Nn[Va++]=a,Nn[Va++]=l,wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rf(t,i,a,l){return Qu(t,i,a,l),Yu(t)}function Or(t,i){return Qu(t,null,null,i),Yu(t)}function bg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-en(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Yu(t){if(50<wl)throw wl=0,Od=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ma={},Ag=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=Ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ie(i)},Ag.set(t,i),i)}return{value:t,source:i,stack:ie(i)}}var ja=[],Pa=0,Xu=null,Wu=0,Dn=[],On=0,Vs=null,Pi=1,Li="";function Ms(t,i){ja[Pa++]=Wu,ja[Pa++]=Xu,Xu=t,Wu=i}function Sg(t,i,a){Dn[On++]=Pi,Dn[On++]=Li,Dn[On++]=Vs,Vs=t;var l=Pi;t=Li;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Pi=1<<32-en(i)+h|a<<h|l,Li=d+t}else Pi=1<<d|a<<h|l,Li=t}function Cf(t){t.return!==null&&(Ms(t,1),Sg(t,1,0))}function If(t){for(;t===Xu;)Xu=ja[--Pa],ja[Pa]=null,Wu=ja[--Pa],ja[Pa]=null;for(;t===Vs;)Vs=Dn[--On],Dn[On]=null,Li=Dn[--On],Dn[On]=null,Pi=Dn[--On],Dn[On]=null}var rn=null,Bt=null,Fe=!1,qn=null,oi=!1,Nf=Error(s(519));function js(t){var i=Error(s(418,""));throw il(xn(i,t)),Nf}function wg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ot]=t,i[At]=l,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<Cl.length;a++)je(Cl[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),As(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),bs(i);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),xr(i,l.value,l.defaultValue,l.children),bs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||V_(i.textContent,a)?(l.popover!=null&&(je("beforetoggle",i),je("toggle",i)),l.onScroll!=null&&je("scroll",i),l.onScrollEnd!=null&&je("scrollend",i),l.onClick!=null&&(i.onclick=Nc),i=!0):i=!1,i||js(t)}function Rg(t){for(rn=t.return;rn;)switch(rn.tag){case 3:case 27:oi=!0;return;case 5:case 13:oi=!1;return;default:rn=rn.return}}function tl(t){if(t!==rn)return!1;if(!Fe)return Rg(t),Fe=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Yd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Bt&&js(t),Rg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Bt=Fn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Bt=null}}else Bt=rn?Fn(t.stateNode.nextSibling):null;return!0}function nl(){Bt=rn=null,Fe=!1}function il(t){qn===null?qn=[t]:qn.push(t)}var rl=Error(s(460)),Cg=Error(s(474)),xf={then:function(){}};function Ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zu(){}function Ng(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Zu,Zu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===rl?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Zu,Zu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===rl?Error(s(483)):t}throw sl=i,rl}}var sl=null;function xg(){if(sl===null)throw Error(s(459));var t=sl;return sl=null,t}var La=null,al=0;function Ju(t){var i=al;return al+=1,La===null&&(La=[]),Ng(La,t,i)}function ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ec(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Dg(t){var i=t._init;return i(t._payload)}function Og(t){function i(z,P){if(t){var F=z.deletions;F===null?(z.deletions=[P],z.flags|=16):F.push(P)}}function a(z,P){if(!t)return null;for(;P!==null;)i(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function h(z,P){return z=Fr(z,P),z.index=0,z.sibling=null,z}function d(z,P,F){return z.index=F,t?(F=z.alternate,F!==null?(F=F.index,F<P?(z.flags|=33554434,P):F):(z.flags|=33554434,P)):(z.flags|=1048576,P)}function E(z){return t&&z.alternate===null&&(z.flags|=33554434),z}function A(z,P,F,J){return P===null||P.tag!==6?(P=Sd(F,z.mode,J),P.return=z,P):(P=h(P,F),P.return=z,P)}function N(z,P,F,J){var me=F.type;return me===p?Y(z,P,F.props.children,J,F.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===W&&Dg(me)===P.type)?(P=h(P,F.props),ol(P,F),P.return=z,P):(P=_c(F.type,F.key,F.props,null,z.mode,J),ol(P,F),P.return=z,P)}function L(z,P,F,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=wd(F,z.mode,J),P.return=z,P):(P=h(P,F.children||[]),P.return=z,P)}function Y(z,P,F,J,me){return P===null||P.tag!==7?(P=Ks(F,z.mode,J,me),P.return=z,P):(P=h(P,F),P.return=z,P)}function se(z,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Sd(""+P,z.mode,F),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case f:return F=_c(P.type,P.key,P.props,null,z.mode,F),ol(F,P),F.return=z,F;case m:return P=wd(P,z.mode,F),P.return=z,P;case W:var J=P._init;return P=J(P._payload),se(z,P,F)}if(oe(P)||pe(P))return P=Ks(P,z.mode,F,null),P.return=z,P;if(typeof P.then=="function")return se(z,Ju(P),F);if(P.$$typeof===V)return se(z,pc(z,P),F);ec(z,P)}return null}function K(z,P,F,J){var me=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return me!==null?null:A(z,P,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case f:return F.key===me?N(z,P,F,J):null;case m:return F.key===me?L(z,P,F,J):null;case W:return me=F._init,F=me(F._payload),K(z,P,F,J)}if(oe(F)||pe(F))return me!==null?null:Y(z,P,F,J,null);if(typeof F.then=="function")return K(z,P,Ju(F),J);if(F.$$typeof===V)return K(z,P,pc(z,F),J);ec(z,F)}return null}function Q(z,P,F,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(F)||null,A(P,z,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case f:return z=z.get(J.key===null?F:J.key)||null,N(P,z,J,me);case m:return z=z.get(J.key===null?F:J.key)||null,L(P,z,J,me);case W:var xe=J._init;return J=xe(J._payload),Q(z,P,F,J,me)}if(oe(J)||pe(J))return z=z.get(F)||null,Y(P,z,J,me,null);if(typeof J.then=="function")return Q(z,P,F,Ju(J),me);if(J.$$typeof===V)return Q(z,P,F,pc(P,J),me);ec(P,J)}return null}function ge(z,P,F,J){for(var me=null,xe=null,ve=P,Te=P=0,Pt=null;ve!==null&&Te<F.length;Te++){ve.index>Te?(Pt=ve,ve=null):Pt=ve.sibling;var Ge=K(z,ve,F[Te],J);if(Ge===null){ve===null&&(ve=Pt);break}t&&ve&&Ge.alternate===null&&i(z,ve),P=d(Ge,P,Te),xe===null?me=Ge:xe.sibling=Ge,xe=Ge,ve=Pt}if(Te===F.length)return a(z,ve),Fe&&Ms(z,Te),me;if(ve===null){for(;Te<F.length;Te++)ve=se(z,F[Te],J),ve!==null&&(P=d(ve,P,Te),xe===null?me=ve:xe.sibling=ve,xe=ve);return Fe&&Ms(z,Te),me}for(ve=l(ve);Te<F.length;Te++)Pt=Q(ve,z,Te,F[Te],J),Pt!==null&&(t&&Pt.alternate!==null&&ve.delete(Pt.key===null?Te:Pt.key),P=d(Pt,P,Te),xe===null?me=Pt:xe.sibling=Pt,xe=Pt);return t&&ve.forEach(function(Wr){return i(z,Wr)}),Fe&&Ms(z,Te),me}function Re(z,P,F,J){if(F==null)throw Error(s(151));for(var me=null,xe=null,ve=P,Te=P=0,Pt=null,Ge=F.next();ve!==null&&!Ge.done;Te++,Ge=F.next()){ve.index>Te?(Pt=ve,ve=null):Pt=ve.sibling;var Wr=K(z,ve,Ge.value,J);if(Wr===null){ve===null&&(ve=Pt);break}t&&ve&&Wr.alternate===null&&i(z,ve),P=d(Wr,P,Te),xe===null?me=Wr:xe.sibling=Wr,xe=Wr,ve=Pt}if(Ge.done)return a(z,ve),Fe&&Ms(z,Te),me;if(ve===null){for(;!Ge.done;Te++,Ge=F.next())Ge=se(z,Ge.value,J),Ge!==null&&(P=d(Ge,P,Te),xe===null?me=Ge:xe.sibling=Ge,xe=Ge);return Fe&&Ms(z,Te),me}for(ve=l(ve);!Ge.done;Te++,Ge=F.next())Ge=Q(ve,z,Te,Ge.value,J),Ge!==null&&(t&&Ge.alternate!==null&&ve.delete(Ge.key===null?Te:Ge.key),P=d(Ge,P,Te),xe===null?me=Ge:xe.sibling=Ge,xe=Ge);return t&&ve.forEach(function(TS){return i(z,TS)}),Fe&&Ms(z,Te),me}function ft(z,P,F,J){if(typeof F=="object"&&F!==null&&F.type===p&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case f:e:{for(var me=F.key;P!==null;){if(P.key===me){if(me=F.type,me===p){if(P.tag===7){a(z,P.sibling),J=h(P,F.props.children),J.return=z,z=J;break e}}else if(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===W&&Dg(me)===P.type){a(z,P.sibling),J=h(P,F.props),ol(J,F),J.return=z,z=J;break e}a(z,P);break}else i(z,P);P=P.sibling}F.type===p?(J=Ks(F.props.children,z.mode,J,F.key),J.return=z,z=J):(J=_c(F.type,F.key,F.props,null,z.mode,J),ol(J,F),J.return=z,z=J)}return E(z);case m:e:{for(me=F.key;P!==null;){if(P.key===me)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){a(z,P.sibling),J=h(P,F.children||[]),J.return=z,z=J;break e}else{a(z,P);break}else i(z,P);P=P.sibling}J=wd(F,z.mode,J),J.return=z,z=J}return E(z);case W:return me=F._init,F=me(F._payload),ft(z,P,F,J)}if(oe(F))return ge(z,P,F,J);if(pe(F)){if(me=pe(F),typeof me!="function")throw Error(s(150));return F=me.call(F),Re(z,P,F,J)}if(typeof F.then=="function")return ft(z,P,Ju(F),J);if(F.$$typeof===V)return ft(z,P,pc(z,F),J);ec(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(a(z,P.sibling),J=h(P,F),J.return=z,z=J):(a(z,P),J=Sd(F,z.mode,J),J.return=z,z=J),E(z)):a(z,P)}return function(z,P,F,J){try{al=0;var me=ft(z,P,F,J);return La=null,me}catch(ve){if(ve===rl)throw ve;var xe=jn(29,ve,null,z.mode);return xe.lanes=J,xe.return=z,xe}finally{}}}var Ps=Og(!0),kg=Og(!1),Ua=Me(null),tc=Me(0);function Vg(t,i){t=Yi,qe(tc,t),qe(Ua,i),Yi=t|i.baseLanes}function Df(){qe(tc,Yi),qe(Ua,Ua.current)}function Of(){Yi=tc.current,it(Ua),it(tc)}var kn=Me(null),li=null;function kr(t){var i=t.alternate;qe(Rt,Rt.current&1),qe(kn,t),li===null&&(i===null||Ua.current!==null||i.memoizedState!==null)&&(li=t)}function Mg(t){if(t.tag===22){if(qe(Rt,Rt.current),qe(kn,t),li===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(li=t)}}else Vr()}function Vr(){qe(Rt,Rt.current),qe(kn,kn.current)}function Ui(t){it(kn),li===t&&(li=null),it(Rt)}var Rt=Me(0);function nc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var lA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},uA=r.unstable_scheduleCallback,cA=r.unstable_NormalPriority,Ct={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new lA,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&uA(cA,function(){t.controller.abort()})}var ul=null,Vf=0,Ba=0,za=null;function hA(t,i){if(ul===null){var a=ul=[];Vf=0,Ba=Bd(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,i.then(jg,jg),i}function jg(){if(--Vf===0&&ul!==null){za!==null&&(za.status="fulfilled");var t=ul;ul=null,Ba=0,za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function fA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Pg=b.S;b.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&hA(t,i),Pg!==null&&Pg(t,i)};var Ls=Me(null);function Mf(){var t=Ls.current;return t!==null?t:Je.pooledCache}function ic(t,i){i===null?qe(Ls,Ls.current):qe(Ls,i.pool)}function Lg(){var t=Mf();return t===null?null:{parent:Ct._currentValue,pool:t}}var Mr=0,Ne=null,Qe=null,yt=null,rc=!1,qa=!1,Us=!1,sc=0,cl=0,Ha=null,dA=0;function pt(){throw Error(s(321))}function jf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function Pf(t,i,a,l,h,d){return Mr=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=t===null||t.memoizedState===null?Bs:jr,Us=!1,d=a(l,h),Us=!1,qa&&(d=Bg(i,a,l,h)),Ug(t),d}function Ug(t){b.H=ui;var i=Qe!==null&&Qe.next!==null;if(Mr=0,yt=Qe=Ne=null,rc=!1,cl=0,Ha=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&mc(t)&&(Mt=!0))}function Bg(t,i,a,l){Ne=t;var h=0;do{if(qa&&(Ha=null),cl=0,qa=!1,25<=h)throw Error(s(301));if(h+=1,yt=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=zs,d=i(a,l)}while(qa);return d}function mA(){var t=b.H,i=t.useState()[0];return i=typeof i.then=="function"?hl(i):i,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Lf(){var t=sc!==0;return sc=0,t}function Uf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Bf(t){if(rc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}rc=!1}Mr=0,yt=Qe=Ne=null,qa=!1,cl=sc=0,Ha=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ne.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Qe===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var i=yt===null?Ne.memoizedState:yt.next;if(i!==null)yt=i,Qe=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},yt===null?Ne.memoizedState=yt=t:yt=yt.next=t}return yt}var ac;ac=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function hl(t){var i=cl;return cl+=1,Ha===null&&(Ha=[]),t=Ng(Ha,t,i),i=Ne,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?Bs:jr),t}function oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===V)return $t(t)}throw Error(s(438,String(t)))}function zf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ac(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=Z;return i.index++,a}function Bi(t,i){return typeof i=="function"?i(t):i}function lc(t){var i=_t();return qf(i,Qe,t)}function qf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=E=null,N=null,L=i,Y=!1;do{var se=L.lane&-536870913;if(se!==L.lane?(Be&se)===se:(Mr&se)===se){var K=L.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),se===Ba&&(Y=!0);else if((Mr&K)===K){L=L.next,K===Ba&&(Y=!0);continue}else se={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(A=N=se,E=d):N=N.next=se,Ne.lanes|=K,Gr|=K;se=L.action,Us&&a(d,se),d=L.hasEagerState?L.eagerState:a(d,se)}else K={lane:se,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(A=N=K,E=d):N=N.next=K,Ne.lanes|=se,Gr|=se;L=L.next}while(L!==null&&L!==i);if(N===null?E=d:N.next=A,!pn(d,t.memoizedState)&&(Mt=!0,Y&&(a=za,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Hf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);pn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function zg(t,i,a){var l=Ne,h=_t(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!pn((Qe||h).memoizedState,a);if(E&&(h.memoizedState=a,Mt=!0),h=h.queue,Kf(Fg.bind(null,l,h,t),[t]),h.getSnapshot!==i||E||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,Hg.bind(null,l,h,a,i),{destroy:void 0},null),Je===null)throw Error(s(349));d||(Mr&60)!==0||qg(l,i,a)}return a}function qg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=ac(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Hg(t,i,a,l){i.value=a,i.getSnapshot=l,Gg(i)&&Kg(t)}function Fg(t,i,a){return a(function(){Gg(i)&&Kg(t)})}function Gg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function Kg(t){var i=Or(t,2);i!==null&&sn(i,t,2)}function Ff(t){var i=cn();if(typeof t=="function"){var a=t;if(t=a(),Us){Xn(!0);try{a()}finally{Xn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},i}function $g(t,i,a,l){return t.baseState=a,qf(t,Qe,typeof l=="function"?l:Bi)}function pA(t,i,a,l,h){if(hc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};b.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Qg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Qg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=b.T,E={};b.T=E;try{var A=a(h,l),N=b.S;N!==null&&N(E,A),Yg(t,i,A)}catch(L){Gf(t,i,L)}finally{b.T=d}}else try{d=a(h,l),Yg(t,i,d)}catch(L){Gf(t,i,L)}}function Yg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Xg(t,i,l)},function(l){return Gf(t,i,l)}):Xg(t,i,a)}function Xg(t,i,a){i.status="fulfilled",i.value=a,Wg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Qg(t,a)))}function Gf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Wg(i),i=i.next;while(i!==l)}t.action=null}function Wg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Zg(t,i){return i}function Jg(t,i){if(Fe){var a=Je.formState;if(a!==null){e:{var l=Ne;if(Fe){if(Bt){t:{for(var h=Bt,d=oi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Bt=Fn(h.nextSibling),l=h.data==="F!";break e}}js(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:i},a.queue=l,a=yy.bind(null,Ne,l),l.dispatch=a,l=Ff(!1),d=Wf.bind(null,Ne,!1,l.queue),l=cn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=pA.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ey(t){var i=_t();return ty(i,Qe,t)}function ty(t,i,a){i=qf(t,i,Zg)[0],t=lc(Bi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?hl(i):i;var l=_t(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ne.flags|=2048,Fa(9,gA.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function gA(t,i){t.action=i}function ny(t){var i=_t(),a=Qe;if(a!==null)return ty(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Fa(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=Ne.updateQueue,i===null&&(i=ac(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function iy(){return _t().memoizedState}function uc(t,i,a,l){var h=cn();Ne.flags|=t,h.memoizedState=Fa(1|i,a,{destroy:void 0},l===void 0?null:l)}function cc(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Qe!==null&&l!==null&&jf(l,Qe.memoizedState.deps)?h.memoizedState=Fa(i,a,d,l):(Ne.flags|=t,h.memoizedState=Fa(1|i,a,d,l))}function ry(t,i){uc(8390656,8,t,i)}function Kf(t,i){cc(2048,8,t,i)}function sy(t,i){return cc(4,2,t,i)}function ay(t,i){return cc(4,4,t,i)}function oy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ly(t,i,a){a=a!=null?a.concat([t]):null,cc(4,4,oy.bind(null,i,t),a)}function $f(){}function uy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&jf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function cy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&jf(i,l[1]))return l[0];if(l=t(),Us){Xn(!0);try{t()}finally{Xn(!1)}}return a.memoizedState=[l,i],l}function Qf(t,i,a){return a===void 0||(Mr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=f_(),Ne.lanes|=t,Gr|=t,a)}function hy(t,i,a,l){return pn(a,i)?a:Ua.current!==null?(t=Qf(t,a,l),pn(t,i)||(Mt=!0),t):(Mr&42)===0?(Mt=!0,t.memoizedState=a):(t=f_(),Ne.lanes|=t,Gr|=t,i)}function fy(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var E=b.T,A={};b.T=A,Wf(t,!1,i,a);try{var N=h(),L=b.S;if(L!==null&&L(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=fA(N,l);fl(t,i,Y,vn(t))}else fl(t,i,l,vn(t))}catch(se){fl(t,i,{then:function(){},status:"rejected",reason:se},vn())}finally{le.p=d,b.T=E}}function yA(){}function Yf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=dy(t).queue;fy(t,h,i,_e,a===null?yA:function(){return my(t),a(l)})}function dy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:_e},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function my(t){var i=dy(t).next.queue;fl(t,i,{},vn())}function Xf(){return $t(Ol)}function py(){return _t().memoizedState}function gy(){return _t().memoizedState}function _A(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();t=Ur(a);var l=Br(i,t,a);l!==null&&(sn(l,i,a),pl(l,i,a)),i={cache:kf()},t.payload=i;return}i=i.return}}function vA(t,i,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},hc(t)?_y(i,a):(a=Rf(t,i,a,l),a!==null&&(sn(a,t,l),vy(a,i,l)))}function yy(t,i,a){var l=vn();fl(t,i,a,l)}function fl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(t))_y(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,A=d(E,a);if(h.hasEagerState=!0,h.eagerState=A,pn(A,E))return Qu(t,i,h,0),Je===null&&$u(),!1}catch{}finally{}if(a=Rf(t,i,h,l),a!==null)return sn(a,t,l),vy(a,i,l),!0}return!1}function Wf(t,i,a,l){if(l={lane:2,revertLane:Bd(),action:l,hasEagerState:!1,eagerState:null,next:null},hc(t)){if(i)throw Error(s(479))}else i=Rf(t,a,l,2),i!==null&&sn(i,t,2)}function hc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function _y(t,i){qa=rc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function vy(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,br(t,a)}}var ui={readContext:$t,use:oc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt};ui.useCacheRefresh=pt,ui.useMemoCache=pt,ui.useHostTransitionStatus=pt,ui.useFormState=pt,ui.useActionState=pt,ui.useOptimistic=pt;var Bs={readContext:$t,use:oc,useCallback:function(t,i){return cn().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:ry,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,uc(4194308,4,oy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return uc(4194308,4,t,i)},useInsertionEffect:function(t,i){uc(4,2,t,i)},useMemo:function(t,i){var a=cn();i=i===void 0?null:i;var l=t();if(Us){Xn(!0);try{t()}finally{Xn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=cn();if(a!==void 0){var h=a(i);if(Us){Xn(!0);try{a(i)}finally{Xn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=vA.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=cn();return t={current:t},i.memoizedState=t},useState:function(t){t=Ff(t);var i=t.queue,a=yy.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(t,i){var a=cn();return Qf(a,t,i)},useTransition:function(){var t=Ff(!1);return t=fy.bind(null,Ne,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=cn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Be&60)!==0||qg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ry(Fg.bind(null,l,d,t),[t]),l.flags|=2048,Fa(9,Hg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=cn(),i=Je.identifierPrefix;if(Fe){var a=Li,l=Pi;a=(l&~(1<<32-en(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=sc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=dA++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return cn().memoizedState=_A.bind(null,Ne)}};Bs.useMemoCache=zf,Bs.useHostTransitionStatus=Xf,Bs.useFormState=Jg,Bs.useActionState=Jg,Bs.useOptimistic=function(t){var i=cn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Wf.bind(null,Ne,!0,a),a.dispatch=i,[t,i]};var jr={readContext:$t,use:oc,useCallback:uy,useContext:$t,useEffect:Kf,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:ay,useMemo:cy,useReducer:lc,useRef:iy,useState:function(){return lc(Bi)},useDebugValue:$f,useDeferredValue:function(t,i){var a=_t();return hy(a,Qe.memoizedState,t,i)},useTransition:function(){var t=lc(Bi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:zg,useId:py};jr.useCacheRefresh=gy,jr.useMemoCache=zf,jr.useHostTransitionStatus=Xf,jr.useFormState=ey,jr.useActionState=ey,jr.useOptimistic=function(t,i){var a=_t();return $g(a,Qe,t,i)};var zs={readContext:$t,use:oc,useCallback:uy,useContext:$t,useEffect:Kf,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:ay,useMemo:cy,useReducer:Hf,useRef:iy,useState:function(){return Hf(Bi)},useDebugValue:$f,useDeferredValue:function(t,i){var a=_t();return Qe===null?Qf(a,t,i):hy(a,Qe.memoizedState,t,i)},useTransition:function(){var t=Hf(Bi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:zg,useId:py};zs.useCacheRefresh=gy,zs.useMemoCache=zf,zs.useHostTransitionStatus=Xf,zs.useFormState=ny,zs.useActionState=ny,zs.useOptimistic=function(t,i){var a=_t();return Qe!==null?$g(a,Qe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Zf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:I({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Jf={isMounted:function(t){return(t=t._reactInternals)?he(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=vn(),h=Ur(l);h.payload=i,a!=null&&(h.callback=a),i=Br(t,h,l),i!==null&&(sn(i,t,l),pl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=vn(),h=Ur(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Br(t,h,l),i!==null&&(sn(i,t,l),pl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=vn(),l=Ur(a);l.tag=2,i!=null&&(l.callback=i),i=Br(t,l,a),i!==null&&(sn(i,t,a),pl(i,t,a))}};function Ey(t,i,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!Jo(a,l)||!Jo(h,d):!0}function Ty(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Jf.enqueueReplaceState(i,i.state,null)}function qs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function by(t){fc(t)}function Ay(t){console.error(t)}function Sy(t){fc(t)}function dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function wy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ed(t,i,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(t,i)},a}function Ry(t){return t=Ur(t),t.tag=3,t}function Cy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){wy(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){wy(i,a,l),typeof h!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function EA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ml(i,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 13:return li===null?Md():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===xf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Pd(t,l,h)),!1;case 22:return a.flags|=65536,l===xf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Pd(t,l,h)),!1}throw Error(s(435,a.tag))}return Pd(t,l,h),Md(),!1}if(Fe)return i=kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Nf&&(t=Error(s(422),{cause:l}),il(xn(t,a)))):(l!==Nf&&(i=Error(s(423),{cause:l}),il(xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=ed(t.stateNode,l,h),pd(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),Al===null?Al=[d]:Al.push(d),ht!==4&&(ht=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ed(a.stateNode,l,t),pd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Kr===null||!Kr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ry(h),Cy(h,t,a,l),pd(a,h),!1}a=a.return}while(a!==null);return!1}var Iy=Error(s(461)),Mt=!1;function zt(t,i,a,l){i.child=t===null?kg(i,null,a,l):Ps(i,t.child,a,l)}function Ny(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var A in l)A!=="ref"&&(E[A]=l[A])}else E=l;return Fs(i),l=Pf(t,i,a,E,d,h),A=Lf(),t!==null&&!Mt?(Uf(t,i,h),zi(t,i,h)):(Fe&&A&&Cf(i),i.flags|=1,zt(t,i,l,h),i.child)}function xy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ad(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Dy(t,i,d,l,h)):(t=_c(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ud(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(E,l)&&t.ref===i.ref)return zi(t,i,h)}return i.flags|=1,t=Fr(d,l),t.ref=i.ref,t.return=i,i.child=t}function Dy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Jo(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,ud(t,h))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,zi(t,i,h)}return td(t,i,a,l,h)}function Oy(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,E=t!==null?t.memoizedState:null;if(dl(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=E!==null?E.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ky(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ic(i,E!==null?E.cachePool:null),E!==null?Vg(i,E):Df(),Mg(i);else return i.lanes=i.childLanes=536870912,ky(t,i,E!==null?E.baseLanes|a:a,a)}else E!==null?(ic(i,E.cachePool),Vg(i,E),Vr(),i.memoizedState=null):(t!==null&&ic(i,null),Df(),Vr());return zt(t,i,h,a),i.child}function ky(t,i,a,l){var h=Mf();return h=h===null?null:{parent:Ct._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&ic(i,null),Df(),Mg(i),t!==null&&ml(t,i,l,!0),null}function dl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function td(t,i,a,l,h){return Fs(i),a=Pf(t,i,a,l,void 0,h),l=Lf(),t!==null&&!Mt?(Uf(t,i,h),zi(t,i,h)):(Fe&&l&&Cf(i),i.flags|=1,zt(t,i,a,h),i.child)}function Vy(t,i,a,l,h,d){return Fs(i),i.updateQueue=null,a=Bg(i,l,a,h),Ug(t),l=Lf(),t!==null&&!Mt?(Uf(t,i,d),zi(t,i,d)):(Fe&&l&&Cf(i),i.flags|=1,zt(t,i,a,d),i.child)}function My(t,i,a,l,h){if(Fs(i),i.stateNode===null){var d=Ma,E=a.contextType;typeof E=="object"&&E!==null&&(d=$t(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},dd(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?$t(E):Ma,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Zf(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Jf.enqueueReplaceState(d,d.state,null),yl(i,l,d,h),gl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,N=qs(a,A);d.props=N;var L=d.context,Y=a.contextType;E=Ma,typeof Y=="object"&&Y!==null&&(E=$t(Y));var se=a.getDerivedStateFromProps;Y=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||L!==E)&&Ty(i,d,l,E),Lr=!1;var K=i.memoizedState;d.state=K,yl(i,l,d,h),gl(),L=i.memoizedState,A||K!==L||Lr?(typeof se=="function"&&(Zf(i,a,se,l),L=i.memoizedState),(N=Lr||Ey(i,a,N,l,K,L,E))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=E,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,md(t,i),E=i.memoizedProps,Y=qs(a,E),d.props=Y,se=i.pendingProps,K=d.context,L=a.contextType,N=Ma,typeof L=="object"&&L!==null&&(N=$t(L)),A=a.getDerivedStateFromProps,(L=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==se||K!==N)&&Ty(i,d,l,N),Lr=!1,K=i.memoizedState,d.state=K,yl(i,l,d,h),gl();var Q=i.memoizedState;E!==se||K!==Q||Lr||t!==null&&t.dependencies!==null&&mc(t.dependencies)?(typeof A=="function"&&(Zf(i,a,A,l),Q=i.memoizedState),(Y=Lr||Ey(i,a,Y,l,K,Q,N)||t!==null&&t.dependencies!==null&&mc(t.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=Y):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,dl(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ps(i,t.child,null,h),i.child=Ps(i,null,a,h)):zt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=zi(t,i,h),t}function jy(t,i,a,l){return nl(),i.flags|=256,zt(t,i,a,l),i.child}var nd={dehydrated:null,treeContext:null,retryLane:0};function id(t){return{baseLanes:t,cachePool:Lg()}}function rd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Pn),t}function Py(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?kr(i):Vr(),Fe){var A=Bt,N;if(N=A){e:{for(N=A,A=oi;N.nodeType!==8;){if(!A){A=null;break e}if(N=Fn(N.nextSibling),N===null){A=null;break e}}A=N}A!==null?(i.memoizedState={dehydrated:A,treeContext:Vs!==null?{id:Pi,overflow:Li}:null,retryLane:536870912},N=jn(18,null,null,0),N.stateNode=A,N.return=i,i.child=N,rn=i,Bt=null,N=!0):N=!1}N||js(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ui(i)}return A=l.children,l=l.fallback,h?(Vr(),h=i.mode,A=ad({mode:"hidden",children:A},h),l=Ks(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=id(a),h.childLanes=rd(t,E,a),i.memoizedState=nd,l):(kr(i),sd(i,A))}if(N=t.memoizedState,N!==null&&(A=N.dehydrated,A!==null)){if(d)i.flags&256?(kr(i),i.flags&=-257,i=od(t,i,a)):i.memoizedState!==null?(Vr(),i.child=t.child,i.flags|=128,i=null):(Vr(),h=l.fallback,A=i.mode,l=ad({mode:"visible",children:l.children},A),h=Ks(h,A,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ps(i,t.child,null,a),l=i.child,l.memoizedState=id(a),l.childLanes=rd(t,E,a),i.memoizedState=nd,i=h);else if(kr(i),A.data==="$!"){if(E=A.nextSibling&&A.nextSibling.dataset,E)var L=E.dgst;E=L,l=Error(s(419)),l.stack="",l.digest=E,il({value:l,source:null,stack:null}),i=od(t,i,a)}else if(Mt||ml(t,i,a,!1),E=(a&t.childLanes)!==0,Mt||E){if(E=Je,E!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane)throw N.retryLane=l,Or(t,l),sn(E,t,l),Iy}A.data==="$?"||Md(),i=od(t,i,a)}else A.data==="$?"?(i.flags|=128,i.child=t.child,i=MA.bind(null,t),A._reactRetry=i,i=null):(t=N.treeContext,Bt=Fn(A.nextSibling),rn=i,Fe=!0,qn=null,oi=!1,t!==null&&(Dn[On++]=Pi,Dn[On++]=Li,Dn[On++]=Vs,Pi=t.id,Li=t.overflow,Vs=i),i=sd(i,l.children),i.flags|=4096);return i}return h?(Vr(),h=l.fallback,A=i.mode,N=t.child,L=N.sibling,l=Fr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&31457280,L!==null?h=Fr(L,h):(h=Ks(h,A,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=id(a):(N=A.cachePool,N!==null?(L=Ct._currentValue,N=N.parent!==L?{parent:L,pool:L}:N):N=Lg(),A={baseLanes:A.baseLanes|a,cachePool:N}),h.memoizedState=A,h.childLanes=rd(t,E,a),i.memoizedState=nd,l):(kr(i),a=t.child,t=a.sibling,a=Fr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function sd(t,i){return i=ad({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ad(t,i){return u_(t,i,0,null)}function od(t,i,a){return Ps(i,t.child,null,a),t=sd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ly(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),hd(t.return,i,a)}function ld(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Uy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(zt(t,i,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ly(t,a,i);else if(t.tag===19)Ly(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(qe(Rt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&nc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ld(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&nc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ld(i,!0,a,null,d);break;case"together":ld(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Gr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ml(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Fr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Fr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ud(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&mc(t)))}function TA(t,i,a){switch(i.tag){case 3:gr(i,i.stateNode.containerInfo),Pr(i,Ct,t.memoizedState.cache),nl();break;case 27:case 5:Oo(i);break;case 4:gr(i,i.stateNode.containerInfo);break;case 10:Pr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Py(t,i,a):(kr(i),t=zi(t,i,a),t!==null?t.sibling:null);kr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ml(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Uy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),qe(Rt,Rt.current),l)break;return null;case 22:case 23:return i.lanes=0,Oy(t,i,a);case 24:Pr(i,Ct,t.memoizedState.cache)}return zi(t,i,a)}function By(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!ud(t,a)&&(i.flags&128)===0)return Mt=!1,TA(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,Fe&&(i.flags&1048576)!==0&&Sg(i,Wu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Ad(l)?(t=qs(l,t),i.tag=1,i=My(null,i,l,t,a)):(i.tag=0,i=td(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===O){i.tag=11,i=Ny(null,i,l,t,a);break e}else if(h===G){i.tag=14,i=xy(null,i,l,t,a);break e}}throw i=S(l)||l,Error(s(306,i,""))}}return i;case 0:return td(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=qs(l,i.pendingProps),My(t,i,l,h,a);case 3:e:{if(gr(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,md(t,i),yl(i,d,null,a);var E=i.memoizedState;if(d=E.cache,Pr(i,Ct,d),d!==h.cache&&fd(i,[Ct],a,!0),gl(),d=E.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=jy(t,i,d,a);break e}else if(d!==l){l=xn(Error(s(424)),i),il(l),i=jy(t,i,d,a);break e}else for(Bt=Fn(i.stateNode.containerInfo.firstChild),rn=i,Fe=!0,qn=null,oi=!0,a=kg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(nl(),d===l){i=zi(t,i,a);break e}zt(t,i,d,a)}i=i.child}return i;case 26:return dl(t,i),t===null?(a=H_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=xc(bn.current).createElement(a),l[Ot]=i,l[At]=t,qt(l,a,t),rt(l),i.stateNode=l):i.memoizedState=H_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Oo(i),t===null&&Fe&&(l=i.stateNode=B_(i.type,i.pendingProps,bn.current),rn=i,oi=!0,Bt=Fn(l.firstChild)),l=i.pendingProps.children,t!==null||Fe?zt(t,i,l,a):i.child=Ps(i,null,l,a),dl(t,i),i.child;case 5:return t===null&&Fe&&((h=l=Bt)&&(l=WA(l,i.type,i.pendingProps,oi),l!==null?(i.stateNode=l,rn=i,Bt=Fn(l.firstChild),oi=!1,h=!0):h=!1),h||js(i)),Oo(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Yd(h,d)?l=null:E!==null&&Yd(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Pf(t,i,mA,null,null,a),Ol._currentValue=h),dl(t,i),zt(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=Bt)&&(a=ZA(a,i.pendingProps,oi),a!==null?(i.stateNode=a,rn=i,Bt=null,t=!0):t=!1),t||js(i)),null;case 13:return Py(t,i,a);case 4:return gr(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ps(i,null,l,a):zt(t,i,l,a),i.child;case 11:return Ny(t,i,i.type,i.pendingProps,a);case 7:return zt(t,i,i.pendingProps,a),i.child;case 8:return zt(t,i,i.pendingProps.children,a),i.child;case 12:return zt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Pr(i,i.type,l.value),zt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Fs(i),h=$t(h),l=l(h),i.flags|=1,zt(t,i,l,a),i.child;case 14:return xy(t,i,i.type,i.pendingProps,a);case 15:return Dy(t,i,i.type,i.pendingProps,a);case 19:return Uy(t,i,a);case 22:return Oy(t,i,a);case 24:return Fs(i),l=$t(Ct),t===null?(h=Mf(),h===null&&(h=Je,d=kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},dd(i),Pr(i,Ct,h)):((t.lanes&a)!==0&&(md(t,i),yl(i,null,null,a),gl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Pr(i,Ct,l)):(l=d.cache,Pr(i,Ct,l),l!==h.cache&&fd(i,[Ct],a,!0))),zt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var cd=Me(null),Hs=null,qi=null;function Pr(t,i,a){qe(cd,i._currentValue),i._currentValue=a}function Hi(t){t._currentValue=cd.current,it(cd)}function hd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function fd(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var N=0;N<i.length;N++)if(A.context===i[N]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),hd(d.return,a,t),l||(E=null);break e}d=A.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),hd(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function ml(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var A=h.type;pn(h.pendingProps.value,E.value)||(t!==null?t.push(A):t=[A])}}else if(h===pr.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}h=h.return}t!==null&&fd(i,t,a,l),i.flags|=262144}function mc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){Hs=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return zy(Hs,t)}function pc(t,i){return Hs===null&&Fs(t),zy(t,i)}function zy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(t===null)throw Error(s(308));qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else qi=qi.next=i;return a}var Lr=!1;function dd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Br(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(at&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(t),bg(t,null,a),i}return Qu(t,l,i,a),Yu(t)}function pl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,br(t,a)}}function pd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var gd=!1;function gl(){if(gd){var t=za;if(t!==null)throw t}}function yl(t,i,a,l){gd=!1;var h=t.updateQueue;Lr=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var N=A,L=N.next;N.next=null,E===null?d=L:E.next=L,E=N;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==E&&(A===null?Y.firstBaseUpdate=L:A.next=L,Y.lastBaseUpdate=N))}if(d!==null){var se=h.baseState;E=0,Y=L=N=null,A=d;do{var K=A.lane&-536870913,Q=K!==A.lane;if(Q?(Be&K)===K:(l&K)===K){K!==0&&K===Ba&&(gd=!0),Y!==null&&(Y=Y.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ge=t,Re=A;K=i;var ft=a;switch(Re.tag){case 1:if(ge=Re.payload,typeof ge=="function"){se=ge.call(ft,se,K);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Re.payload,K=typeof ge=="function"?ge.call(ft,se,K):ge,K==null)break e;se=I({},se,K);break e;case 2:Lr=!0}}K=A.callback,K!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(L=Y=Q,N=se):Y=Y.next=Q,E|=K;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Y===null&&(N=se),h.baseState=N,h.firstBaseUpdate=L,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Gr|=E,t.lanes=E,t.memoizedState=se}}function qy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Hy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qy(a[t],i)}function _l(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(A){We(i,i.return,A)}}function zr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,h=i;var N=a;try{A()}catch(L){We(h,N,L)}}}l=l.next}while(l!==d)}}catch(L){We(i,i.return,L)}}function Fy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Hy(i,a)}catch(l){We(t,t.return,l)}}}function Gy(t,i,a){a.props=qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function Gs(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){We(t,i,d)}}function gn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function Ky(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function $y(t,i,a){try{var l=t.stateNode;KA(l,t.type,a,i),l[At]=i}catch(h){We(t,t.return,h)}}function Qy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _d(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Nc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(_d(t,i,a),t=t.sibling;t!==null;)_d(t,i,a),t=t.sibling}function gc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(gc(t,i,a),t=t.sibling;t!==null;)gc(t,i,a),t=t.sibling}var Fi=!1,ct=!1,vd=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,jt=null,Xy=!1;function bA(t,i){if(t=t.containerInfo,$d=jc,t=dg(t),Tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,A=-1,N=-1,L=0,Y=0,se=t,K=null;t:for(;;){for(var Q;se!==a||h!==0&&se.nodeType!==3||(A=E+h),se!==d||l!==0&&se.nodeType!==3||(N=E+l),se.nodeType===3&&(E+=se.nodeValue.length),(Q=se.firstChild)!==null;)K=se,se=Q;for(;;){if(se===t)break t;if(K===a&&++L===h&&(A=E),K===d&&++Y===l&&(N=E),(Q=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=Q}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:t,selectionRange:a},jc=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ge=qs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ge,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Re){We(a,a.return,Re)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}return ge=Xy,Xy=!1,ge}function Wy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(t,a),l&4&&_l(5,a);break;case 1:if(Ki(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(A){We(a,a.return,A)}else{var h=qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(A){We(a,a.return,A)}}l&64&&Fy(a),l&512&&Gs(a,a.return);break;case 3:if(Ki(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Hy(l,t)}catch(A){We(a,a.return,A)}}break;case 26:Ki(t,a),l&512&&Gs(a,a.return);break;case 27:case 5:Ki(t,a),i===null&&l&4&&Ky(a),l&512&&Gs(a,a.return);break;case 12:Ki(t,a);break;case 13:Ki(t,a),l&4&&e_(t,a);break;case 22:if(h=a.memoizedState!==null||Fi,!h){i=i!==null&&i.memoizedState!==null||ct;var d=Fi,E=ct;Fi=h,(ct=i)&&!E?qr(t,a,(a.subtreeFlags&8772)!==0):Ki(t,a),Fi=d,ct=E}l&512&&(a.memoizedProps.mode==="manual"?Gs(a,a.return):gn(a,a.return));break;default:Ki(t,a)}}function Zy(t){var i=t.alternate;i!==null&&(t.alternate=null,Zy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ts(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,yn=!1;function Gi(t,i,a){for(a=a.child;a!==null;)Jy(t,i,a),a=a.sibling}function Jy(t,i,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(yr,a)}catch{}switch(a.tag){case 26:ct||gn(a,i),Gi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||gn(a,i);var l=vt,h=yn;for(vt=a.stateNode,Gi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Ts(a),vt=l,yn=h;break;case 5:ct||gn(a,i);case 6:h=vt;var d=yn;if(vt=null,Gi(t,i,a),vt=h,yn=d,vt!==null)if(yn)try{t=vt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(E){We(a,i,E)}else try{vt.removeChild(a.stateNode)}catch(E){We(a,i,E)}break;case 18:vt!==null&&(yn?(i=vt,a=a.stateNode,i.nodeType===8?Wd(i.parentNode,a):i.nodeType===1&&Wd(i,a),jl(i)):Wd(vt,a.stateNode));break;case 4:l=vt,h=yn,vt=a.stateNode.containerInfo,yn=!0,Gi(t,i,a),vt=l,yn=h;break;case 0:case 11:case 14:case 15:ct||zr(2,a,i),ct||zr(4,a,i),Gi(t,i,a);break;case 1:ct||(gn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Gy(a,i,l)),Gi(t,i,a);break;case 21:Gi(t,i,a);break;case 22:ct||gn(a,i),ct=(l=ct)||a.memoizedState!==null,Gi(t,i,a),ct=l;break;default:Gi(t,i,a)}}function e_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(a){We(i,i.return,a)}}function AA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Yy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Yy),i;default:throw Error(s(435,t.tag))}}function Ed(t,i){var a=AA(t);i.forEach(function(l){var h=jA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Vn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 27:case 5:vt=A.stateNode,yn=!1;break e;case 3:vt=A.stateNode.containerInfo,yn=!0;break e;case 4:vt=A.stateNode.containerInfo,yn=!0;break e}A=A.return}if(vt===null)throw Error(s(160));Jy(d,E,h),vt=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)t_(i,t),i=i.sibling}var Hn=null;function t_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(i,t),Mn(t),l&4&&(zr(3,t,t.return),_l(3,t),zr(5,t,t.return));break;case 1:Vn(i,t),Mn(t),l&512&&(ct||a===null||gn(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(Vn(i,t),Mn(t),l&512&&(ct||a===null||gn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Sr]||d[Ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[Ot]=t,rt(d),l=d;break e;case"link":var E=K_("link","href",h).get(l+(a.href||""));if(E){for(var A=0;A<E.length;A++)if(d=E[A],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(A,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(E=K_("meta","content",h).get(l+(a.content||""))){for(A=0;A<E.length;A++)if(d=E[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(A,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ot]=t,rt(d),l=d}t.stateNode=l}else $_(h,t.type,t.stateNode);else t.stateNode=G_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?$_(h,t.type,t.stateNode):G_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$y(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var N=h.firstChild;N;){var L=N.nextSibling,Y=N.nodeName;N[Sr]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&N.rel.toLowerCase()==="stylesheet"||h.removeChild(N),N=L}for(var se=t.type,K=h.attributes;K.length;)h.removeAttributeNode(K[0]);qt(h,se,d),h[Ot]=t,h[At]=d}catch(ge){We(t,t.return,ge)}}case 5:if(Vn(i,t),Mn(t),l&512&&(ct||a===null||gn(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(ge){We(t,t.return,ge)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,$y(t,h,a!==null?a.memoizedProps:h)),l&1024&&(vd=!0);break;case 6:if(Vn(i,t),Mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ge){We(t,t.return,ge)}}break;case 3:if(kc=null,h=Hn,Hn=Dc(i.containerInfo),Vn(i,t),Hn=h,Mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(i.containerInfo)}catch(ge){We(t,t.return,ge)}vd&&(vd=!1,n_(t));break;case 4:l=Hn,Hn=Dc(t.stateNode.containerInfo),Vn(i,t),Mn(t),Hn=l;break;case 12:Vn(i,t),Mn(t);break;case 13:Vn(i,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nd=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ed(t,l)));break;case 22:if(l&512&&(ct||a===null||gn(a,a.return)),N=t.memoizedState!==null,L=a!==null&&a.memoizedState!==null,Y=Fi,se=ct,Fi=Y||N,ct=se||L,Vn(i,t),ct=se,Fi=Y,Mn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=N?i._visibility&-2:i._visibility|1,N&&(i=Fi||ct,a===null||L||i||Ga(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(h=L.stateNode,N)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{E=L.stateNode,A=L.memoizedProps.style;var Q=A!=null&&A.hasOwnProperty("display")?A.display:null;E.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ge){We(L,L.return,ge)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=N?"":L.memoizedProps}catch(ge){We(L,L.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ed(t,a))));break;case 19:Vn(i,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ed(t,l)));break;case 21:break;default:Vn(i,t),Mn(t)}}function Mn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Qy(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=yd(t);gc(t,d,h);break;case 5:var E=l.stateNode;l.flags&32&&(wn(E,""),l.flags&=-33);var A=yd(t);gc(t,A,E);break;case 3:case 4:var N=l.stateNode.containerInfo,L=yd(t);_d(t,L,N);break;default:throw Error(s(161))}}}catch(Y){We(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function n_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;n_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ki(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Wy(t,i.alternate,i),i=i.sibling}function Ga(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:zr(4,i,i.return),Ga(i);break;case 1:gn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Gy(i,i.return,a),Ga(i);break;case 26:case 27:case 5:gn(i,i.return),Ga(i);break;case 22:gn(i,i.return),i.memoizedState===null&&Ga(i);break;default:Ga(i)}t=t.sibling}}function qr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:qr(h,d,a),_l(4,d);break;case 1:if(qr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){We(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)qy(N[h],A)}catch(L){We(l,l.return,L)}}a&&E&64&&Fy(d),Gs(d,d.return);break;case 26:case 27:case 5:qr(h,d,a),a&&l===null&&E&4&&Ky(d),Gs(d,d.return);break;case 12:qr(h,d,a);break;case 13:qr(h,d,a),a&&E&4&&e_(h,d);break;case 22:d.memoizedState===null&&qr(h,d,a),Gs(d,d.return);break;default:qr(h,d,a)}i=i.sibling}}function Td(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ll(t))}function Hr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)i_(t,i,a,l),i=i.sibling}function i_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Hr(t,i,a,l),h&2048&&_l(9,i);break;case 3:Hr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ll(t)));break;case 12:if(h&2048){Hr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,A=d.onPostCommit;typeof A=="function"&&A(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(i,i.return,N)}}else Hr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Hr(t,i,a,l):vl(t,i):d._visibility&4?Hr(t,i,a,l):(d._visibility|=4,Ka(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Td(i.alternate,i);break;case 24:Hr(t,i,a,l),h&2048&&bd(i.alternate,i);break;default:Hr(t,i,a,l)}}function Ka(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,A=a,N=l,L=E.flags;switch(E.tag){case 0:case 11:case 15:Ka(d,E,A,N,h),_l(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&4?Ka(d,E,A,N,h):vl(d,E):(Y._visibility|=4,Ka(d,E,A,N,h)),h&&L&2048&&Td(E.alternate,E);break;case 24:Ka(d,E,A,N,h),h&&L&2048&&bd(E.alternate,E);break;default:Ka(d,E,A,N,h)}i=i.sibling}}function vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:vl(a,l),h&2048&&Td(l.alternate,l);break;case 24:vl(a,l),h&2048&&bd(l.alternate,l);break;default:vl(a,l)}i=i.sibling}}var El=8192;function $a(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)r_(t),t=t.sibling}function r_(t){switch(t.tag){case 26:$a(t),t.flags&El&&t.memoizedState!==null&&hS(Hn,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var i=Hn;Hn=Dc(t.stateNode.containerInfo),$a(t),Hn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=El,El=16777216,$a(t),El=i):$a(t));break;default:$a(t)}}function s_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,o_(l,t)}s_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)a_(t),t=t.sibling}function a_(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&zr(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,yc(t)):Tl(t);break;default:Tl(t)}}function yc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,o_(l,t)}s_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:zr(8,i,i.return),yc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,yc(i));break;default:yc(i)}t=t.sibling}}function o_(t,i){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:zr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=t;jt!==null;){l=jt;var h=l.sibling,d=l.return;if(Zy(l),l===a){jt=null;break e}if(h!==null){h.return=d,jt=h;break e}jt=d}}}function SA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,i,a,l){return new SA(t,i,a,l)}function Ad(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fr(t,i){var a=t.alternate;return a===null?(a=jn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function l_(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function _c(t,i,a,l,h,d){var E=0;if(l=t,typeof t=="function")Ad(t)&&(E=1);else if(typeof t=="string")E=uS(t,a,Jt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Ks(a.children,h,d,i);case g:E=8,h|=24;break;case T:return t=jn(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case H:return t=jn(13,a,i,h),t.elementType=H,t.lanes=d,t;case B:return t=jn(19,a,i,h),t.elementType=B,t.lanes=d,t;case X:return u_(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case V:E=10;break e;case C:E=9;break e;case O:E=11;break e;case G:E=14;break e;case W:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=jn(E,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ks(t,i,a,l){return t=jn(7,t,l,i),t.lanes=a,t}function u_(t,i,a,l){t=jn(22,t,l,i),t.elementType=X,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var E=Or(d,2);E!==null&&(h._pendingVisibility|=2,sn(E,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var E=Or(d,2);E!==null&&(h._pendingVisibility&=-3,sn(E,d,2))}}};return t.stateNode=h,t}function Sd(t,i,a){return t=jn(6,t,null,i),t.lanes=a,t}function wd(t,i,a){return i=jn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function $i(t){t.flags|=4}function c_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Q_(i)){if(i=kn.current,i!==null&&((Be&4194176)===Be?li!==null:(Be&62914560)!==Be&&(Be&536870912)===0||i!==li))throw sl=xf,Cg;t.flags|=8192}}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Er():536870912,t.lanes|=i,Ya|=i)}function bl(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function wA(t,i,a){var l=i.pendingProps;switch(If(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(Ct),Ri(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tl(i)?$i(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qn!==null&&(kd(qn),qn=null))),st(i),null;case 26:return a=i.memoizedState,t===null?($i(i),a!==null?(st(i),c_(i,a)):(st(i),i.flags&=-16777217)):a?a!==t.memoizedState?($i(i),st(i),c_(i,a)):(st(i),i.flags&=-16777217):(t.memoizedProps!==l&&$i(i),st(i),i.flags&=-16777217),null;case 27:ma(i),a=bn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=Jt.current,tl(i)?wg(i):(t=B_(h,l,a),i.stateNode=t,$i(i))}return st(i),null;case 5:if(ma(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(t=Jt.current,tl(i))wg(i);else{switch(h=xc(bn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ot]=i,t[At]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$i(i)}}return st(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=bn.current,tl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ot]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||V_(t.nodeValue,a)),t||js(i)}else t=xc(t).createTextNode(l),t[Ot]=i,i.stateNode=t}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=tl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ot]=i}else nl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else qn!==null&&(kd(qn),qn=null),h=!0;if(!h)return i.flags&256?(Ui(i),i):(Ui(i),null)}if(Ui(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),st(i),null;case 4:return Ri(),t===null&&Fd(i.stateNode.containerInfo),st(i),null;case 10:return Hi(i.type),st(i),null;case 19:if(it(Rt),h=i.memoizedState,h===null)return st(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)bl(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=nc(t),d!==null){for(i.flags|=128,bl(h,!1),t=d.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)l_(a,t),a=a.sibling;return qe(Rt,Rt.current&1|2),i.child}t=t.sibling}h.tail!==null&&ln()>Ec&&(i.flags|=128,l=!0,bl(h,!1),i.lanes=4194304)}else{if(!l)if(t=nc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),bl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return st(i),null}else 2*ln()-h.renderingStartTime>Ec&&a!==536870912&&(i.flags|=128,l=!0,bl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=ln(),i.sibling=null,t=Rt.current,qe(Rt,l?t&1|2:t&1),i):(st(i),null);case 22:case 23:return Ui(i),Of(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&it(Ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(Ct),st(i),null;case 25:return null}throw Error(s(156,i.tag))}function RA(t,i){switch(If(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Hi(Ct),Ri(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ma(i),null;case 13:if(Ui(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));nl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return it(Rt),null;case 4:return Ri(),null;case 10:return Hi(i.type),null;case 22:case 23:return Ui(i),Of(),t!==null&&it(Ls),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Hi(Ct),null;case 25:return null;default:return null}}function h_(t,i){switch(If(i),i.tag){case 3:Hi(Ct),Ri();break;case 26:case 27:case 5:ma(i);break;case 4:Ri();break;case 13:Ui(i);break;case 19:it(Rt);break;case 10:Hi(i.type);break;case 22:case 23:Ui(i),Of(),t!==null&&it(Ls);break;case 24:Hi(Ct)}}var CA={getCacheForType:function(t){var i=$t(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},IA=typeof WeakMap=="function"?WeakMap:Map,at=0,Je=null,De=null,Be=0,et=0,_n=null,Qi=!1,Qa=!1,Rd=!1,Yi=0,ht=0,Gr=0,$s=0,Cd=0,Pn=0,Ya=0,Al=null,ci=null,Id=!1,Nd=0,Ec=1/0,Tc=null,Kr=null,bc=!1,Qs=null,Sl=0,xd=0,Dd=null,wl=0,Od=null;function vn(){if((at&2)!==0&&Be!==0)return Be&-Be;if(b.T!==null){var t=Ba;return t!==0?t:Bd()}return Iu()}function f_(){Pn===0&&(Pn=(Be&536870912)===0||Fe?Po():536870912);var t=kn.current;return t!==null&&(t.flags|=32),Pn}function sn(t,i,a){(t===Je&&et===2||t.cancelPendingCommit!==null)&&(Xa(t,0),Xi(t,Be,Pn,!1)),mt(t,a),((at&2)===0||t!==Je)&&(t===Je&&((at&2)===0&&($s|=a),ht===4&&Xi(t,Be,Pn,!1)),hi(t))}function d_(t,i,a){if((at&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||vr(t,i),h=l?DA(t,i):jd(t,i,!0),d=l;do{if(h===0){Qa&&!l&&Xi(t,i,0,!1);break}else if(h===6)Xi(t,i,0,!Qi);else{if(a=t.current.alternate,d&&!NA(a)){h=jd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var A=t;h=Al;var N=A.current.memoizedState.isDehydrated;if(N&&(Xa(A,E).flags|=256),E=jd(A,E,!1),E!==2){if(Rd&&!N){A.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break e}d=ci,ci=h,d!==null&&kd(d)}h=E}if(d=!1,h!==2)continue}}if(h===1){Xa(t,0),Xi(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Xi(l,i,Pn,!Qi);break e}break;case 2:ci=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Nd+300-ln(),10<d)){if(Xi(l,i,Pn,!Qi),An(l,0)!==0)break e;l.timeoutHandle=P_(m_.bind(null,l,a,ci,Tc,Id,i,Pn,$s,Ya,Qi,2,-0,0),d);break e}m_(l,a,ci,Tc,Id,i,Pn,$s,Ya,Qi,0,-0,0)}}break}while(!0);hi(t)}function kd(t){ci===null?ci=t:ci.push.apply(ci,t)}function m_(t,i,a,l,h,d,E,A,N,L,Y,se,K){var Q=i.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:cS},r_(i),i=fS(),i!==null)){t.cancelPendingCommit=i(T_.bind(null,t,a,l,h,E,A,N,1,se,K)),Xi(t,d,E,!L);return}T_(t,a,l,h,E,A,N,Y,se,K)}function NA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xi(t,i,a,l){i&=~Cd,i&=~$s,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-en(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&Tr(t,a,i)}function Ac(){return(at&6)===0?(Rl(0),!1):!0}function Vd(){if(De!==null){if(et===0)var t=De.return;else t=De,qi=Hs=null,Bf(t),La=null,al=0,t=De;for(;t!==null;)h_(t.alternate,t),t=t.return;De=null}}function Xa(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,QA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Vd(),Je=t,De=a=Fr(t.current,null),Be=i,et=0,_n=null,Qi=!1,Qa=vr(t,i),Rd=!1,Ya=Pn=Cd=$s=Gr=ht=0,ci=Al=null,Id=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-en(l),d=1<<h;i|=t[h],l&=~d}return Yi=i,$u(),a}function p_(t,i){Ne=null,b.H=ui,i===rl?(i=xg(),et=3):i===Cg?(i=xg(),et=4):et=i===Iy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,De===null&&(ht=1,dc(t,xn(i,t.current)))}function g_(){var t=b.H;return b.H=ui,t===null?ui:t}function y_(){var t=b.A;return b.A=CA,t}function Md(){ht=4,Qi||(Be&4194176)!==Be&&kn.current!==null||(Qa=!0),(Gr&134217727)===0&&($s&134217727)===0||Je===null||Xi(Je,Be,Pn,!1)}function jd(t,i,a){var l=at;at|=2;var h=g_(),d=y_();(Je!==t||Be!==i)&&(Tc=null,Xa(t,i)),i=!1;var E=ht;e:do try{if(et!==0&&De!==null){var A=De,N=_n;switch(et){case 8:Vd(),E=6;break e;case 3:case 2:case 6:kn.current===null&&(i=!0);var L=et;if(et=0,_n=null,Wa(t,A,N,L),a&&Qa){E=0;break e}break;default:L=et,et=0,_n=null,Wa(t,A,N,L)}}xA(),E=ht;break}catch(Y){p_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,qi=Hs=null,at=l,b.H=h,b.A=d,De===null&&(Je=null,Be=0,$u()),E}function xA(){for(;De!==null;)__(De)}function DA(t,i){var a=at;at|=2;var l=g_(),h=y_();Je!==t||Be!==i?(Tc=null,Ec=ln()+500,Xa(t,i)):Qa=vr(t,i);e:do try{if(et!==0&&De!==null){i=De;var d=_n;t:switch(et){case 1:et=0,_n=null,Wa(t,i,d,1);break;case 2:if(Ig(d)){et=0,_n=null,v_(i);break}i=function(){et===2&&Je===t&&(et=7),hi(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Ig(d)?(et=0,_n=null,v_(i)):(et=0,_n=null,Wa(t,i,d,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var A=De;if(!E||Q_(E)){et=0,_n=null;var N=A.sibling;if(N!==null)De=N;else{var L=A.return;L!==null?(De=L,Sc(L)):De=null}break t}}et=0,_n=null,Wa(t,i,d,5);break;case 6:et=0,_n=null,Wa(t,i,d,6);break;case 8:Vd(),ht=6;break e;default:throw Error(s(462))}}OA();break}catch(Y){p_(t,Y)}while(!0);return qi=Hs=null,b.H=l,b.A=h,at=a,De!==null?0:(Je=null,Be=0,$u(),ht)}function OA(){for(;De!==null&&!cf();)__(De)}function __(t){var i=By(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,i===null?Sc(t):De=i}function v_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Vy(a,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=Vy(a,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Bf(i);default:h_(a,i),i=De=l_(i,Yi),i=By(a,i,Yi)}t.memoizedProps=t.pendingProps,i===null?Sc(t):De=i}function Wa(t,i,a,l){qi=Hs=null,Bf(i),La=null,al=0;var h=i.return;try{if(EA(t,h,i,a,Be)){ht=1,dc(t,xn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ht=1,dc(t,xn(a,t.current)),De=null;return}i.flags&32768?(Fe||l===1?t=!0:Qa||(Be&536870912)!==0?t=!1:(Qi=t=!0,(l===2||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),E_(i,t)):Sc(i)}function Sc(t){var i=t;do{if((i.flags&32768)!==0){E_(i,Qi);return}t=i.return;var a=wA(i.alternate,i,Yi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function E_(t,i){do{var a=RA(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function T_(t,i,a,l,h,d,E,A,N,L){var Y=b.T,se=le.p;try{le.p=2,b.T=null,kA(t,i,a,l,se,h,d,E,A,N,L)}finally{b.T=Y,le.p=se}}function kA(t,i,a,l,h,d,E,A){do Za();while(Qs!==null);if((at&6)!==0)throw Error(s(327));var N=t.finishedWork;if(l=t.finishedLanes,N===null)return null;if(t.finishedWork=null,t.finishedLanes=0,N===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var L=N.lanes|N.childLanes;if(L|=wf,Ru(t,l,L,d,E,A),t===Je&&(De=Je=null,Be=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||bc||(bc=!0,xd=L,Dd=a,PA(Ci,function(){return Za(),null})),a=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||a?(a=b.T,b.T=null,d=le.p,le.p=2,E=at,at|=4,bA(t,N),t_(N,t),iA(Qd,t.containerInfo),jc=!!$d,Qd=$d=null,t.current=N,Wy(t,N.alternate,N),ko(),at=E,le.p=d,b.T=a):t.current=N,bc?(bc=!1,Qs=t,Sl=l):b_(t,L),L=t.pendingLanes,L===0&&(Kr=null),Mo(N.stateNode),hi(t),i!==null)for(h=t.onRecoverableError,N=0;N<i.length;N++)L=i[N],h(L.value,{componentStack:L.stack});return(Sl&3)!==0&&Za(),L=t.pendingLanes,(l&4194218)!==0&&(L&42)!==0?t===Od?wl++:(wl=0,Od=t):wl=0,Rl(0),null}function b_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ll(i)))}function Za(){if(Qs!==null){var t=Qs,i=xd;xd=0;var a=Cu(Sl),l=b.T,h=le.p;try{if(le.p=32>a?32:a,b.T=null,Qs===null)var d=!1;else{a=Dd,Dd=null;var E=Qs,A=Sl;if(Qs=null,Sl=0,(at&6)!==0)throw Error(s(331));var N=at;if(at|=4,a_(E.current),i_(E,E.current,A,a),at=N,Rl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(yr,E)}catch{}d=!0}return d}finally{le.p=h,b.T=l,b_(t,i)}}return!1}function A_(t,i,a){i=xn(a,i),i=ed(t.stateNode,i,2),t=Br(t,i,2),t!==null&&(mt(t,2),hi(t))}function We(t,i,a){if(t.tag===3)A_(t,t,a);else for(;i!==null;){if(i.tag===3){A_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){t=xn(a,t),a=Ry(2),l=Br(i,a,2),l!==null&&(Cy(a,l,i,t),mt(l,2),hi(l));break}}i=i.return}}function Pd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new IA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Rd=!0,h.add(a),t=VA.bind(null,t,i,a),i.then(t,t))}function VA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Be&a)===a&&(ht===4||ht===3&&(Be&62914560)===Be&&300>ln()-Nd?(at&2)===0&&Xa(t,0):Cd|=a,Ya===Be&&(Ya=0)),hi(t)}function S_(t,i){i===0&&(i=Er()),t=Or(t,i),t!==null&&(mt(t,i),hi(t))}function MA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),S_(t,a)}function jA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),S_(t,a)}function PA(t,i){return _s(t,i)}var wc=null,Ja=null,Ld=!1,Rc=!1,Ud=!1,Ys=0;function hi(t){t!==Ja&&t.next===null&&(Ja===null?wc=Ja=t:Ja=Ja.next=t),Rc=!0,Ld||(Ld=!0,UA(LA))}function Rl(t,i){if(!Ud&&Rc){Ud=!0;do for(var a=!1,l=wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-en(42|t)+1)-1,d&=h&~(E&~A),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,C_(l,d))}else d=Be,d=An(l,l===Je?d:0),(d&3)===0||vr(l,d)||(a=!0,C_(l,d));l=l.next}while(a);Ud=!1}}function LA(){Rc=Ld=!1;var t=0;Ys!==0&&($A()&&(t=Ys),Ys=0);for(var i=ln(),a=null,l=wc;l!==null;){var h=l.next,d=w_(l,i);d===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&(Ja=a)):(a=l,(t!==0||(d&3)!==0)&&(Rc=!0)),l=h}Rl(t)}function w_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-en(d),A=1<<E,N=h[E];N===-1?((A&a)===0||(A&l)!==0)&&(h[E]=ya(A,i)):N<=i&&(t.expiredLanes|=A),d&=~A}if(i=Je,a=Be,a=An(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&et===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ga(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||vr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ga(l),Cu(a)){case 2:case 8:a=Dt;break;case 32:a=Ci;break;case 268435456:a=Vo;break;default:a=Ci}return l=R_.bind(null,t),a=_s(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ga(l),t.callbackPriority=2,t.callbackNode=null,2}function R_(t,i){var a=t.callbackNode;if(Za()&&t.callbackNode!==a)return null;var l=Be;return l=An(t,t===Je?l:0),l===0?null:(d_(t,l,i),w_(t,ln()),t.callbackNode!=null&&t.callbackNode===a?R_.bind(null,t):null)}function C_(t,i){if(Za())return null;d_(t,i,!0)}function UA(t){YA(function(){(at&6)!==0?_s(bt,t):t()})}function Bd(){return Ys===0&&(Ys=Po()),Ys}function I_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ei(""+t)}function N_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function BA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=I_((h[At]||null).action),E=l.submitter;E&&(i=(i=E[At]||null)?I_(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var A=new Sa("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ys!==0){var N=E?N_(h,E):new FormData(h);Yf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(A.preventDefault(),N=E?N_(h,E):new FormData(h),Yf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var zd=0;zd<Tg.length;zd++){var qd=Tg[zd],zA=qd.toLowerCase(),qA=qd[0].toUpperCase()+qd.slice(1);zn(zA,"on"+qA)}zn(gg,"onAnimationEnd"),zn(yg,"onAnimationIteration"),zn(_g,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(sA,"onTransitionRun"),zn(aA,"onTransitionStart"),zn(oA,"onTransitionCancel"),zn(vg,"onTransitionEnd"),un("onMouseEnter",["mouseout","mouseover"]),un("onMouseLeave",["mouseout","mouseover"]),un("onPointerEnter",["pointerout","pointerover"]),un("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function x_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var A=l[E],N=A.instance,L=A.currentTarget;if(A=A.listener,N!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=L;try{d(h)}catch(Y){fc(Y)}h.currentTarget=null,d=N}else for(E=0;E<l.length;E++){if(A=l[E],N=A.instance,L=A.currentTarget,A=A.listener,N!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=L;try{d(h)}catch(Y){fc(Y)}h.currentTarget=null,d=N}}}}function je(t,i){var a=i[Es];a===void 0&&(a=i[Es]=new Set);var l=t+"__bubble";a.has(l)||(D_(i,t,2,!1),a.add(l))}function Hd(t,i,a){var l=0;i&&(l|=4),D_(a,t,l,i)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[Cc]){t[Cc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(HA.has(a)||Hd(a,!1,t),Hd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Cc]||(i[Cc]=!0,Hd("selectionchange",!1,i))}}function D_(t,i,a,l){switch(ev(i)){case 2:var h=pS;break;case 8:h=gS;break;default:h=im}a=h.bind(null,i,a,t),h=void 0,!Cn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Gd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var A=l.stateNode.containerInfo;if(A===h||A.nodeType===8&&A.parentNode===h)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&(N=E.stateNode.containerInfo,N===h||N.nodeType===8&&N.parentNode===h))return;E=E.return}for(;A!==null;){if(E=Bn(A),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=d=E;continue e}A=A.parentNode}}l=l.return}Ou(function(){var L=d,Y=Aa(a),se=[];e:{var K=Eg.get(t);if(K!==void 0){var Q=Sa,ge=t;switch(t){case"keypress":if(ni(a)===0)break e;case"keydown":case"keyup":Q=xa;break;case"focusin":ge="focus",Q=Ca;break;case"focusout":ge="blur",Q=Ca;break;case"beforeblur":case"afterblur":Q=Ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Bu;break;case gg:case yg:case _g:Q=Ia;break;case vg:Q=qu;break;case"scroll":case"scrollend":Q=ku;break;case"wheel":Q=Da;break;case"copy":case"cut":case"paste":Q=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Wo;break;case"toggle":case"beforetoggle":Q=Fu}var Re=(i&4)!==0,ft=!Re&&(t==="scroll"||t==="scrollend"),z=Re?K!==null?K+"Capture":null:K;Re=[];for(var P=L,F;P!==null;){var J=P;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||z===null||(J=ws(P,z),J!=null&&Re.push(Il(P,J,F))),ft)break;P=P.return}0<Re.length&&(K=new Q(K,ge,null,a,Y),se.push({event:K,listeners:Re}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",K&&a!==Rn&&(ge=a.relatedTarget||a.fromElement)&&(Bn(ge)||ge[Ii]))break e;if((Q||K)&&(K=Y.window===Y?Y:(K=Y.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(ge=a.relatedTarget||a.toElement,Q=L,ge=ge?Bn(ge):null,ge!==null&&(ft=he(ge),Re=ge.tag,ge!==ft||Re!==5&&Re!==27&&Re!==6)&&(ge=null)):(Q=null,ge=L),Q!==ge)){if(Re=In,J="onMouseLeave",z="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Re=Wo,J="onPointerLeave",z="onPointerEnter",P="pointer"),ft=Q==null?K:wr(Q),F=ge==null?K:wr(ge),K=new Re(J,P+"leave",Q,a,Y),K.target=ft,K.relatedTarget=F,J=null,Bn(Y)===L&&(Re=new Re(z,P+"enter",ge,a,Y),Re.target=F,Re.relatedTarget=ft,J=Re),ft=J,Q&&ge)t:{for(Re=Q,z=ge,P=0,F=Re;F;F=eo(F))P++;for(F=0,J=z;J;J=eo(J))F++;for(;0<P-F;)Re=eo(Re),P--;for(;0<F-P;)z=eo(z),F--;for(;P--;){if(Re===z||z!==null&&Re===z.alternate)break t;Re=eo(Re),z=eo(z)}Re=null}else Re=null;Q!==null&&O_(se,K,Q,Re,!1),ge!==null&&ft!==null&&O_(se,ft,ge,Re,!0)}}e:{if(K=L?wr(L):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var me=sg;else if(wt(K))if(ag)me=tA;else{me=Jb;var xe=Zb}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?L&&Fo(L.elementType)&&(me=sg):me=eA;if(me&&(me=me(t,L))){ji(se,me,a,Y);break e}xe&&xe(t,K,L),t==="focusout"&&L&&K.type==="number"&&L.memoizedProps.value!=null&&ba(K,"number",K.value)}switch(xe=L?wr(L):window,t){case"focusin":(wt(xe)||xe.contentEditable==="true")&&(Oa=xe,bf=L,el=null);break;case"focusout":el=bf=Oa=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,mg(se,a,Y);break;case"selectionchange":if(rA)break;case"keydown":case"keyup":mg(se,a,Y)}var ve;if(si)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Le?$(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(Le||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Le&&(ve=Ko()):(ti=Y,Dr="value"in ti?ti.value:ti.textContent,Le=!0)),xe=Ic(L,Te),0<xe.length&&(Te=new Yo(Te,t,null,a,Y),se.push({event:Te,listeners:xe}),ve?Te.data=ve:(ve=ce(a),ve!==null&&(Te.data=ve)))),(ve=_?St(t,a):Ue(t,a))&&(Te=Ic(L,"onBeforeInput"),0<Te.length&&(xe=new Yo("onBeforeInput","beforeinput",null,a,Y),se.push({event:xe,listeners:Te}),xe.data=ve)),BA(se,t,L,a,Y)}x_(se,i)})}function Il(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ic(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ws(t,a),h!=null&&l.unshift(Il(t,h,d)),h=ws(t,i),h!=null&&l.push(Il(t,h,d))),t=t.return}return l}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function O_(t,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var A=a,N=A.alternate,L=A.stateNode;if(A=A.tag,N!==null&&N===l)break;A!==5&&A!==26&&A!==27||L===null||(N=L,h?(L=ws(a,d),L!=null&&E.unshift(Il(a,L,N))):h||(L=ws(a,d),L!=null&&E.push(Il(a,L,N)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var FA=/\r\n?/g,GA=/\u0000|\uFFFD/g;function k_(t){return(typeof t=="string"?t:""+t).replace(FA,`
`).replace(GA,"")}function V_(t,i){return i=k_(i),k_(t)===i}function Nc(){}function Ye(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&wn(t,""+l);break;case"className":Ir(t,"class",l);break;case"tabIndex":Ir(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(t,a,l);break;case"style":Du(t,l,d);break;case"data":if(i!=="object"){Ir(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ei(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ye(t,i,"name",h.name,h,null),Ye(t,i,"formEncType",h.formEncType,h,null),Ye(t,i,"formMethod",h.formMethod,h,null),Ye(t,i,"formTarget",h.formTarget,h,null)):(Ye(t,i,"encType",h.encType,h,null),Ye(t,i,"method",h.method,h,null),Ye(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ei(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Nc);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ei(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),Cr(t,"popover",l);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Cr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pf.get(a)||a,Cr(t,a,l))}}function Kd(t,i,a,l,h,d){switch(a){case"style":Du(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[At]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Cr(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,d,E,a,null)}}h&&Ye(t,i,"srcSet",a.srcSet,a,null),l&&Ye(t,i,"src",a.src,a,null);return;case"input":je("invalid",t);var A=d=E=h=null,N=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":E=Y;break;case"checked":N=Y;break;case"defaultChecked":L=Y;break;case"value":d=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Ye(t,i,l,Y,a,null)}}As(t,d,A,N,L,E,h,!1),bs(t);return;case"select":je("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":E=A;break;case"multiple":l=A;default:Ye(t,i,h,A,a,null)}i=d,a=E,t.multiple=!!l,i!=null?He(t,!!l,i,!1):a!=null&&He(t,!!l,a,!0);return;case"textarea":je("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(A=a[E],A!=null))switch(E){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Ye(t,i,E,A,a,null)}xr(t,l,h,d),bs(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,i,N,l,a,null)}return;case"dialog":je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)je(Cl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,L,l,a,null)}return;default:if(Fo(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Kd(t,i,Y,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Ye(t,i,A,l,a,null))}function KA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,A=null,N=null,L=null,Y=null;for(Q in a){var se=a[Q];if(a.hasOwnProperty(Q)&&se!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=se;default:l.hasOwnProperty(Q)||Ye(t,i,Q,null,l,se)}}for(var K in l){var Q=l[K];if(se=a[K],l.hasOwnProperty(K)&&(Q!=null||se!=null))switch(K){case"type":d=Q;break;case"name":h=Q;break;case"checked":L=Q;break;case"defaultChecked":Y=Q;break;case"value":E=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==se&&Ye(t,i,K,Q,l,se)}}Nr(t,E,A,N,L,Y,d,h);return;case"select":Q=E=A=K=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||Ye(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":K=d;break;case"defaultValue":A=d;break;case"multiple":E=d;default:d!==N&&Ye(t,i,h,d,l,N)}i=A,a=E,l=Q,K!=null?He(t,!!a,K,!1):!!l!=!!a&&(i!=null?He(t,!!a,i,!0):He(t,!!a,a?[]:"",!1));return;case"textarea":Q=K=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ye(t,i,A,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":K=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,i,E,h,l,d)}Ss(t,K,Q);return;case"option":for(var ge in a)if(K=a[ge],a.hasOwnProperty(ge)&&K!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:Ye(t,i,ge,null,l,K)}for(N in l)if(K=l[N],Q=a[N],l.hasOwnProperty(N)&&K!==Q&&(K!=null||Q!=null))switch(N){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ye(t,i,N,K,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)K=a[Re],a.hasOwnProperty(Re)&&K!=null&&!l.hasOwnProperty(Re)&&Ye(t,i,Re,null,l,K);for(L in l)if(K=l[L],Q=a[L],l.hasOwnProperty(L)&&K!==Q&&(K!=null||Q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Ye(t,i,L,K,l,Q)}return;default:if(Fo(i)){for(var ft in a)K=a[ft],a.hasOwnProperty(ft)&&K!==void 0&&!l.hasOwnProperty(ft)&&Kd(t,i,ft,void 0,l,K);for(Y in l)K=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||K===Q||K===void 0&&Q===void 0||Kd(t,i,Y,K,l,Q);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&Ye(t,i,z,null,l,K);for(se in l)K=l[se],Q=a[se],!l.hasOwnProperty(se)||K===Q||K==null&&Q==null||Ye(t,i,se,K,l,Q)}var $d=null,Qd=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function M_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Yd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xd=null;function $A(){var t=window.event;return t&&t.type==="popstate"?t===Xd?!1:(Xd=t,!0):(Xd=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,QA=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(t){return L_.resolve(null).then(t).catch(XA)}:P_;function XA(t){setTimeout(function(){throw t})}function Wd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),jl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);jl(i)}function Zd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),Ts(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function WA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Sr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function ZA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function U_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function B_(t,i,a){switch(i=xc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Ln=new Map,z_=new Set;function Dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Wi=le.d;le.d={f:JA,r:eS,D:tS,C:nS,L:iS,m:rS,X:aS,S:sS,M:oS};function JA(){var t=Wi.f(),i=Ac();return t||i}function eS(t){var i=Ni(t);i!==null&&i.tag===5&&i.type==="form"?my(i):Wi.r(t)}var to=typeof document>"u"?null:document;function q_(t,i,a){var l=to;if(l&&typeof i=="string"&&i){var h=ut(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),z_.has(h)||(z_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),rt(i),l.head.appendChild(i)))}}function tS(t){Wi.D(t),q_("dns-prefetch",t,null)}function nS(t,i){Wi.C(t,i),q_("preconnect",t,i)}function iS(t,i,a){Wi.L(t,i,a);var l=to;if(l&&t&&i){var h='link[rel="preload"][as="'+ut(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ut(a.imageSizes)+'"]')):h+='[href="'+ut(t)+'"]';var d=h;switch(i){case"style":d=no(t);break;case"script":d=io(t)}Ln.has(d)||(t=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Nl(d))||i==="script"&&l.querySelector(xl(d))||(i=l.createElement("link"),qt(i,"link",t),rt(i),l.head.appendChild(i)))}}function rS(t,i){Wi.m(t,i);var a=to;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ut(l)+'"][href="'+ut(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(t)}if(!Ln.has(d)&&(t=I({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(d)))return}l=a.createElement("link"),qt(l,"link",t),rt(l),a.head.appendChild(l)}}}function sS(t,i,a){Wi.S(t,i,a);var l=to;if(l&&t){var h=Rr(l).hoistableStyles,d=no(t);i=i||"default";var E=h.get(d);if(!E){var A={loading:0,preload:null};if(E=l.querySelector(Nl(d)))A.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&Jd(t,a);var N=E=l.createElement("link");rt(N),qt(N,"link",t),N._p=new Promise(function(L,Y){N.onload=L,N.onerror=Y}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Oc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:A},h.set(d,E)}}}function aS(t,i){Wi.X(t,i);var a=to;if(a&&t){var l=Rr(a).hoistableScripts,h=io(t),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(t=I({src:t,async:!0},i),(i=Ln.get(h))&&em(t,i),d=a.createElement("script"),rt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function oS(t,i){Wi.M(t,i);var a=to;if(a&&t){var l=Rr(a).hoistableScripts,h=io(t),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(t=I({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&em(t,i),d=a.createElement("script"),rt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function H_(t,i,a,l){var h=(h=bn.current)?Dc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=no(a.href),a=Rr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=no(a.href);var d=Rr(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Nl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||lS(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=io(a),a=Rr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function no(t){return'href="'+ut(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function F_(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function lS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),rt(i),t.head.appendChild(i))}function io(t){return'[src="'+ut(t)+'"]'}function xl(t){return"script[async]"+t}function G_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ut(a.href)+'"]');if(l)return i.instance=l,rt(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),rt(l),qt(l,"style",h),Oc(l,a.precedence,t),i.instance=l;case"stylesheet":h=no(a.href);var d=t.querySelector(Nl(h));if(d)return i.state.loading|=4,i.instance=d,rt(d),d;l=F_(a),(h=Ln.get(h))&&Jd(l,h),d=(t.ownerDocument||t).createElement("link"),rt(d);var E=d;return E._p=new Promise(function(A,N){E.onload=A,E.onerror=N}),qt(d,"link",l),i.state.loading|=4,Oc(d,a.precedence,t),i.instance=d;case"script":return d=io(a.src),(h=t.querySelector(xl(d)))?(i.instance=h,rt(h),h):(l=a,(h=Ln.get(d))&&(l=I({},a),em(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),rt(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Oc(l,a.precedence,t));return i.instance}function Oc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var A=l[E];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function em(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var kc=null;function K_(t,i,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Sr]||d[Ot]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var A=l.get(E);A?A.push(d):l.set(E,[d])}}return l}function $_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function uS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Q_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function cS(){}function hS(t,i,a){if(Dl===null)throw Error(s(475));var l=Dl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=no(a.href),d=t.querySelector(Nl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Vc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,rt(d);return}d=t.ownerDocument||t,a=F_(a),(h=Ln.get(h))&&Jd(a,h),d=d.createElement("link"),rt(d);var E=d;E._p=new Promise(function(A,N){E.onload=A,E.onerror=N}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Vc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function fS(){if(Dl===null)throw Error(s(475));var t=Dl;return t.stylesheets&&t.count===0&&tm(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&tm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Vc(){if(this.count--,this.count===0){if(this.stylesheets)tm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function tm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,i.forEach(dS,t),Mc=null,Vc.call(t))}function dS(t,i){if(!(i.state.loading&4)){var a=Mc.get(t);if(a)var l=a.get(null);else{a=new Map,Mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ol={$$typeof:V,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function mS(t,i,a,l,h,d,E,A){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.hiddenUpdates=_a(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Y_(t,i,a,l,h,d,E,A,N,L,Y,se){return t=new mS(t,i,a,E,A,N,L,se),i=1,d===!0&&(i|=24),d=jn(3,null,null,i),t.current=d,d.stateNode=t,i=kf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},dd(d),t}function X_(t){return t?(t=Ma,t):Ma}function W_(t,i,a,l,h,d){h=X_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ur(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Br(t,l,i),a!==null&&(sn(a,t,i),pl(a,t,i))}function Z_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function nm(t,i){Z_(t,i),(t=t.alternate)&&Z_(t,i)}function J_(t){if(t.tag===13){var i=Or(t,67108864);i!==null&&sn(i,t,67108864),nm(t,67108864)}}var jc=!0;function pS(t,i,a,l){var h=b.T;b.T=null;var d=le.p;try{le.p=2,im(t,i,a,l)}finally{le.p=d,b.T=h}}function gS(t,i,a,l){var h=b.T;b.T=null;var d=le.p;try{le.p=8,im(t,i,a,l)}finally{le.p=d,b.T=h}}function im(t,i,a,l){if(jc){var h=rm(l);if(h===null)Gd(t,i,l,Pc,a),tv(t,l);else if(_S(h,t,i,a,l))l.stopPropagation();else if(tv(t,l),i&4&&-1<yS.indexOf(t)){for(;h!==null;){var d=Ni(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Un(d.pendingLanes);if(E!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var N=1<<31-en(E);A.entanglements[1]|=N,E&=~N}hi(d),(at&6)===0&&(Ec=ln()+500,Rl(0))}}break;case 13:A=Or(d,2),A!==null&&sn(A,d,2),Ac(),nm(d,2)}if(d=rm(l),d===null&&Gd(t,i,l,Pc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Gd(t,i,l,null,a)}}function rm(t){return t=Aa(t),sm(t)}var Pc=null;function sm(t){if(Pc=null,t=Bn(t),t!==null){var i=he(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=ye(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Pc=t,null}function ev(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bu()){case bt:return 2;case Dt:return 8;case Ci:case Au:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var am=!1,$r=null,Qr=null,Yr=null,kl=new Map,Vl=new Map,Xr=[],yS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tv(t,i){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function Ml(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ni(i),i!==null&&J_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function _S(t,i,a,l,h){switch(i){case"focusin":return $r=Ml($r,t,i,a,l,h),!0;case"dragenter":return Qr=Ml(Qr,t,i,a,l,h),!0;case"mouseover":return Yr=Ml(Yr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return kl.set(d,Ml(kl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,Ml(Vl.get(d)||null,t,i,a,l,h)),!0}return!1}function nv(t){var i=Bn(t.target);if(i!==null){var a=he(i);if(a!==null){if(i=a.tag,i===13){if(i=ye(a),i!==null){t.blockedOn=i,Ar(t.priority,function(){if(a.tag===13){var l=vn(),h=Or(a,l);h!==null&&sn(h,a,l),nm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=rm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Rn=l,a.target.dispatchEvent(l),Rn=null}else return i=Ni(a),i!==null&&J_(i),t.blockedOn=a,!1;i.shift()}return!0}function iv(t,i,a){Lc(t)&&a.delete(i)}function vS(){am=!1,$r!==null&&Lc($r)&&($r=null),Qr!==null&&Lc(Qr)&&(Qr=null),Yr!==null&&Lc(Yr)&&(Yr=null),kl.forEach(iv),Vl.forEach(iv)}function Uc(t,i){t.blockedOn===i&&(t.blockedOn=null,am||(am=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vS)))}var Bc=null;function rv(t){Bc!==t&&(Bc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bc===t&&(Bc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(sm(l||a)===null)continue;break}var d=Ni(a);d!==null&&(t.splice(i,3),i-=3,Yf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function jl(t){function i(N){return Uc(N,t)}$r!==null&&Uc($r,t),Qr!==null&&Uc(Qr,t),Yr!==null&&Uc(Yr,t),kl.forEach(i),Vl.forEach(i);for(var a=0;a<Xr.length;a++){var l=Xr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)nv(a),a.blockedOn===null&&Xr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[At]||null;if(typeof d=="function")E||rv(a);else if(E){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[At]||null)A=E.formAction;else if(sm(h)!==null)continue}else A=E.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),rv(a)}}}function om(t){this._internalRoot=t}zc.prototype.render=om.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=vn();W_(a,l,t,i,null,null)},zc.prototype.unmount=om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Za(),W_(t.current,2,null,t,null,null),Ac(),i[Ii]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Iu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Xr.length&&i!==0&&i<Xr[a].priority;a++);Xr.splice(a,0,t),a===0&&nv(t)}};var sv=e.version;if(sv!=="19.0.0")throw Error(s(527,sv,"19.0.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=re(i),t=t!==null?ee(t):null,t=t===null?null:t.stateNode,t};var ES={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Bn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{yr=qc.inject(ES),Kt=qc}catch{}}return Ll.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=by,d=Ay,E=Sy,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=Y_(t,1,!1,null,null,a,l,h,d,E,A,null),t[Ii]=i.current,Fd(t.nodeType===8?t.parentNode:t),new om(i)},Ll.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=by,E=Ay,A=Sy,N=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=Y_(t,1,!0,i,a??null,l,h,d,E,A,N,L),i.context=X_(null),a=i.current,l=vn(),h=Ur(l),h.callback=null,Br(a,h,l),i.current.lanes=l,mt(i,l),hi(i),t[Ii]=i.current,Fd(t),new zc(i)},Ll.version="19.0.0",Ll}var pv;function xS(){if(pv)return cm.exports;pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cm.exports=NS(),cm.exports}var DS=xS(),Ul={},gv;function OS(){if(gv)return Ul;gv=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=f,Ul.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,V){const O=new u,H=C.length;if(H<2)return O;const B=(V==null?void 0:V.decode)||T;let G=0;do{const W=C.indexOf("=",G);if(W===-1)break;const X=C.indexOf(";",G),Z=X===-1?H:X;if(W>Z){G=C.lastIndexOf(";",W-1)+1;continue}const ae=m(C,G,W),pe=p(C,W,ae),M=C.slice(ae,pe);if(O[M]===void 0){let S=m(C,W+1,Z),b=p(C,Z,S);const I=B(C.slice(S,b));O[M]=I}G=Z+1}while(G<H);return O}function m(C,V,O){do{const H=C.charCodeAt(V);if(H!==32&&H!==9)return V}while(++V<O);return O}function p(C,V,O){for(;V>O;){const H=C.charCodeAt(--V);if(H!==32&&H!==9)return V+1}return O}function g(C,V,O){const H=(O==null?void 0:O.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const B=H(V);if(!e.test(B))throw new TypeError(`argument val is invalid: ${V}`);let G=C+"="+B;if(!O)return G;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);G+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);G+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);G+="; Path="+O.path}if(O.expires){if(!w(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);G+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(G+="; HttpOnly"),O.secure&&(G+="; Secure"),O.partitioned&&(G+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return G}function T(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function w(C){return o.call(C)==="[object Date]"}return Ul}OS();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yv="popstate";function kS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=oa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Nm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Zl(u))}function s(o,u){$n(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return MS(e,n,s,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $n(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VS(){return Math.random().toString(36).substring(2,10)}function _v(r,e){return{usr:r.state,key:r.key,idx:e}}function Nm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?oa(e):e,state:n,key:e&&e.key||s||VS()}}function Zl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function oa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function MS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function w(){m="POP";let B=T(),G=B==null?null:B-g;g=B,p&&p({action:m,location:H.location,delta:G})}function C(B,G){m="PUSH";let W=Nm(H.location,B,G);n&&n(W,B),g=T()+1;let X=_v(W,g),Z=H.createHref(W);try{f.pushState(X,"",Z)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(Z)}u&&p&&p({action:m,location:H.location,delta:1})}function V(B,G){m="REPLACE";let W=Nm(H.location,B,G);n&&n(W,B),g=T();let X=_v(W,g),Z=H.createHref(W);f.replaceState(X,"",Z),u&&p&&p({action:m,location:H.location,delta:0})}function O(B){let G=o.location.origin!=="null"?o.location.origin:o.location.href,W=typeof B=="string"?B:Zl(B);return W=W.replace(/ $/,"%20"),ot(G,`No window.location.(origin|href) available to create URL for href: ${W}`),new URL(W,G)}let H={get action(){return m},get location(){return r(o,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(yv,w),p=B,()=>{o.removeEventListener(yv,w),p=null}},createHref(B){return e(o,B)},createURL:O,encodeLocation(B){let G=O(B);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:C,replace:V,go(B){return f.go(B)}};return H}function iT(r,e,n="/"){return jS(r,e,n,!1)}function jS(r,e,n,s){let o=typeof e=="string"?oa(e):e,u=or(o.pathname||"/",n);if(u==null)return null;let f=rT(r);PS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=QS(u);m=KS(f[p],g,s)}return m}function rT(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=nr([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),rT(u.children,e,T,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:FS(g,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of sT(u.path))o(u,f,p)}),e}function sT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=sT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function PS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:GS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var LS=/^:[\w-]+$/,US=3,BS=2,zS=1,qS=10,HS=-2,vv=r=>r==="*";function FS(r,e){let n=r.split("/"),s=n.length;return n.some(vv)&&(s+=HS),e&&(s+=BS),n.filter(o=>!vv(o)).reduce((o,u)=>o+(LS.test(u)?US:u===""?zS:qS),s)}function GS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function KS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",w=hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),C=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:nr([u,w.pathname]),pathnameBase:ZS(nr([u,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(u=nr([u,w.pathnameBase]))}return f}function hh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=$S(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:w},C)=>{if(T==="*"){let O=m[C]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const V=m[C];return w&&!V?g[T]=void 0:g[T]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function $S(r,e=!1,n=!0){$n(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function QS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function or(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function YS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?oa(r):r;return{pathname:n?n.startsWith("/")?n:XS(n,e):e,search:JS(s),hash:ew(o)}}function XS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function mm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aT(r){let e=WS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function oT(r,e,n,s=!1){let o;typeof r=="string"?o=oa(r):(o={...r},ot(!o.pathname||!o.pathname.includes("?"),mm("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),mm("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),mm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),w-=1;o.pathname=C.join("/")}m=w>=0?e[w]:"/"}let p=YS(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var nr=r=>r.join("/").replace(/\/\/+/g,"/"),ZS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),JS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ew=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function tw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var lT=["POST","PUT","PATCH","DELETE"];new Set(lT);var nw=["GET",...lT];new Set(nw);var wo=j.createContext(null);wo.displayName="DataRouter";var kh=j.createContext(null);kh.displayName="DataRouterState";var uT=j.createContext({isTransitioning:!1});uT.displayName="ViewTransition";var iw=j.createContext(new Map);iw.displayName="Fetchers";var rw=j.createContext(null);rw.displayName="Await";var Ti=j.createContext(null);Ti.displayName="Navigation";var ou=j.createContext(null);ou.displayName="Location";var fr=j.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var rp=j.createContext(null);rp.displayName="RouteError";function sw(r,{relative:e}={}){ot(lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Ti),{hash:o,pathname:u,search:f}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:nr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function lu(){return j.useContext(ou)!=null}function la(){return ot(lu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(ou).location}var cT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hT(r){j.useContext(Ti).static||j.useLayoutEffect(r)}function bi(){let{isDataRoute:r}=j.useContext(fr);return r?_w():aw()}function aw(){ot(lu(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(wo),{basename:e,navigator:n}=j.useContext(Ti),{matches:s}=j.useContext(fr),{pathname:o}=la(),u=JSON.stringify(aT(s)),f=j.useRef(!1);return hT(()=>{f.current=!0}),j.useCallback((p,g={})=>{if($n(f.current,cT),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=oT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:nr([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,r])}j.createContext(null);function uu(r,{relative:e}={}){let{matches:n}=j.useContext(fr),{pathname:s}=la(),o=JSON.stringify(aT(n));return j.useMemo(()=>oT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function ow(r,e){return fT(r,e)}function fT(r,e,n,s){var W;ot(lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=j.useContext(Ti),{matches:f}=j.useContext(fr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",w=m&&m.route;{let X=w&&w.path||"";dT(g,!w||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let C=la(),V;if(e){let X=typeof e=="string"?oa(e):e;ot(T==="/"||((W=X.pathname)==null?void 0:W.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${X.pathname}" was given in the \`location\` prop.`),V=X}else V=C;let O=V.pathname||"/",H=O;if(T!=="/"){let X=T.replace(/^\//,"").split("/");H="/"+O.replace(/^\//,"").split("/").slice(X.length).join("/")}let B=!u&&n&&n.matches&&n.matches.length>0?n.matches:iT(r,{pathname:H});$n(w||B!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),$n(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=fw(B&&B.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:nr([T,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?T:nr([T,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),f,n,s);return e&&G?j.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},G):G}function lw(){let r=yw(),e=tw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,f)}var uw=j.createElement(lw,null),cw=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?j.createElement(fr.Provider,{value:this.props.routeContext},j.createElement(rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hw({routeContext:r,match:e,children:n}){let s=j.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(fr.Provider,{value:r},n)}function fw(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:T,errors:w}=n,C=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||C){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,T)=>{let w,C=!1,V=null,O=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,V=g.route.errorElement||uw,f&&(m<0&&T===0?(dT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,O=null):m===T&&(C=!0,O=g.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,T+1)),B=()=>{let G;return w?G=V:C?G=O:g.route.Component?G=j.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,j.createElement(hw,{match:g,routeContext:{outlet:p,matches:H,isDataRoute:n!=null},children:G})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?j.createElement(cw,{location:n.location,revalidation:n.revalidation,component:V,error:w,children:B(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):B()},null)}function sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dw(r){let e=j.useContext(wo);return ot(e,sp(r)),e}function mw(r){let e=j.useContext(kh);return ot(e,sp(r)),e}function pw(r){let e=j.useContext(fr);return ot(e,sp(r)),e}function ap(r){let e=pw(r),n=e.matches[e.matches.length-1];return ot(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function gw(){return ap("useRouteId")}function yw(){var s;let r=j.useContext(rp),e=mw("useRouteError"),n=ap("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function _w(){let{router:r}=dw("useNavigate"),e=ap("useNavigate"),n=j.useRef(!1);return hT(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{$n(n.current,cT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Ev={};function dT(r,e,n){!e&&!Ev[r]&&(Ev[r]=!0,$n(!1,n))}j.memo(vw);function vw({routes:r,future:e,state:n}){return fT(r,void 0,n,e)}function Zi(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ew({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ot(!lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=oa(n));let{pathname:p="/",search:g="",hash:T="",state:w=null,key:C="default"}=n,V=j.useMemo(()=>{let O=or(p,f);return O==null?null:{location:{pathname:O,search:g,hash:T,state:w,key:C},navigationType:s}},[f,p,g,T,w,C,s]);return $n(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:j.createElement(Ti.Provider,{value:m},j.createElement(ou.Provider,{children:e,value:V}))}function Tw({children:r,location:e}){return ow(xm(r),e)}function xm(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,xm(s.props.children,u));return}ot(s.type===Zi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=xm(s.props.children,u)),n.push(f)}),n}var Jc="get",eh="application/x-www-form-urlencoded";function Vh(r){return r!=null&&typeof r.tagName=="string"}function bw(r){return Vh(r)&&r.tagName.toLowerCase()==="button"}function Aw(r){return Vh(r)&&r.tagName.toLowerCase()==="form"}function Sw(r){return Vh(r)&&r.tagName.toLowerCase()==="input"}function ww(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Rw(r,e){return r.button===0&&(!e||e==="_self")&&!ww(r)}var Hc=null;function Cw(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var Iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pm(r){return r!=null&&!Iw.has(r)?($n(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eh}"`),null):r}function Nw(r,e){let n,s,o,u,f;if(Aw(r)){let m=r.getAttribute("action");s=m?or(m,e):null,n=r.getAttribute("method")||Jc,o=pm(r.getAttribute("enctype"))||eh,u=new FormData(r)}else if(bw(r)||Sw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?or(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Jc,o=pm(r.getAttribute("formenctype"))||pm(m.getAttribute("enctype"))||eh,u=new FormData(m,r),!Cw()){let{name:g,type:T,value:w}=r;if(T==="image"){let C=g?`${g}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else g&&u.append(g,w)}}else{if(Vh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jc,s=null,o=eh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function xw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ow(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await xw(u,n);return f.links?f.links():[]}return[]}));return jw(s.flat(1).filter(Dw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Tv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var T;return n[g].pathname!==p.pathname||((T=n[g].route.path)==null?void 0:T.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function kw(r,e,{includeHydrateFallback:n}={}){return Vw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Vw(r){return[...new Set(r)]}function Mw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function jw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Mw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Pw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&or(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function mT(){let r=j.useContext(wo);return op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Lw(){let r=j.useContext(kh);return op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lp=j.createContext(void 0);lp.displayName="FrameworkContext";function pT(){let r=j.useContext(lp);return op(r,"You must render this element inside a <HydratedRouter> element"),r}function Uw(r,e){let n=j.useContext(lp),[s,o]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:w}=e,C=j.useRef(null);j.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let H=G=>{G.forEach(W=>{f(W.isIntersecting)})},B=new IntersectionObserver(H,{threshold:.5});return C.current&&B.observe(C.current),()=>{B.disconnect()}}},[r]),j.useEffect(()=>{if(s){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[s]);let V=()=>{o(!0)},O=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:Bl(m,V),onBlur:Bl(p,O),onMouseEnter:Bl(g,V),onMouseLeave:Bl(T,O),onTouchStart:Bl(w,V)}]:[!1,C,{}]}function Bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Bw({page:r,...e}){let{router:n}=mT(),s=j.useMemo(()=>iT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(qw,{page:r,matches:s,...e}):null}function zw(r){let{manifest:e,routeModules:n}=pT(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return Ow(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function qw({page:r,matches:e,...n}){let s=la(),{manifest:o,routeModules:u}=pT(),{basename:f}=mT(),{loaderData:m,matches:p}=Lw(),g=j.useMemo(()=>Tv(r,e,p,o,s,"data"),[r,e,p,o,s]),T=j.useMemo(()=>Tv(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let O=new Set,H=!1;if(e.forEach(G=>{var X;let W=o.routes[G.route.id];!W||!W.hasLoader||(!g.some(Z=>Z.route.id===G.route.id)&&G.route.id in m&&((X=u[G.route.id])!=null&&X.shouldRevalidate)||W.hasClientLoader?H=!0:O.add(G.route.id))}),O.size===0)return[];let B=Pw(r,f);return H&&O.size>0&&B.searchParams.set("_routes",e.filter(G=>O.has(G.route.id)).map(G=>G.route.id).join(",")),[B.pathname+B.search]},[f,m,s,o,g,e,r,u]),C=j.useMemo(()=>kw(T,o),[T,o]),V=zw(T);return j.createElement(j.Fragment,null,w.map(O=>j.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),C.map(O=>j.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),V.map(({key:O,link:H})=>j.createElement("link",{key:O,...H})))}function Hw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var gT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gT&&(window.__reactRouterVersion="7.3.0")}catch{}function Fw({basename:r,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=kS({window:n,v5Compat:!0}));let o=s.current,[u,f]=j.useState({action:o.action,location:o.location}),m=j.useCallback(p=>{j.startTransition(()=>f(p))},[f]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(Ew,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var yT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ws=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:w,...C},V){let{basename:O}=j.useContext(Ti),H=typeof g=="string"&&yT.test(g),B,G=!1;if(typeof g=="string"&&H&&(B=g,gT))try{let b=new URL(window.location.href),I=g.startsWith("//")?new URL(b.protocol+g):new URL(g),D=or(I.pathname,O);I.origin===b.origin&&D!=null?g=D+I.search+I.hash:G=!0}catch{$n(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=sw(g,{relative:o}),[X,Z,ae]=Uw(s,C),pe=Qw(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:w});function M(b){e&&e(b),b.defaultPrevented||pe(b)}let S=j.createElement("a",{...C,...ae,href:B||W,onClick:G||u?e:M,ref:Hw(V,Z),target:p,"data-discover":!H&&n==="render"?"true":void 0});return X&&!H?j.createElement(j.Fragment,null,S,j.createElement(Bw,{page:W})):S});Ws.displayName="Link";var Gw=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let w=uu(f,{relative:g.relative}),C=la(),V=j.useContext(kh),{navigator:O,basename:H}=j.useContext(Ti),B=V!=null&&Jw(w)&&m===!0,G=O.encodeLocation?O.encodeLocation(w).pathname:w.pathname,W=C.pathname,X=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(W=W.toLowerCase(),X=X?X.toLowerCase():null,G=G.toLowerCase()),X&&H&&(X=or(X,H)||X);const Z=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ae=W===G||!o&&W.startsWith(G)&&W.charAt(Z)==="/",pe=X!=null&&(X===G||!o&&X.startsWith(G)&&X.charAt(G.length)==="/"),M={isActive:ae,isPending:pe,isTransitioning:B},S=ae?e:void 0,b;typeof s=="function"?b=s(M):b=[s,ae?"active":null,pe?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(M):u;return j.createElement(Ws,{...g,"aria-current":S,className:b,ref:T,style:I,to:f,viewTransition:m},typeof p=="function"?p(M):p)});Gw.displayName="NavLink";var Kw=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Jc,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:w,...C},V)=>{let O=Ww(),H=Zw(m,{relative:g}),B=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&yT.test(m),W=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let Z=X.nativeEvent.submitter,ae=(Z==null?void 0:Z.getAttribute("formmethod"))||f;O(Z||X.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:w})};return j.createElement("form",{ref:V,method:B,action:H,onSubmit:s?p:W,...C,"data-discover":!G&&r==="render"?"true":void 0})});Kw.displayName="Form";function $w(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _T(r){let e=j.useContext(wo);return ot(e,$w(r)),e}function Qw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=bi(),p=la(),g=uu(r,{relative:u});return j.useCallback(T=>{if(Rw(T,e)){T.preventDefault();let w=n!==void 0?n:Zl(p)===Zl(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var Yw=0,Xw=()=>`__${String(++Yw)}__`;function Ww(){let{router:r}=_T("useSubmit"),{basename:e}=j.useContext(Ti),n=gw();return j.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=Nw(s,e);if(o.navigate===!1){let T=o.fetcherKey||Xw();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Zw(r,{relative:e}={}){let{basename:n}=j.useContext(Ti),s=j.useContext(fr);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},f=la();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:nr([n,u.pathname])),Zl(u)}function Jw(r,e={}){let n=j.useContext(uT);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=_T("useViewTransitionState"),o=uu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=or(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=or(n.nextLocation.pathname,s)||n.nextLocation.pathname;return hh(o.pathname,f)!=null||hh(o.pathname,u)!=null}new TextEncoder;const eR=()=>{};var bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},tR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ET={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,T=u>>2,w=(u&3)<<4|m>>4;let C=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(C=64)),s.push(n[T],n[w],n[C],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(vT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):tR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new nR;const C=u<<2|m>>4;if(s.push(C),g!==64){const V=m<<4&240|g>>2;if(s.push(V),w!==64){const O=g<<6&192|w;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iR=function(r){const e=vT(r);return ET.encodeByteArray(e,!0)},fh=function(r){return iR(r).replace(/\./g,"")},TT=function(r){try{return ET.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=()=>rR().__FIREBASE_DEFAULTS__,aR=()=>{if(typeof process>"u"||typeof bv>"u")return;const r=bv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},oR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&TT(r[1]);return e&&JSON.parse(e)},Mh=()=>{try{return eR()||sR()||aR()||oR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},bT=r=>{var e,n;return(n=(e=Mh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},AT=r=>{const e=bT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ST=()=>{var r;return(r=Mh())===null||r===void 0?void 0:r.config},wT=r=>{var e;return(e=Mh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[fh(JSON.stringify(n)),fh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function cR(){var r;const e=(r=Mh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mR(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pR(){return!cR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gR(){try{return typeof indexedDB=="object"}catch{return!1}}function yR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="FirebaseError";class Ai extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=_R,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?vR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ai(o,m,s)}}function vR(r,e){return r.replace(ER,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ER=/\{\$([^}]+)}/g;function TR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ea(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Av(u)&&Av(f)){if(!ea(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Av(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ql(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function bR(r,e){const n=new AR(r,e);return n.subscribe.bind(n)}class AR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");SR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=gm),o.error===void 0&&(o.error=gm),o.complete===void 0&&(o.complete=gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(r){return r&&r._delegate?r._delegate:r}class ls{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new lR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CR(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RR(r){return r===Xs?void 0:r}function CR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const NR={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},xR=ke.INFO,DR={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},OR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=DR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=xR,this._logHandler=OR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const kR=(r,e)=>e.some(n=>r instanceof n);let Sv,wv;function VR(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MR(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,Dm=new WeakMap,IT=new WeakMap,ym=new WeakMap,cp=new WeakMap;function jR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(rs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&CT.set(n,r)}).catch(()=>{}),cp.set(e,r),e}function PR(r){if(Dm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Dm.set(r,e)}let Om={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Dm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||IT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function LR(r){Om=r(Om)}function UR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(_m(this),e,...n);return IT.set(s,e.sort?e.sort():[e]),rs(s)}:MR().includes(r)?function(...e){return r.apply(_m(this),e),rs(CT.get(this))}:function(...e){return rs(r.apply(_m(this),e))}}function BR(r){return typeof r=="function"?UR(r):(r instanceof IDBTransaction&&PR(r),kR(r,VR())?new Proxy(r,Om):r)}function rs(r){if(r instanceof IDBRequest)return jR(r);if(ym.has(r))return ym.get(r);const e=BR(r);return e!==r&&(ym.set(r,e),cp.set(e,r)),e}const _m=r=>cp.get(r);function zR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=rs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(rs(f.result),p.oldVersion,p.newVersion,rs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const qR=["get","getKey","getAll","getAllKeys","count"],HR=["put","add","delete","clear"],vm=new Map;function Rv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=HR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return vm.set(e,u),u}LR(r=>({...r,get:(e,n,s)=>Rv(e,n)||r.get(e,n,s),has:(e,n)=>!!Rv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function GR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const km="@firebase/app",Cv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new up("@firebase/app"),KR="@firebase/app-compat",$R="@firebase/analytics-compat",QR="@firebase/analytics",YR="@firebase/app-check-compat",XR="@firebase/app-check",WR="@firebase/auth",ZR="@firebase/auth-compat",JR="@firebase/database",eC="@firebase/data-connect",tC="@firebase/database-compat",nC="@firebase/functions",iC="@firebase/functions-compat",rC="@firebase/installations",sC="@firebase/installations-compat",aC="@firebase/messaging",oC="@firebase/messaging-compat",lC="@firebase/performance",uC="@firebase/performance-compat",cC="@firebase/remote-config",hC="@firebase/remote-config-compat",fC="@firebase/storage",dC="@firebase/storage-compat",mC="@firebase/firestore",pC="@firebase/vertexai",gC="@firebase/firestore-compat",yC="firebase",_C="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",vC={[km]:"fire-core",[KR]:"fire-core-compat",[QR]:"fire-analytics",[$R]:"fire-analytics-compat",[XR]:"fire-app-check",[YR]:"fire-app-check-compat",[WR]:"fire-auth",[ZR]:"fire-auth-compat",[JR]:"fire-rtdb",[eC]:"fire-data-connect",[tC]:"fire-rtdb-compat",[nC]:"fire-fn",[iC]:"fire-fn-compat",[rC]:"fire-iid",[sC]:"fire-iid-compat",[aC]:"fire-fcm",[oC]:"fire-fcm-compat",[lC]:"fire-perf",[uC]:"fire-perf-compat",[cC]:"fire-rc",[hC]:"fire-rc-compat",[fC]:"fire-gcs",[dC]:"fire-gcs-compat",[mC]:"fire-fst",[gC]:"fire-fst-compat",[pC]:"fire-vertex","fire-js":"fire-js",[yC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,EC=new Map,Mm=new Map;function Iv(r,e){try{r.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ta(r){const e=r.name;if(Mm.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,r);for(const n of dh.values())Iv(n,r);for(const n of EC.values())Iv(n,r);return!0}function jh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function En(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new cu("app","Firebase",TC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=_C;function NT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Vm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(n||(n=ST()),!n)throw ss.create("no-options");const u=dh.get(o);if(u){if(ea(n,u.options)&&ea(s,u.config))return u;throw ss.create("duplicate-app",{appName:o})}const f=new IR(o);for(const p of Mm.values())f.addComponent(p);const m=new bC(n,s,f);return dh.set(o,m),m}function hp(r=Vm){const e=dh.get(r);if(!e&&r===Vm&&ST())return NT();if(!e)throw ss.create("no-app",{appName:r});return e}function di(r,e,n){var s;let o=(s=vC[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(m.join(" "));return}ta(new ls(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="firebase-heartbeat-database",SC=1,Jl="firebase-heartbeat-store";let Em=null;function xT(){return Em||(Em=zR(AC,SC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ss.create("idb-open",{originalErrorMessage:r.message})})),Em}async function wC(r){try{const n=(await xT()).transaction(Jl),s=await n.objectStore(Jl).get(DT(r));return await n.done,s}catch(e){if(e instanceof Ai)lr.warn(e.message);else{const n=ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(n.message)}}}async function Nv(r,e){try{const s=(await xT()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,DT(r)),await s.done}catch(n){if(n instanceof Ai)lr.warn(n.message);else{const s=ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lr.warn(s.message)}}}function DT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=1024,CC=30;class IC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=xv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>CC){const f=DC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){lr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xv(),{heartbeatsToSend:s,unsentEntries:o}=NC(this._heartbeatsCache.heartbeats),u=fh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return lr.warn(n),""}}}function xv(){return new Date().toISOString().substring(0,10)}function NC(r,e=RC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Dv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Dv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gR()?yR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Dv(r){return fh(JSON.stringify({version:2,heartbeats:r})).length}function DC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(r){ta(new ls("platform-logger",e=>new FR(e),"PRIVATE")),ta(new ls("heartbeat",e=>new IC(e),"PRIVATE")),di(km,Cv,r),di(km,Cv,"esm2017"),di("fire-js","")}OC("");var kC="firebase",VC="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(kC,VC,"app");function fp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function OT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MC=OT,kT=new cu("auth","Firebase",OT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new up("@firebase/auth");function jC(r,...e){mh.logLevel<=ke.WARN&&mh.warn(`Auth (${ua}): ${r}`,...e)}function th(r,...e){mh.logLevel<=ke.ERROR&&mh.error(`Auth (${ua}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...e){throw dp(r,...e)}function mi(r,...e){return dp(r,...e)}function VT(r,e,n){const s=Object.assign(Object.assign({},MC()),{[e]:n});return new cu("auth","Firebase",s).create(e,{appName:r.name})}function ir(r){return VT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return kT.create(r,...e)}function be(r,e,...n){if(!r)throw dp(e,...n)}function Ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw th(e),new Error(e)}function ur(r,e){r||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function PC(){return Ov()==="http:"||Ov()==="https:"}function Ov(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PC()||fR()||"connection"in navigator)?navigator.onLine:!0}function UC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=uR()||dR()}get(){return LC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(r,e){ur(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new fu(3e4,6e4);function ps(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function dr(r,e,n,s,o={}){return jT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return hR()||(g.referrerPolicy="no-referrer"),MT.fetch()(PT(r,r.config.apiHost,n,m),g)})}async function jT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},BC),e);try{const o=new HC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Fc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Fc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Fc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw VT(r,T,g);Qn(r,T)}}catch(o){if(o instanceof Ai)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function du(r,e,n,s,o={}){const u=await dr(r,e,n,s,o);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function PT(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?mp(r.config,o):`${r.config.apiScheme}://${o}`}function qC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(mi(this.auth,"network-request-failed")),zC.get())})}}function Fc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=mi(r,e,s);return o.customData._tokenResponse=n,o}function kv(r){return r!==void 0&&r.enterprise!==void 0}class FC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GC(r,e){return dr(r,"GET","/v2/recaptchaConfig",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(r,e){return dr(r,"POST","/v1/accounts:delete",e)}async function LT(r,e){return dr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $C(r,e=!1){const n=dt(r),s=await n.getIdToken(e),o=pp(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:$l(Tm(o.auth_time)),issuedAtTime:$l(Tm(o.iat)),expirationTime:$l(Tm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Tm(r){return Number(r)*1e3}function pp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=TT(n);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Vv(r){const e=pp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ai&&QC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function QC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(r){var e;const n=r.auth,s=await r.getIdToken(),o=await go(r,LT(n,{idToken:s}));be(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?UT(u.providerUserInfo):[],m=WC(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Pm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,w)}async function XC(r){const e=dt(r);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function UT(r){return r.map(e=>{var{providerId:n}=e,s=fp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(r,e){const n=await jT(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=PT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",MT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JC(r,e){return dr(r,"POST","/v2/accounts:revokeToken",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=Vv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await ZC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ho;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=fp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Pm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await go(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $C(this,e)}reload(){return XC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(ir(this.auth));const e=await this.getIdToken();return await go(this,KC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,T;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(f=n.photoURL)!==null&&f!==void 0?f:void 0,H=(m=n.tenantId)!==null&&m!==void 0?m:void 0,B=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=n.createdAt)!==null&&g!==void 0?g:void 0,W=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:X,emailVerified:Z,isAnonymous:ae,providerData:pe,stsTokenManager:M}=n;be(X&&M,e,"internal-error");const S=ho.fromJSON(this.name,M);be(typeof X=="string",e,"internal-error"),Zr(w,e.name),Zr(C,e.name),be(typeof Z=="boolean",e,"internal-error"),be(typeof ae=="boolean",e,"internal-error"),Zr(V,e.name),Zr(O,e.name),Zr(H,e.name),Zr(B,e.name),Zr(G,e.name),Zr(W,e.name);const b=new er({uid:X,auth:e,email:C,emailVerified:Z,displayName:w,isAnonymous:ae,photoURL:O,phoneNumber:V,tenantId:H,stsTokenManager:S,createdAt:G,lastLoginAt:W});return pe&&Array.isArray(pe)&&(b.providerData=pe.map(I=>Object.assign({},I))),B&&(b._redirectEventId=B),b}static async _fromIdTokenResponse(e,n,s=!1){const o=new ho;o.updateFromServerResponse(n);const u=new er({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ph(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?UT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ho;m.updateFromIdToken(s);const p=new er({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;function tr(r){ur(r instanceof Function,"Expected a class definition");let e=Mv.get(r);return e?(ur(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Mv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BT.type="NONE";const jv=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(r,e,n){return`firebase:${r}:${e}:${n}`}class fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=nh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new fo(tr(jv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||tr(jv);const f=nh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){const w=er._fromJSON(e,T);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new fo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KT(e))return"Blackberry";if($T(e))return"Webos";if(qT(e))return"Safari";if((e.includes("chrome/")||HT(e))&&!e.includes("edge/"))return"Chrome";if(GT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function zT(r=Zt()){return/firefox\//i.test(r)}function qT(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HT(r=Zt()){return/crios\//i.test(r)}function FT(r=Zt()){return/iemobile/i.test(r)}function GT(r=Zt()){return/android/i.test(r)}function KT(r=Zt()){return/blackberry/i.test(r)}function $T(r=Zt()){return/webos/i.test(r)}function gp(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function eI(r=Zt()){var e;return gp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tI(){return mR()&&document.documentMode===10}function QT(r=Zt()){return gp(r)||GT(r)||$T(r)||KT(r)||/windows phone/i.test(r)||FT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(r,e=[]){let n;switch(r){case"Browser":n=Pv(Zt());break;case"Worker":n=`${Pv(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ua}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(r,e={}){return dr(r,"GET","/v2/passwordPolicy",ps(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=6;class sI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:rI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new nI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await LT(this,{idToken:e}),s=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(En(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(ir(this));const n=e?dt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iI(this),n=new sI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await JC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ca(r){return dt(r)}class Lv{constructor(e){this.auth=e,this.observer=null,this.addObserver=bR(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oI(r){Ph=r}function XT(r){return Ph.loadJS(r)}function lI(){return Ph.recaptchaEnterpriseScript}function uI(){return Ph.gapiScript}function cI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class hI{constructor(){this.enterprise=new fI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dI="recaptcha-enterprise",WT="NO_RECAPTCHA";class mI{constructor(e){this.type=dI,this.auth=ca(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{GC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new FC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;kv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(WT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&kv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=lI();p.length!==0&&(p+=m),XT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Uv(r,e,n,s=!1,o=!1){const u=new mI(r);let f;if(o)f=WT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Lm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Uv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Uv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(r,e){const n=jh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function gI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function yI(r,e,n){const s=ca(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ZT(e),{host:f,port:m}=_I(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(ea(g,s.config.emulator)&&ea(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,vI()}function ZT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function _I(r){const e=ZT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Bv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Bv(f)}}}function Bv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function vI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function EI(r,e){return dr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(r,e){return du(r,"POST","/v1/accounts:signInWithPassword",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(r,e){return du(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,e))}async function AI(r,e){return du(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends yp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(e,n,"signInWithPassword",TI);case"emailLink":return bI(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(e,s,"signUpPassword",EI);case"emailLink":return AI(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(r,e){return du(r,"POST","/v1/accounts:signInWithIdp",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="http://localhost";class na extends yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=fp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new na(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,mo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:SI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RI(r){const e=zl(ql(r)).link,n=e?zl(ql(e)).deep_link_id:null,s=zl(ql(r)).deep_link_id;return(s?zl(ql(s)).link:null)||s||n||e||r}class _p{constructor(e){var n,s,o,u,f,m;const p=zl(ql(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,w=wI((o=p.mode)!==null&&o!==void 0?o:null);be(g&&T&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=RI(e);try{return new _p(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.providerId=ha.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=_p.parseLink(n);return be(s,"argument-error"),eu._fromEmailAndCode(e,s.code,s.tenantId)}}ha.PROVIDER_ID="password";ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends JT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends mu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return es.credential(n,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends mu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends mu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(r,e){return du(r,"POST","/v1/accounts:signUp",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await er._fromIdTokenResponse(e,s,o),f=zv(s);return new ia({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=zv(s);return new ia({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function zv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends Ai{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new gh(e,n,s,o)}}function e0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(r,u,e,s):u})}async function II(r,e,n=!1){const s=await go(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ia._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t0(r,e,n=!1){const{auth:s}=r;if(En(s.app))return Promise.reject(ir(s));const o="reauthenticate";try{const u=await go(r,e0(s,o,e,r),n);be(u.idToken,s,"internal-error");const f=pp(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(r.uid===m,s,"user-mismatch"),ia._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n0(r,e,n=!1){if(En(r.app))return Promise.reject(ir(r));const s="signIn",o=await e0(r,s,e),u=await ia._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function NI(r,e){return n0(ca(r),e)}async function xI(r,e){return t0(dt(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i0(r){const e=ca(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DI(r,e,n){if(En(r.app))return Promise.reject(ir(r));const s=ca(r),f=await Lm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&i0(r),p}),m=await ia._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function OI(r,e,n){return En(r.app)?Promise.reject(ir(r)):NI(dt(r),ha.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&i0(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(r,e){return dr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r0(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=dt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await go(s,kI(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function VI(r,e,n,s){return dt(r).onIdTokenChanged(e,n,s)}function MI(r,e,n){return dt(r).beforeAuthStateChanged(e,n)}function mr(r,e,n,s){return dt(r).onAuthStateChanged(e,n,s)}function jI(r){return dt(r).signOut()}async function PI(r){return dt(r).delete()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=1e3,UI=10;class a0 extends s0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);tI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,UI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}a0.type="LOCAL";const BI=a0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0 extends s0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}o0.type="SESSION";const l0=o0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Lh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await zI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=vp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const C=w;if(C.data.eventId===g)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function HI(r){pi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function FI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function KI(){return u0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="firebaseLocalStorageDb",$I=1,_h="firebaseLocalStorage",h0="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uh(r,e){return r.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function QI(){const r=indexedDB.deleteDatabase(c0);return new pu(r).toPromise()}function Um(){const r=indexedDB.open(c0,$I);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(_h,{keyPath:h0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(_h)?e(s):(s.close(),await QI(),e(await Um()))})})}async function qv(r,e,n){const s=Uh(r,!0).put({[h0]:e,value:n});return new pu(s).toPromise()}async function YI(r,e){const n=Uh(r,!1).get(e),s=await new pu(n).toPromise();return s===void 0?null:s.value}function Hv(r,e){const n=Uh(r,!0).delete(e);return new pu(n).toPromise()}const XI=800,WI=3;class f0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>WI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(KI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await FI(),!this.activeServiceWorker)return;this.sender=new qI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await qv(e,yh,"1"),await Hv(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>qv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>YI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uh(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f0.type="LOCAL";const ZI=f0;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(r,e){return e?tr(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eN(r){return n0(r.auth,new Ep(r),r.bypassAuthState)}function tN(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),t0(n,new Ep(r),r.bypassAuthState)}async function nN(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),II(n,new Ep(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:Qn(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new fu(2e3,1e4);class uo extends d0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iN.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="pendingRedirect",ih=new Map;class sN extends d0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const s=await aN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aN(r,e){const n=uN(e),s=lN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function oN(r,e){ih.set(r._key(),e)}function lN(r){return tr(r._redirectPersistence)}function uN(r){return nh(rN,r.config.apiKey,r.name)}async function cN(r,e,n=!1){if(En(r.app))return Promise.reject(ir(r));const s=ca(r),o=JI(s,e),f=await new sN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=10*60*1e3;class fN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!m0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(mi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fv(e))}saveEventToCache(e){this.cachedEventUids.add(Fv(e)),this.lastProcessedEventTime=Date.now()}}function Fv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function m0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(r,e={}){return dr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gN=/^https?/;async function yN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await mN(r);for(const n of e)try{if(_N(n))return}catch{}Qn(r,"unauthorized-domain")}function _N(r){const e=jm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!gN.test(n))return!1;if(pN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new fu(3e4,6e4);function Gv(){const r=pi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function EN(r){return new Promise((e,n)=>{var s,o,u;function f(){Gv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gv(),n(mi(r,"network-request-failed"))},timeout:vN.get()})}if(!((o=(s=pi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=pi().gapi)===null||u===void 0)&&u.load)f();else{const m=cI("iframefcb");return pi()[m]=()=>{gapi.load?f():n(mi(r,"network-request-failed"))},XT(`${uI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw rh=null,e})}let rh=null;function TN(r){return rh=rh||EN(r),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new fu(5e3,15e3),AN="__/auth/iframe",SN="emulator/auth/iframe",wN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?mp(e,SN):`https://${r.config.authDomain}/${AN}`,s={apiKey:e.apiKey,appName:r.name,v:ua},o=RN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function IN(r){const e=await TN(r),n=pi().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:CN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=mi(r,"network-request-failed"),m=pi().setTimeout(()=>{u(f)},bN.get());function p(){pi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xN=500,DN=600,ON="_blank",kN="http://localhost";class Kv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VN(r,e,n,s=xN,o=DN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},NN),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Zt().toLowerCase();n&&(m=HT(g)?ON:n),zT(g)&&(e=e||kN,p.scrollbars="yes");const T=Object.entries(p).reduce((C,[V,O])=>`${C}${V}=${O},`,"");if(eI(g)&&m!=="_self")return MN(e||"",m),new Kv(null);const w=window.open(e||"",m,T);be(w,r,"popup-blocked");try{w.focus()}catch{}return new Kv(w)}function MN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="__/auth/handler",PN="emulator/auth/handler",LN=encodeURIComponent("fac");async function $v(r,e,n,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ua,eventId:o};if(e instanceof JT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",TR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(e instanceof mu){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),g=p?`#${LN}=${encodeURIComponent(p)}`:"";return`${UN(r)}?${hu(m).slice(1)}${g}`}function UN({config:r}){return r.emulator?mp(r,PN):`https://${r.authDomain}/${jN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="webStorageSupport";class BN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l0,this._completeRedirectFn=cN,this._overrideRedirectResult=oN}async _openPopup(e,n,s,o){var u;ur((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await $v(e,n,s,jm(),o);return VN(e,f,vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await $v(e,n,s,jm(),o);return HI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await IN(e),s=new fN(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bm,{type:bm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[bm];f!==void 0&&n(!!f),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QT()||qT()||gp()}}const zN=BN;var Qv="@firebase/auth",Yv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FN(r){ta(new ls("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YT(r)},g=new aI(s,o,u,p);return gI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ta(new ls("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(s=>new qN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(Qv,Yv,HN(r)),di(Qv,Yv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=5*60,KN=wT("authIdTokenMaxAge")||GN;let Xv=null;const $N=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>KN)return;const o=n==null?void 0:n.token;Xv!==o&&(Xv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QN(r=hp()){const e=jh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=pI(r,{popupRedirectResolver:zN,persistence:[ZI,BI,l0]}),s=wT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=$N(u.toString());MI(n,f,()=>f(n.currentUser)),VI(n,m=>f(m))}}const o=bT("auth");return o&&yI(n,`http://${o}`),n}function YN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}oI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=mi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",YN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FN("Browser");var Wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,p0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,S){function b(){}b.prototype=S.prototype,M.D=S.prototype,M.prototype=new b,M.prototype.constructor=M,M.C=function(I,D,U){for(var x=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)x[Oe-2]=arguments[Oe];return S.prototype[D].apply(I,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,S,b){b||(b=0);var I=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)I[D]=S.charCodeAt(b++)|S.charCodeAt(b++)<<8|S.charCodeAt(b++)<<16|S.charCodeAt(b++)<<24;else for(D=0;16>D;++D)I[D]=S[b++]|S[b++]<<8|S[b++]<<16|S[b++]<<24;S=M.g[0],b=M.g[1],D=M.g[2];var U=M.g[3],x=S+(U^b&(D^U))+I[0]+3614090360&4294967295;S=b+(x<<7&4294967295|x>>>25),x=U+(D^S&(b^D))+I[1]+3905402710&4294967295,U=S+(x<<12&4294967295|x>>>20),x=D+(b^U&(S^b))+I[2]+606105819&4294967295,D=U+(x<<17&4294967295|x>>>15),x=b+(S^D&(U^S))+I[3]+3250441966&4294967295,b=D+(x<<22&4294967295|x>>>10),x=S+(U^b&(D^U))+I[4]+4118548399&4294967295,S=b+(x<<7&4294967295|x>>>25),x=U+(D^S&(b^D))+I[5]+1200080426&4294967295,U=S+(x<<12&4294967295|x>>>20),x=D+(b^U&(S^b))+I[6]+2821735955&4294967295,D=U+(x<<17&4294967295|x>>>15),x=b+(S^D&(U^S))+I[7]+4249261313&4294967295,b=D+(x<<22&4294967295|x>>>10),x=S+(U^b&(D^U))+I[8]+1770035416&4294967295,S=b+(x<<7&4294967295|x>>>25),x=U+(D^S&(b^D))+I[9]+2336552879&4294967295,U=S+(x<<12&4294967295|x>>>20),x=D+(b^U&(S^b))+I[10]+4294925233&4294967295,D=U+(x<<17&4294967295|x>>>15),x=b+(S^D&(U^S))+I[11]+2304563134&4294967295,b=D+(x<<22&4294967295|x>>>10),x=S+(U^b&(D^U))+I[12]+1804603682&4294967295,S=b+(x<<7&4294967295|x>>>25),x=U+(D^S&(b^D))+I[13]+4254626195&4294967295,U=S+(x<<12&4294967295|x>>>20),x=D+(b^U&(S^b))+I[14]+2792965006&4294967295,D=U+(x<<17&4294967295|x>>>15),x=b+(S^D&(U^S))+I[15]+1236535329&4294967295,b=D+(x<<22&4294967295|x>>>10),x=S+(D^U&(b^D))+I[1]+4129170786&4294967295,S=b+(x<<5&4294967295|x>>>27),x=U+(b^D&(S^b))+I[6]+3225465664&4294967295,U=S+(x<<9&4294967295|x>>>23),x=D+(S^b&(U^S))+I[11]+643717713&4294967295,D=U+(x<<14&4294967295|x>>>18),x=b+(U^S&(D^U))+I[0]+3921069994&4294967295,b=D+(x<<20&4294967295|x>>>12),x=S+(D^U&(b^D))+I[5]+3593408605&4294967295,S=b+(x<<5&4294967295|x>>>27),x=U+(b^D&(S^b))+I[10]+38016083&4294967295,U=S+(x<<9&4294967295|x>>>23),x=D+(S^b&(U^S))+I[15]+3634488961&4294967295,D=U+(x<<14&4294967295|x>>>18),x=b+(U^S&(D^U))+I[4]+3889429448&4294967295,b=D+(x<<20&4294967295|x>>>12),x=S+(D^U&(b^D))+I[9]+568446438&4294967295,S=b+(x<<5&4294967295|x>>>27),x=U+(b^D&(S^b))+I[14]+3275163606&4294967295,U=S+(x<<9&4294967295|x>>>23),x=D+(S^b&(U^S))+I[3]+4107603335&4294967295,D=U+(x<<14&4294967295|x>>>18),x=b+(U^S&(D^U))+I[8]+1163531501&4294967295,b=D+(x<<20&4294967295|x>>>12),x=S+(D^U&(b^D))+I[13]+2850285829&4294967295,S=b+(x<<5&4294967295|x>>>27),x=U+(b^D&(S^b))+I[2]+4243563512&4294967295,U=S+(x<<9&4294967295|x>>>23),x=D+(S^b&(U^S))+I[7]+1735328473&4294967295,D=U+(x<<14&4294967295|x>>>18),x=b+(U^S&(D^U))+I[12]+2368359562&4294967295,b=D+(x<<20&4294967295|x>>>12),x=S+(b^D^U)+I[5]+4294588738&4294967295,S=b+(x<<4&4294967295|x>>>28),x=U+(S^b^D)+I[8]+2272392833&4294967295,U=S+(x<<11&4294967295|x>>>21),x=D+(U^S^b)+I[11]+1839030562&4294967295,D=U+(x<<16&4294967295|x>>>16),x=b+(D^U^S)+I[14]+4259657740&4294967295,b=D+(x<<23&4294967295|x>>>9),x=S+(b^D^U)+I[1]+2763975236&4294967295,S=b+(x<<4&4294967295|x>>>28),x=U+(S^b^D)+I[4]+1272893353&4294967295,U=S+(x<<11&4294967295|x>>>21),x=D+(U^S^b)+I[7]+4139469664&4294967295,D=U+(x<<16&4294967295|x>>>16),x=b+(D^U^S)+I[10]+3200236656&4294967295,b=D+(x<<23&4294967295|x>>>9),x=S+(b^D^U)+I[13]+681279174&4294967295,S=b+(x<<4&4294967295|x>>>28),x=U+(S^b^D)+I[0]+3936430074&4294967295,U=S+(x<<11&4294967295|x>>>21),x=D+(U^S^b)+I[3]+3572445317&4294967295,D=U+(x<<16&4294967295|x>>>16),x=b+(D^U^S)+I[6]+76029189&4294967295,b=D+(x<<23&4294967295|x>>>9),x=S+(b^D^U)+I[9]+3654602809&4294967295,S=b+(x<<4&4294967295|x>>>28),x=U+(S^b^D)+I[12]+3873151461&4294967295,U=S+(x<<11&4294967295|x>>>21),x=D+(U^S^b)+I[15]+530742520&4294967295,D=U+(x<<16&4294967295|x>>>16),x=b+(D^U^S)+I[2]+3299628645&4294967295,b=D+(x<<23&4294967295|x>>>9),x=S+(D^(b|~U))+I[0]+4096336452&4294967295,S=b+(x<<6&4294967295|x>>>26),x=U+(b^(S|~D))+I[7]+1126891415&4294967295,U=S+(x<<10&4294967295|x>>>22),x=D+(S^(U|~b))+I[14]+2878612391&4294967295,D=U+(x<<15&4294967295|x>>>17),x=b+(U^(D|~S))+I[5]+4237533241&4294967295,b=D+(x<<21&4294967295|x>>>11),x=S+(D^(b|~U))+I[12]+1700485571&4294967295,S=b+(x<<6&4294967295|x>>>26),x=U+(b^(S|~D))+I[3]+2399980690&4294967295,U=S+(x<<10&4294967295|x>>>22),x=D+(S^(U|~b))+I[10]+4293915773&4294967295,D=U+(x<<15&4294967295|x>>>17),x=b+(U^(D|~S))+I[1]+2240044497&4294967295,b=D+(x<<21&4294967295|x>>>11),x=S+(D^(b|~U))+I[8]+1873313359&4294967295,S=b+(x<<6&4294967295|x>>>26),x=U+(b^(S|~D))+I[15]+4264355552&4294967295,U=S+(x<<10&4294967295|x>>>22),x=D+(S^(U|~b))+I[6]+2734768916&4294967295,D=U+(x<<15&4294967295|x>>>17),x=b+(U^(D|~S))+I[13]+1309151649&4294967295,b=D+(x<<21&4294967295|x>>>11),x=S+(D^(b|~U))+I[4]+4149444226&4294967295,S=b+(x<<6&4294967295|x>>>26),x=U+(b^(S|~D))+I[11]+3174756917&4294967295,U=S+(x<<10&4294967295|x>>>22),x=D+(S^(U|~b))+I[2]+718787259&4294967295,D=U+(x<<15&4294967295|x>>>17),x=b+(U^(D|~S))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+D&4294967295,M.g[3]=M.g[3]+U&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var b=S-this.blockSize,I=this.B,D=this.h,U=0;U<S;){if(D==0)for(;U<=b;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<S;)if(I[D++]=M.charCodeAt(U++),D==this.blockSize){o(this,I),D=0;break}}else for(;U<S;)if(I[D++]=M[U++],D==this.blockSize){o(this,I),D=0;break}}this.h=D,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var b=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=b&255,b/=256;for(this.u(M),M=Array(16),S=b=0;4>S;++S)for(var I=0;32>I;I+=8)M[b++]=this.g[S]>>>I&255;return M};function u(M,S){var b=m;return Object.prototype.hasOwnProperty.call(b,M)?b[M]:b[M]=S(M)}function f(M,S){this.h=S;for(var b=[],I=!0,D=M.length-1;0<=D;D--){var U=M[D]|0;I&&U==S||(b[D]=U,I=!1)}this.g=b}var m={};function p(M){return-128<=M&&128>M?u(M,function(S){return new f([S|0],0>S?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return B(g(-M));for(var S=[],b=1,I=0;M>=b;I++)S[I]=M/b|0,b*=4294967296;return new f(S,0)}function T(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return B(T(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=g(Math.pow(S,8)),I=w,D=0;D<M.length;D+=8){var U=Math.min(8,M.length-D),x=parseInt(M.substring(D,D+U),S);8>U?(U=g(Math.pow(S,U)),I=I.j(U).add(g(x))):(I=I.j(b),I=I.add(g(x)))}return I}var w=p(0),C=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(H(this))return-B(this).m();for(var M=0,S=1,b=0;b<this.g.length;b++){var I=this.i(b);M+=(0<=I?I:4294967296+I)*S,S*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(O(this))return"0";if(H(this))return"-"+B(this).toString(M);for(var S=g(Math.pow(M,6)),b=this,I="";;){var D=Z(b,S).g;b=G(b,D.j(S));var U=((0<b.g.length?b.g[0]:b.h)>>>0).toString(M);if(b=D,O(b))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function O(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function H(M){return M.h==-1}r.l=function(M){return M=G(this,M),H(M)?-1:O(M)?0:1};function B(M){for(var S=M.g.length,b=[],I=0;I<S;I++)b[I]=~M.g[I];return new f(b,~M.h).add(C)}r.abs=function(){return H(this)?B(this):this},r.add=function(M){for(var S=Math.max(this.g.length,M.g.length),b=[],I=0,D=0;D<=S;D++){var U=I+(this.i(D)&65535)+(M.i(D)&65535),x=(U>>>16)+(this.i(D)>>>16)+(M.i(D)>>>16);I=x>>>16,U&=65535,x&=65535,b[D]=x<<16|U}return new f(b,b[b.length-1]&-2147483648?-1:0)};function G(M,S){return M.add(B(S))}r.j=function(M){if(O(this)||O(M))return w;if(H(this))return H(M)?B(this).j(B(M)):B(B(this).j(M));if(H(M))return B(this.j(B(M)));if(0>this.l(V)&&0>M.l(V))return g(this.m()*M.m());for(var S=this.g.length+M.g.length,b=[],I=0;I<2*S;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<M.g.length;D++){var U=this.i(I)>>>16,x=this.i(I)&65535,Oe=M.i(D)>>>16,Ze=M.i(D)&65535;b[2*I+2*D]+=x*Ze,W(b,2*I+2*D),b[2*I+2*D+1]+=U*Ze,W(b,2*I+2*D+1),b[2*I+2*D+1]+=x*Oe,W(b,2*I+2*D+1),b[2*I+2*D+2]+=U*Oe,W(b,2*I+2*D+2)}for(I=0;I<S;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=S;I<2*S;I++)b[I]=0;return new f(b,0)};function W(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function X(M,S){this.g=M,this.h=S}function Z(M,S){if(O(S))throw Error("division by zero");if(O(M))return new X(w,w);if(H(M))return S=Z(B(M),S),new X(B(S.g),B(S.h));if(H(S))return S=Z(M,B(S)),new X(B(S.g),S.h);if(30<M.g.length){if(H(M)||H(S))throw Error("slowDivide_ only works with positive integers.");for(var b=C,I=S;0>=I.l(M);)b=ae(b),I=ae(I);var D=pe(b,1),U=pe(I,1);for(I=pe(I,2),b=pe(b,2);!O(I);){var x=U.add(I);0>=x.l(M)&&(D=D.add(b),U=x),I=pe(I,1),b=pe(b,1)}return S=G(M,D.j(S)),new X(D,S)}for(D=w;0<=M.l(S);){for(b=Math.max(1,Math.floor(M.m()/S.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=g(b),x=U.j(S);H(x)||0<x.l(M);)b-=I,U=g(b),x=U.j(S);O(U)&&(U=C),D=D.add(U),M=G(M,x)}return new X(D,M)}r.A=function(M){return Z(this,M).h},r.and=function(M){for(var S=Math.max(this.g.length,M.g.length),b=[],I=0;I<S;I++)b[I]=this.i(I)&M.i(I);return new f(b,this.h&M.h)},r.or=function(M){for(var S=Math.max(this.g.length,M.g.length),b=[],I=0;I<S;I++)b[I]=this.i(I)|M.i(I);return new f(b,this.h|M.h)},r.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),b=[],I=0;I<S;I++)b[I]=this.i(I)^M.i(I);return new f(b,this.h^M.h)};function ae(M){for(var S=M.g.length+1,b=[],I=0;I<S;I++)b[I]=M.i(I)<<1|M.i(I-1)>>>31;return new f(b,M.h)}function pe(M,S){var b=S>>5;S%=32;for(var I=M.g.length-b,D=[],U=0;U<I;U++)D[U]=0<S?M.i(U+b)>>>S|M.i(U+b+1)<<32-S:M.i(U+b);return new f(D,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,p0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,as=f}).apply(typeof Wv<"u"?Wv:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g0,Hl,y0,sh,Bm,_0,v0,E0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,v){return c==Array.prototype||c==Object.prototype||(c[_]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var _=0;_<c.length;++_){var v=c[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var v=s;c=c.split(".");for(var R=0;R<c.length-1;R++){var q=c[R];if(!(q in v))break e;v=v[q]}c=c[c.length-1],R=v[c],_=_(R),_!=R&&_!=null&&e(v,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var v=0,R=!1,q={next:function(){if(!R&&v<c.length){var $=v++;return{value:_($,c[$]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function T(c,_,v){return c.call.apply(c.bind,arguments)}function w(c,_,v){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),c.apply(_,q)}}return function(){return c.apply(_,arguments)}}function C(c,_,v){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,C.apply(null,arguments)}function V(c,_){var v=Array.prototype.slice.call(arguments,1);return function(){var R=v.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function O(c,_){function v(){}v.prototype=_.prototype,c.aa=_.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(R,q,$){for(var ce=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ce[Le-2]=arguments[Le];return _.prototype[q].apply(R,ce)}}function H(c){const _=c.length;if(0<_){const v=Array(_);for(let R=0;R<_;R++)v[R]=c[R];return v}return[]}function B(c,_){for(let v=1;v<arguments.length;v++){const R=arguments[v];if(p(R)){const q=c.length||0,$=R.length||0;c.length=q+$;for(let ce=0;ce<$;ce++)c[q+ce]=R[ce]}else c.push(R)}}class G{constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function W(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var ae=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function pe(c,_,v){for(const R in c)_.call(v,c[R],R,c)}function M(c,_){for(const v in c)_.call(void 0,c[v],v,c)}function S(c){const _={};for(const v in c)_[v]=c[v];return _}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,_){let v,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(v in R)c[v]=R[v];for(let $=0;$<b.length;$++)v=b[$],Object.prototype.hasOwnProperty.call(R,v)&&(c[v]=R[v])}}function D(c){var _=1;c=c.split(":");const v=[];for(;0<_&&c.length;)v.push(c.shift()),_--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function x(){var c=ye;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class Oe{constructor(){this.h=this.g=null}add(_,v){const R=Ze.get();R.set(_,v),this.h?this.h.next=R:this.g=R,this.h=R}}var Ze=new G(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,he=!1,ye=new Oe,k=()=>{const c=m.Promise.resolve(void 0);ie=()=>{c.then(re)}};var re=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){U(v)}var _=Ze;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}he=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,_),m.removeEventListener("test",v,_)}catch{}return c}();function _e(c,_){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(ae){e:{try{Z(_.nodeName);var q=!0;break e}catch{}q=!1}q||(_=null)}}else v=="mouseover"?_=c.fromElement:v=="mouseout"&&(_=c.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_e.aa.h.call(this)}}O(_e,oe);var Se={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),Me=0;function it(c,_,v,R,q){this.listener=c,this.proxy=null,this.src=_,this.type=v,this.capture=!!R,this.ha=q,this.key=++Me,this.da=this.fa=!1}function qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Jt(c){this.src=c,this.g={},this.h=0}Jt.prototype.add=function(c,_,v,R,q){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ce=bn(c,_,R,q);return-1<ce?(_=c[ce],v||(_.fa=!1)):(_=new it(_,this.src,$,!!R,q),_.fa=v,c.push(_)),_};function wi(c,_){var v=_.type;if(v in c.g){var R=c.g[v],q=Array.prototype.indexOf.call(R,_,void 0),$;($=0<=q)&&Array.prototype.splice.call(R,q,1),$&&(qe(_),c.g[v].length==0&&(delete c.g[v],c.h--))}}function bn(c,_,v,R){for(var q=0;q<c.length;++q){var $=c[q];if(!$.da&&$.listener==_&&$.capture==!!v&&$.ha==R)return q}return-1}var pr="closure_lm_"+(1e6*Math.random()|0),gr={};function Ri(c,_,v,R,q){if(Array.isArray(_)){for(var $=0;$<_.length;$++)Ri(c,_[$],v,R,q);return null}return v=bu(v),c&&c[nt]?c.K(_,v,g(R)?!!R.capture:!1,q):Oo(c,_,v,!1,R,q)}function Oo(c,_,v,R,q,$){if(!_)throw Error("Invalid event type");var ce=g(q)?!!q.capture:!!q,Le=ko(c);if(Le||(c[pr]=Le=new Jt(c)),v=Le.add(_,v,R,ce,$),v.proxy)return v;if(R=ma(),v.proxy=R,R.src=c,R.listener=v,c.addEventListener)le||(q=ce),q===void 0&&(q=!1),c.addEventListener(_.toString(),R,q);else if(c.attachEvent)c.attachEvent(ga(_.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ma(){function c(v){return _.call(c.src,c.listener,v)}const _=cf;return c}function pa(c,_,v,R,q){if(Array.isArray(_))for(var $=0;$<_.length;$++)pa(c,_[$],v,R,q);else R=g(R)?!!R.capture:!!R,v=bu(v),c&&c[nt]?(c=c.i,_=String(_).toString(),_ in c.g&&($=c.g[_],v=bn($,v,R,q),-1<v&&(qe($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[_],c.h--)))):c&&(c=ko(c))&&(_=c.g[_.toString()],c=-1,_&&(c=bn(_,v,R,q)),(v=-1<c?_[c]:null)&&_s(v))}function _s(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[nt])wi(_.i,c);else{var v=c.type,R=c.proxy;_.removeEventListener?_.removeEventListener(v,R,c.capture):_.detachEvent?_.detachEvent(ga(v),R):_.addListener&&_.removeListener&&_.removeListener(R),(v=ko(_))?(wi(v,c),v.h==0&&(v.src=null,_[pr]=null)):qe(c)}}}function ga(c){return c in gr?gr[c]:gr[c]="on"+c}function cf(c,_){if(c.da)c=!0;else{_=new _e(_,this);var v=c.listener,R=c.ha||c.src;c.fa&&_s(c),c=v.call(R,_)}return c}function ko(c){return c=c[pr],c instanceof Jt?c:null}var ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function bu(c){return typeof c=="function"?c:(c[ln]||(c[ln]=function(_){return c.handleEvent(_)}),c[ln])}function bt(){ee.call(this),this.i=new Jt(this),this.M=this,this.F=null}O(bt,ee),bt.prototype[nt]=!0,bt.prototype.removeEventListener=function(c,_,v,R){pa(this,c,_,v,R)};function Dt(c,_){var v,R=c.F;if(R)for(v=[];R;R=R.F)v.push(R);if(c=c.M,R=_.type||_,typeof _=="string")_=new oe(_,c);else if(_ instanceof oe)_.target=_.target||c;else{var q=_;_=new oe(R,c),I(_,q)}if(q=!0,v)for(var $=v.length-1;0<=$;$--){var ce=_.g=v[$];q=Ci(ce,R,!0,_)&&q}if(ce=_.g=c,q=Ci(ce,R,!0,_)&&q,q=Ci(ce,R,!1,_)&&q,v)for($=0;$<v.length;$++)ce=_.g=v[$],q=Ci(ce,R,!1,_)&&q}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var v=c.g[_],R=0;R<v.length;R++)qe(v[R]);delete c.g[_],c.h--}}this.F=null},bt.prototype.K=function(c,_,v,R){return this.i.add(String(c),_,!1,v,R)},bt.prototype.L=function(c,_,v,R){return this.i.add(String(c),_,!0,v,R)};function Ci(c,_,v,R){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var q=!0,$=0;$<_.length;++$){var ce=_[$];if(ce&&!ce.da&&ce.capture==v){var Le=ce.listener,St=ce.ha||ce.src;ce.fa&&wi(c.i,ce),q=Le.call(St,R)!==!1&&q}}return q&&!R.defaultPrevented}function Au(c,_,v){if(typeof c=="function")v&&(c=C(c,v));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(c,_||0)}function Vo(c){c.g=Au(()=>{c.g=null,c.i&&(c.i=!1,Vo(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class hf extends ee{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Vo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){ee.call(this),this.h=c,this.g={}}O(vs,ee);var yr=[];function Kt(c){pe(c.g,function(_,v){this.g.hasOwnProperty(v)&&_s(_)},c),c.g={}}vs.prototype.N=function(){vs.aa.N.call(this),Kt(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mo=m.JSON.stringify,Xn=m.JSON.parse,en=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function jo(){}jo.prototype.h=null;function Su(c){return c.h||(c.h=c.i())}function wu(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){oe.call(this,"d")}O(_r,oe);function Un(){oe.call(this,"c")}O(Un,oe);var An={},vr=null;function ya(){return vr=vr||new bt}An.La="serverreachability";function Po(c){oe.call(this,An.La,c)}O(Po,oe);function Er(c){const _=ya();Dt(_,new Po(_))}An.STAT_EVENT="statevent";function _a(c,_){oe.call(this,An.STAT_EVENT,c),this.stat=_}O(_a,oe);function mt(c){const _=ya();Dt(_,new _a(_,c))}An.Ma="timingevent";function Ru(c,_){oe.call(this,An.Ma,c),this.size=_}O(Ru,oe);function Tr(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},_)}function br(){this.g=!0}br.prototype.xa=function(){this.g=!1};function Cu(c,_,v,R,q,$){c.info(function(){if(c.g)if($)for(var ce="",Le=$.split("&"),St=0;St<Le.length;St++){var Ue=Le[St].split("=");if(1<Ue.length){var Vt=Ue[0];Ue=Ue[1];var wt=Vt.split("_");ce=2<=wt.length&&wt[1]=="type"?ce+(Vt+"="+Ue+"&"):ce+(Vt+"=redacted&")}}else ce=null;else ce=$;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+_+`
`+v+`
`+ce})}function Iu(c,_,v,R,q,$,ce){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+_+`
`+v+`
`+$+" "+ce})}function Ar(c,_,v,R){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ot(c,v)+(R?" "+R:"")})}function Zn(c,_){c.info(function(){return"TIMEOUT: "+_})}br.prototype.info=function(){};function Ot(c,_){if(!c.g)return _;if(!_)return null;try{var v=JSON.parse(_);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var R=v[c];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var $=q[0];if($!="noop"&&$!="stop"&&$!="close")for(var ce=1;ce<q.length;ce++)q[ce]=""}}}}return Mo(v)}catch{return _}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Es;function va(){}O(va,jo),va.prototype.g=function(){return new XMLHttpRequest},va.prototype.i=function(){return{}},Es=new va;function Jn(c,_,v,R){this.j=c,this.i=_,this.l=v,this.R=R||1,this.U=new vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lo}function Lo(){this.i=null,this.g="",this.h=!1}var Sr={},Ts={};function Bn(c,_,v){c.L=1,c.v=Ss(ut(_)),c.m=v,c.P=!0,Ni(c,null)}function Ni(c,_){c.F=Date.now(),rt(c),c.A=ut(c.v);var v=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Oi(v.i,"t",R),c.C=0,v=c.j.J,c.h=new Lo,c.g=qu(c.j,v?_:null,!c.m),0<c.O&&(c.M=new hf(C(c.Y,c,c.g),c.O)),_=c.U,v=c.g,R=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(yr[0]=q.toString()),q=yr);for(var $=0;$<q.length;$++){var ce=Ri(v,q[$],R||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),Er(),Cu(c.i,c.u,c.A,c.l,c.R,c.m)}Jn.prototype.ca=function(c){c=c.target;const _=this.M;_&&In(c)==3?_.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)e:{const wt=In(this.g);var _=this.g.Ba();const ji=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Vu(this.g)))){this.J||wt!=4||_==7||(_==8||0>=ji?Er(3):Er(2)),Ea(this);var v=this.g.Z();this.X=v;t:if(wr(this)){var R=Vu(this.g);c="";var q=R.length,$=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),dn(this);var ce="";break t}this.h.i=new m.TextDecoder}for(_=0;_<q;_++)this.h.h=!0,c+=this.h.i.decode(R[_],{stream:!($&&_==q-1)});R.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,Iu(this.i,this.u,this.A,this.l,this.R,wt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,St=this.g;if((Le=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Le)){var Ue=Le;break t}}Ue=null}if(v=Ue)Ar(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mn(this,v);else{this.o=!1,this.s=3,mt(12),un(this),dn(this);break e}}if(this.P){v=!0;let Ut;for(;!this.J&&this.C<ce.length;)if(Ut=Rr(this,ce),Ut==Ts){wt==4&&(this.s=4,mt(14),v=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Sr){this.s=4,mt(15),Ar(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else Ar(this.i,this.l,Ut,null),mn(this,Ut);if(wr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||ce.length!=0||this.h.h||(this.s=1,mt(16),v=!1),this.o=this.o&&v,!v)Ar(this.i,this.l,ce,"[Invalid Chunked Response]"),un(this),dn(this);else if(0<ce.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ds(Vt),Vt.M=!0,mt(11))}}else Ar(this.i,this.l,ce,null),mn(this,ce);wt==4&&un(this),this.o&&!this.J&&(wt==4?Uu(this.j,this):(this.o=!1,rt(this)))}else yf(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),un(this),dn(this)}}}catch{}finally{}};function wr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Rr(c,_){var v=c.C,R=_.indexOf(`
`,v);return R==-1?Ts:(v=Number(_.substring(v,R)),isNaN(v)?Sr:(R+=1,R+v>_.length?Ts:(_=_.slice(R,R+v),c.C=R+v,_)))}Jn.prototype.cancel=function(){this.J=!0,un(this)};function rt(c){c.S=Date.now()+c.I,Uo(c,c.I)}function Uo(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tr(C(c.ba,c),_)}function Ea(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Jn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Zn(this.i,this.A),this.L!=2&&(Er(),mt(17)),un(this),this.s=2,dn(this)):Uo(this,this.S-c)};function dn(c){c.j.G==0||c.J||Uu(c.j,c)}function un(c){Ea(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,Kt(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function mn(c,_){try{var v=c.j;if(v.G!=0&&(v.g==c||Cr(v.h,c))){if(!c.K&&Cr(v.h,c)&&v.G==3){try{var R=v.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)xa(v),Ia(v);else break e;Xo(v),mt(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=Tr(C(v.Za,v),6e3));if(1>=Nu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Mi(v,11)}else if((c.K||v.g==c)&&xa(v),!W(_))for(q=v.Da.g.parse(_),_=0;_<q.length;_++){let Ue=q[_];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const Vt=Ue[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const wt=Ue[4];wt!=null&&(v.Aa=wt,v.j.info("SVER="+v.Aa));const ji=Ue[5];ji!=null&&typeof ji=="number"&&0<ji&&(R=1.5*ji,v.L=R,v.j.info("backChannelRequestTimeoutMs_="+R)),R=v;const Ut=c.g;if(Ut){const ai=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var $=R.h;$.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ir($,$.h),$.h=null))}if(R.D){const Zo=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(R.ya=Zo,He(R.I,R.D,Zo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),R=v;var ce=c;if(R.qa=zu(R,R.J?R.ia:null,R.W),ce.K){Sn(R.h,ce);var Le=ce,St=R.L;St&&(Le.I=St),Le.B&&(Ea(Le),rt(Le)),R.g=ce}else Pu(R);0<v.i.length&&Na(v)}else Ue[0]!="stop"&&Ue[0]!="close"||Mi(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Mi(v,7):Qo(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}Er(4)}catch{}}var ff=class{constructor(c,_){this.g=c,this.map=_}};function Bo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Nu(c){return c.h?1:c.g?c.g.size:0}function Cr(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Ir(c,_){c.g?c.g.add(_):c.h=_}function Sn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Bo.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const v of c.g.values())_=_.concat(v.D);return _}return H(c.i)}function xu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],v=c.length,R=0;R<v;R++)_.push(c[R]);return _}_=[],v=0;for(R in c)_[v++]=c[R];return _}function df(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var v=0;v<c;v++)_.push(v);return _}_=[],v=0;for(const R in c)_[v++]=R;return _}}}function bs(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var v=df(c),R=xu(c),q=R.length,$=0;$<q;$++)_.call(void 0,R[$],v&&v[$],c)}var qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(c,_){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var R=c[v].indexOf("="),q=null;if(0<=R){var $=c[v].substring(0,R);q=c[v].substring(R+1)}else $=c[v];_($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function xi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xi){this.h=c.h,Nr(this,c.j),this.o=c.o,this.g=c.g,As(this,c.s),this.l=c.l;var _=c.i,v=new ei;v.i=_.i,_.g&&(v.g=new Map(_.g),v.h=_.h),ba(this,v),this.m=c.m}else c&&(_=String(c).match(qo))?(this.h=!1,Nr(this,_[1]||"",!0),this.o=xr(_[2]||""),this.g=xr(_[3]||"",!0),As(this,_[4]),this.l=xr(_[5]||"",!0),ba(this,_[6]||"",!0),this.m=xr(_[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}xi.prototype.toString=function(){var c=[],_=this.j;_&&c.push(wn(_,Ho,!0),":");var v=this.g;return(v||_=="file")&&(c.push("//"),(_=this.o)&&c.push(wn(_,Ho,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(wn(v,v.charAt(0)=="/"?Fo:Du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",wn(v,gf)),c.join("")};function ut(c){return new xi(c)}function Nr(c,_,v){c.j=v?xr(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function As(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function ba(c,_,v){_ instanceof ei?(c.i=_,Go(c.i,c.h)):(v||(_=wn(_,pf)),c.i=new ei(_,c.h))}function He(c,_,v){c.i.set(_,v)}function Ss(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xr(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wn(c,_,v){return typeof c=="string"?(c=encodeURI(c).replace(_,mf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,Du=/[#\?:]/g,Fo=/[#\?]/g,pf=/[#\?@]/g,gf=/#/g;function ei(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ta(c.i,function(_,v){c.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}r=ei.prototype,r.add=function(c,_){Rn(this),this.i=null,c=ki(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(_),this.h+=1,this};function Aa(c,_){Rn(c),_=ki(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Di(c,_){return Rn(c),_=ki(c,_),c.g.has(_)}r.forEach=function(c,_){Rn(this),this.g.forEach(function(v,R){v.forEach(function(q){c.call(_,q,R,this)},this)},this)},r.na=function(){Rn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),v=[];for(let R=0;R<_.length;R++){const q=c[R];for(let $=0;$<q.length;$++)v.push(_[R])}return v},r.V=function(c){Rn(this);let _=[];if(typeof c=="string")Di(this,c)&&(_=_.concat(this.g.get(ki(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)_=_.concat(c[v])}return _},r.set=function(c,_){return Rn(this),this.i=null,c=ki(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},r.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function Oi(c,_,v){Aa(c,_),0<v.length&&(c.i=null,c.g.set(ki(c,_),H(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var v=0;v<_.length;v++){var R=_[v];const $=encodeURIComponent(String(R)),ce=this.V(R);for(R=0;R<ce.length;R++){var q=$;ce[R]!==""&&(q+="="+encodeURIComponent(String(ce[R]))),c.push(q)}}return this.i=c.join("&")};function ki(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Go(c,_){_&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(v,R){var q=R.toLowerCase();R!=q&&(Aa(this,R),Oi(this,q,v))},c)),c.j=_}function Ou(c,_){const v=new br;if(m.Image){const R=new Image;R.onload=V(Cn,v,"TestLoadImage: loaded",!0,_,R),R.onerror=V(Cn,v,"TestLoadImage: error",!1,_,R),R.onabort=V(Cn,v,"TestLoadImage: abort",!1,_,R),R.ontimeout=V(Cn,v,"TestLoadImage: timeout",!1,_,R),m.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else _(!1)}function ws(c,_){const v=new br,R=new AbortController,q=setTimeout(()=>{R.abort(),Cn(v,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:R.signal}).then($=>{clearTimeout(q),$.ok?Cn(v,"TestPingServer: ok",!0,_):Cn(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Cn(v,"TestPingServer: error",!1,_)})}function Cn(c,_,v,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(v)}catch{}}function Rs(){this.g=new en}function ti(c,_,v){const R=v||"";try{bs(c,function(q,$){let ce=q;g(q)&&(ce=Mo(q)),_.push(R+$+"="+encodeURIComponent(ce))})}catch(q){throw _.push(R+"type="+encodeURIComponent("_badmap")),q}}function Dr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(Dr,jo),Dr.prototype.g=function(){return new Vi(this.l,this.j)},Dr.prototype.i=function(c){return function(){return c}}({});function Vi(c,_){bt.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Vi,bt),r=Vi.prototype,r.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,ii(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?ni(this):ii(this),this.readyState==3&&Ko(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ni(this))},r.Qa=function(c){this.g&&(this.response=c,ni(this))},r.ga=function(){this.g&&ni(this)};function ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ii(c)}r.setRequestHeader=function(c,_){this.u.append(c,_)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=_.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $o(c){let _="";return pe(c,function(v,R){_+=R,_+=":",_+=v,_+=`\r
`}),_}function kt(c,_,v){e:{for(R in v){var R=!1;break e}R=!0}R||(v=$o(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):He(c,_,v))}function Ke(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ke,bt);var Sa=/^https?$/i,Cs=["POST","PUT"];r=Ke.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,_,v,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Es.g(),this.v=this.o?Su(this.o):Su(Es),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch($){ku(this,$);return}if(c=v||"",v=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)v.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())v.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Cs,_,void 0))||R||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ce]of v)this.g.setRequestHeader($,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Is(this),this.u=!0,this.g.send(c),this.u=!1}catch($){ku(this,$)}};function ku(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,wa(c),ri(c)}function wa(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Ke.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},r.bb=function(){Ra(this)};function Ra(c){if(c.h&&typeof f<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Au(c.Ea,0,c);else if(Dt(c,"readystatechange"),In(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var v;if(!(v=_)){var R;if(R=ce===0){var q=String(c.D).match(qo)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),R=!Sa.test(q?q.toLowerCase():"")}v=R}if(v)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var $=2<In(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",wa(c)}}finally{ri(c)}}}}function ri(c,_){if(c.g){Is(c);const v=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Dt(c,"ready");try{v.onreadystatechange=R}catch{}}}function Is(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Xn(_)}};function Vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yf(c){const _={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(W(c[R]))continue;var v=D(c[R]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=_[q]||[];_[q]=$,$.push(v)}M(_,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(c,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||_}function Ca(c){this.Aa=0,this.i=[],this.j=new br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ns("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ns("baseRetryDelayMs",5e3,c),this.cb=Ns("retryDelaySeedMs",1e4,c),this.Wa=Ns("forwardChannelMaxRetries",2,c),this.wa=Ns("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Bo(c&&c.concurrentRequestLimit),this.Da=new Rs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ca.prototype,r.la=8,r.G=1,r.connect=function(c,_,v,R){mt(0),this.W=c,this.H=_||{},v&&R!==void 0&&(this.H.OSID=v,this.H.OAID=R),this.F=this.X,this.I=zu(this,null,this.W),Na(this)};function Qo(c){if(Mu(c),c.G==3){var _=c.U++,v=ut(c.I);if(He(v,"SID",c.K),He(v,"RID",_),He(v,"TYPE","terminate"),xs(c,v),_=new Jn(c,c.j,_),_.L=2,_.v=Ss(ut(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=_.v,v=!0),v||(_.g=qu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),rt(_)}Bu(c)}function Ia(c){c.g&&(Ds(c),c.g.cancel(),c.g=null)}function Mu(c){Ia(c),c.u&&(m.clearTimeout(c.u),c.u=null),xa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Na(c){if(!zo(c.h)&&!c.s){c.s=!0;var _=c.Ga;ie||k(),he||(ie(),he=!0),ye.add(_,c),c.B=0}}function _f(c,_){return Nu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tr(C(c.Ga,c,_),Wo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new Jn(this,this.j,c);let $=this.o;if(this.S&&($?($=S($),I($,this.S)):$=this.S),this.m!==null||this.O||(q.H=$,$=null),this.P)e:{for(var _=0,v=0;v<this.i.length;v++){t:{var R=this.i[v];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=v;break e}if(_===4096||v===this.i.length-1){_=v+1;break e}}_=1e3}else _=1e3;_=ju(this,q,_),v=ut(this.I),He(v,"RID",c),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),xs(this,v),$&&(this.O?_="headers="+encodeURIComponent(String($o($)))+"&"+_:this.m&&kt(v,this.m,$)),Ir(this.h,q),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",_),He(v,"SID","null"),q.T=!0,Bn(q,v,null)):Bn(q,v,_),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||zo(this.h)||Yo(this))};function Yo(c,_){var v;_?v=_.l:v=c.U++;const R=ut(c.I);He(R,"SID",c.K),He(R,"RID",v),He(R,"AID",c.T),xs(c,R),c.m&&c.o&&kt(R,c.m,c.o),v=new Jn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),_&&(c.i=_.D.concat(c.i)),_=ju(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ir(c.h,v),Bn(v,R,_)}function xs(c,_){c.H&&pe(c.H,function(v,R){He(_,R,v)}),c.l&&bs({},function(v,R){He(_,R,v)})}function ju(c,_,v){v=Math.min(c.i.length,v);var R=c.l?C(c.l.Na,c.l,c):null;e:{var q=c.i;let $=-1;for(;;){const ce=["count="+v];$==-1?0<v?($=q[0].g,ce.push("ofs="+$)):$=0:ce.push("ofs="+$);let Le=!0;for(let St=0;St<v;St++){let Ue=q[St].g;const Vt=q[St].map;if(Ue-=$,0>Ue)$=Math.max(0,q[St].g-100),Le=!1;else try{ti(Vt,ce,"req"+Ue+"_")}catch{R&&R(Vt)}}if(Le){R=ce.join("&");break e}}}return c=c.i.splice(0,v),_.D=c,R}function Pu(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;ie||k(),he||(ie(),he=!0),ye.add(_,c),c.v=0}}function Xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tr(C(c.Fa,c),Wo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tr(C(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Ia(this),Lu(this))};function Ds(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Lu(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=ut(c.qa);He(_,"RID","rpc"),He(_,"SID",c.K),He(_,"AID",c.T),He(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(_,"TO",c.ja),He(_,"TYPE","xmlhttp"),xs(c,_),c.m&&c.o&&kt(_,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ss(ut(_)),v.m=null,v.P=!0,Ni(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Ia(this),Xo(this),mt(19))};function xa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Uu(c,_){var v=null;if(c.g==_){xa(c),Ds(c),c.g=null;var R=2}else if(Cr(c.h,_))v=_.D,Sn(c.h,_),R=1;else return;if(c.G!=0){if(_.o)if(R==1){v=_.m?_.m.length:0,_=Date.now()-_.F;var q=c.B;R=ya(),Dt(R,new Ru(R,v)),Na(c)}else Pu(c);else if(q=_.s,q==3||q==0&&0<_.X||!(R==1&&_f(c,_)||R==2&&Xo(c)))switch(v&&0<v.length&&(_=c.h,_.i=_.i.concat(v)),q){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Wo(c,_){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*_}function Mi(c,_){if(c.j.info("Error code "+_),_==2){var v=C(c.fb,c),R=c.Xa;const q=!R;R=new xi(R||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Nr(R,"https"),Ss(R),q?Ou(R.toString(),v):ws(R.toString(),v)}else mt(2);c.G=0,c.l&&c.l.sa(_),Bu(c),Mu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Bu(c){if(c.G=0,c.ka=[],c.l){const _=tn(c.h);(_.length!=0||c.i.length!=0)&&(B(c.ka,_),B(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function zu(c,_,v){var R=v instanceof xi?ut(v):new xi(v);if(R.g!="")_&&(R.g=_+"."+R.g),As(R,R.s);else{var q=m.location;R=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;var $=new xi(null);R&&Nr($,R),_&&($.g=_),q&&As($,q),v&&($.l=v),R=$}return v=c.D,_=c.ya,v&&_&&He(R,v,_),He(R,"VER",c.la),xs(c,R),R}function qu(c,_,v){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new Ke(new Dr({eb:v})):new Ke(c.pa),_.Ha(c.J),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}r=Hu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Da(){}Da.prototype.g=function(c,_){return new nn(c,_)};function nn(c,_){bt.call(this),this.g=new Ca(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!W(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!W(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new si(this)}O(nn,bt),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Qo(this.g)},nn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Mo(c),c=v);_.i.push(new ff(_.Ya++,c)),_.G==3&&Na(_)},nn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,nn.aa.N.call(this)};function Fu(c){_r.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const v in _){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}O(Fu,_r);function Gu(){Un.call(this),this.status=1}O(Gu,Un);function si(c){this.g=c}O(si,Hu),si.prototype.ua=function(){Dt(this.g,"a")},si.prototype.ta=function(c){Dt(this.g,new Fu(c))},si.prototype.sa=function(c){Dt(this.g,new Gu)},si.prototype.ra=function(){Dt(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,E0=function(){return new Da},v0=function(){return ya()},_0=An,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,sh=At,Ii.COMPLETE="complete",y0=Ii,wu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Hl=wu,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,g0=Ke}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const Zv="@firebase/firestore",Jv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new up("@firebase/firestore");function so(){return ra.logLevel}function fe(r,...e){if(ra.logLevel<=ke.DEBUG){const n=e.map(Tp);ra.debug(`Firestore (${Ro}): ${r}`,...n)}}function cr(r,...e){if(ra.logLevel<=ke.ERROR){const n=e.map(Tp);ra.error(`Firestore (${Ro}): ${r}`,...n)}}function yo(r,...e){if(ra.logLevel<=ke.WARN){const n=e.map(Tp);ra.warn(`Firestore (${Ro}): ${r}`,...n)}}function Tp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r="Unexpected state"){const e=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+r;throw cr(e),new Error(e)}function $e(r,e){r||Ae()}function Ce(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class WN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ZN{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new T0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Xt(e)}}class JN{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ex{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new JN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tx{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,En(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new eE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new eE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=nx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function _o(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=-62135596800,nE=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*nE);return new Nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tE)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-tE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Nt(0,0))}static max(){return new we(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="__name__";class fi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(),s===void 0?s=e.length-n:s>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=fi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=fi.isNumericId(e),o=fi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?fi.extractNumericId(e).compare(fi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return as.fromString(e.substring(4,e.length-2))}}class tt extends fi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const ix=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends fi{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return ix.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iE}static keyField(){return new Ft([iE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(tt.fromString(e))}static fromName(e){return new Ee(tt.fromString(e).popFirst(5))}static empty(){return new Ee(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function rx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Nt(n+1,0):new Nt(n,s));return new us(o,Ee.empty(),e)}function sx(r){return new us(r.readTime,r.key,tu)}class us{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new us(we.min(),Ee.empty(),tu)}static max(){return new us(we.max(),Ee.empty(),tu)}}function ax(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==ox)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(T=>{f[g]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function ux(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Bh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=-1;function zh(r){return r==null}function vh(r){return r===0&&1/r==-1/0}function cx(r){return typeof r=="number"&&Number.isInteger(r)&&!vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="";function hx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=rE(e)),e=fx(r.get(n),e);return rE(e)}function fx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case A0:n+="";break;default:n+=u}}return n}function rE(r){return r+A0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function S0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ht(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aE(this.data.getIterator())}getIteratorFrom(e){return new aE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class aE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new xt(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new w0("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const dx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(r){if($e(!!r),typeof r=="string"){let e=0;const n=dx.exec(r);if($e(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hs(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="server_timestamp",C0="__type__",I0="__previous_value__",N0="__local_write_time__";function Ap(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[C0])===null||n===void 0?void 0:n.stringValue)===R0}function qh(r){const e=r.mapValue.fields[I0];return Ap(e)?qh(e):e}function nu(r){const e=cs(r.mapValue.fields[N0].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Eh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Eh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="__type__",px="__max__",$c={mapValue:{}},D0="__vector__",Th="value";function fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ap(r)?4:yx(r)?9007199254740991:gx(r)?10:11:Ae()}function _i(r,e){if(r===e)return!0;const n=fs(r);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=cs(o.timestampValue),m=cs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return hs(o.bytesValue).isEqual(hs(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?vh(f)===vh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return _o(r.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(sE(f)!==sE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!_i(f[p],m[p])))return!1;return!0}(r,e);default:return Ae()}}function ru(r,e){return(r.values||[]).find(n=>_i(n,e))!==void 0}function vo(r,e){if(r===e)return 0;const n=fs(r),s=fs(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return oE(r.timestampValue,e.timestampValue);case 4:return oE(nu(r),nu(e));case 5:return Pe(r.stringValue,e.stringValue);case 6:return function(u,f){const m=hs(u),p=hs(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Pe(m[g],p[g]);if(T!==0)return T}return Pe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Pe(gt(u.latitude),gt(f.latitude));return m!==0?m:Pe(gt(u.longitude),gt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return lE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,T;const w=u.fields||{},C=f.fields||{},V=(m=w[Th])===null||m===void 0?void 0:m.arrayValue,O=(p=C[Th])===null||p===void 0?void 0:p.arrayValue,H=Pe(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((T=O==null?void 0:O.values)===null||T===void 0?void 0:T.length)||0);return H!==0?H:lE(V,O)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const C=Pe(p[w],T[w]);if(C!==0)return C;const V=vo(m[p[w]],g[T[w]]);if(V!==0)return V}return Pe(p.length,T.length)}(r.mapValue,e.mapValue);default:throw Ae()}}function oE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=cs(r),s=cs(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function lE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=vo(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function Eo(r){return zm(r)}function zm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=cs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return hs(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ee.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=zm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${zm(n.fields[f])}`;return o+"}"}(r.mapValue):Ae()}function ah(r){switch(fs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(r);return e?16+ah(e):16;case 5:return 2*r.stringValue.length;case 6:return hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ah(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return gs(s.fields,(u,f)=>{o+=u.length+ah(f)}),o}(r.mapValue);default:throw Ae()}}function uE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function qm(r){return!!r&&"integerValue"in r}function Sp(r){return!!r&&"arrayValue"in r}function cE(r){return!!r&&"nullValue"in r}function hE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oh(r){return!!r&&"mapValue"in r}function gx(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[x0])===null||n===void 0?void 0:n.stringValue)===D0}function Ql(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ql(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(r.arrayValue.values[n]);return e}return Object.assign({},r)}function yx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===px}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=Ft.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ql(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){gs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new fn(Ql(this.value))}}function O0(r){const e=[];return gs(r.fields,(n,s)=>{const o=new Ft([n]);if(oh(s)){const u=O0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,we.min(),we.min(),we.min(),fn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,we.min(),we.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,we.min(),we.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function fE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=vo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function dE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!_i(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function _x(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{}class Tt extends k0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Ex(e,n,s):n==="array-contains"?new Ax(e,s):n==="in"?new Sx(e,s):n==="not-in"?new wx(e,s):n==="array-contains-any"?new Rx(e,s):new Tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Tx(e,s):new bx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vo(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends k0{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Yn(e,n)}matches(e){return V0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function V0(r){return r.op==="and"}function M0(r){return vx(r)&&V0(r)}function vx(r){for(const e of r.filters)if(e instanceof Yn)return!1;return!0}function Hm(r){if(r instanceof Tt)return r.field.canonicalString()+r.op.toString()+Eo(r.value);if(M0(r))return r.filters.map(e=>Hm(e)).join(",");{const e=r.filters.map(n=>Hm(n)).join(",");return`${r.op}(${e})`}}function j0(r,e){return r instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&_i(s.value,o.value)}(r,e):r instanceof Yn?function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&j0(f,o.filters[m]),!0):!1}(r,e):void Ae()}function P0(r){return r instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`}(r):r instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(P0).join(" ,")+"}"}(r):"Filter"}class Ex extends Tt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class Tx extends Tt{constructor(e,n){super(e,"in",n),this.keys=L0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bx extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=L0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function L0(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class Ax extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sp(n)&&ru(n.arrayValue,this.value)}}class Sx extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class wx extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ru(this.value.arrayValue,n)}}class Rx extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ru(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function mE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Cx(r,e,n,s,o,u,f)}function wp(r){const e=Ce(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Hm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Eo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Eo(s)).join(",")),e.le=n}return e.le}function Rp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!_x(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!j0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!dE(r.startAt,e.startAt)&&dE(r.endAt,e.endAt)}function Fm(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Ix(r,e,n,s,o,u,f,m){return new gu(r,e,n,s,o,u,f,m)}function Cp(r){return new gu(r)}function pE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function U0(r){return r.collectionGroup!==null}function Yl(r){const e=Ce(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Ft.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Ah(u,s))}),n.has(Ft.keyField().canonicalString())||e.he.push(new Ah(Ft.keyField(),s))}return e.he}function gi(r){const e=Ce(r);return e.Pe||(e.Pe=Nx(e,Yl(r))),e.Pe}function Nx(r,e){if(r.limitType==="F")return mE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ah(o.field,u)});const n=r.endAt?new bh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new bh(r.startAt.position,r.startAt.inclusive):null;return mE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Gm(r,e){const n=r.filters.concat([e]);return new gu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Km(r,e,n){return new gu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Hh(r,e){return Rp(gi(r),gi(e))&&r.limitType===e.limitType}function B0(r){return`${wp(gi(r))}|lt:${r.limitType}`}function ao(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>P0(o)).join(", ")}]`),zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Eo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Eo(o)).join(",")),`Target(${s})`}(gi(r))}; limitType=${r.limitType})`}function Fh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Yl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=fE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Yl(s),o)||s.endAt&&!function(f,m,p){const g=fE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Yl(s),o))}(r,e)}function xx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function z0(r){return(e,n)=>{let s=!1;for(const o of Yl(r)){const u=Dx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Dx(r,e,n){const s=r.field.isKeyField()?Ee.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?vo(p,g):Ae()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return S0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=new lt(Ee.comparator);function hr(){return Ox}const q0=new lt(Ee.comparator);function Fl(...r){let e=q0;for(const n of r)e=e.insert(n.key,n);return e}function H0(r){let e=q0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Zs(){return Xl()}function F0(){return Xl()}function Xl(){return new fa(r=>r.toString(),(r,e)=>r.isEqual(e))}const kx=new lt(Ee.comparator),Vx=new xt(Ee.comparator);function Ve(...r){let e=Vx;for(const n of r)e=e.add(n);return e}const Mx=new xt(Pe);function jx(){return Mx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function G0(r){return{integerValue:""+r}}function Px(r,e){return cx(e)?G0(e):Ip(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function Lx(r,e,n){return r instanceof Sh?function(o,u){const f={fields:{[C0]:{stringValue:R0},[N0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ap(u)&&(u=qh(u)),u&&(f.fields[I0]=u),{mapValue:f}}(n,e):r instanceof su?$0(r,e):r instanceof au?Q0(r,e):function(o,u){const f=K0(o,u),m=gE(f)+gE(o.Ie);return qm(f)&&qm(o.Ie)?G0(m):Ip(o.serializer,m)}(r,e)}function Ux(r,e,n){return r instanceof su?$0(r,e):r instanceof au?Q0(r,e):n}function K0(r,e){return r instanceof wh?function(s){return qm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Sh extends Gh{}class su extends Gh{constructor(e){super(),this.elements=e}}function $0(r,e){const n=Y0(e);for(const s of r.elements)n.some(o=>_i(o,s))||n.push(s);return{arrayValue:{values:n}}}class au extends Gh{constructor(e){super(),this.elements=e}}function Q0(r,e){let n=Y0(e);for(const s of r.elements)n=n.filter(o=>!_i(o,s));return{arrayValue:{values:n}}}class wh extends Gh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function gE(r){return gt(r.integerValue||r.doubleValue)}function Y0(r){return Sp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Bx(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof su&&o instanceof su||s instanceof au&&o instanceof au?_o(s.elements,o.elements,_i):s instanceof wh&&o instanceof wh?_i(s.Ie,o.Ie):s instanceof Sh&&o instanceof Sh}(r.transform,e.transform)}class zx{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Kh{}function X0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Np(r.key,Kn.none()):new yu(r.key,r.data,Kn.none());{const n=r.data,s=fn.empty();let o=new xt(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ys(r.key,s,new Tn(o.toArray()),Kn.none())}}function qx(r,e,n){r instanceof yu?function(o,u,f){const m=o.value.clone(),p=_E(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ys?function(o,u,f){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=_E(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(W0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Wl(r,e,n,s){return r instanceof yu?function(u,f,m,p){if(!lh(u.precondition,f))return m;const g=u.value.clone(),T=vE(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof ys?function(u,f,m,p){if(!lh(u.precondition,f))return m;const g=vE(u.fieldTransforms,p,f),T=f.data;return T.setAll(W0(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,f,m){return lh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function Hx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=K0(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function yE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_o(s,o,(u,f)=>Bx(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class yu extends Kh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ys extends Kh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function W0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function _E(r,e,n){const s=new Map;$e(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Ux(f,m,n[o]))}return s}function vE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Lx(u,f,e))}return s}class Np extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fx extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&qx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=F0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=X0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(n,s)=>yE(n,s))&&_o(this.baseMutations,e.baseMutations,(n,s)=>yE(n,s))}}class xp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length);let o=function(){return kx}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new xp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,ze;function Qx(r){switch(r){case ne.OK:return Ae();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ae()}}function Z0(r){if(r===void 0)return cr("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Et.OK:return ne.OK;case Et.CANCELLED:return ne.CANCELLED;case Et.UNKNOWN:return ne.UNKNOWN;case Et.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Et.INTERNAL:return ne.INTERNAL;case Et.UNAVAILABLE:return ne.UNAVAILABLE;case Et.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Et.NOT_FOUND:return ne.NOT_FOUND;case Et.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Et.ABORTED:return ne.ABORTED;case Et.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Et.DATA_LOSS:return ne.DATA_LOSS;default:return Ae()}}(ze=Et||(Et={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new as([4294967295,4294967295],0);function EE(r){const e=Yx().encode(r),n=new p0;return n.update(e),new Uint8Array(n.digest())}function TE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new as([n,s],0),new as([o,u],0)]}class Dp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=as.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(as.fromNumber(s)));return o.compare(Xx)===1&&(o=new as([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=EE(e),[s,o]=TE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Dp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=EE(e),[s,o]=TE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new $h(we.min(),o,new lt(Pe),hr(),Ve())}}class _u{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _u(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class J0{constructor(e,n){this.targetId=e,this.ge=n}}class eb{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class bE{constructor(){this.pe=0,this.ye=AE(),this.we=Gt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae()}}),new _u(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=AE()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Wx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=hr(),this.$e=Qc(),this.Ke=Qc(),this.Ue=new lt(Pe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Fm(u))if(s===0){const f=new Ee(u.path);this.ze(n,f,Wt.newNoDocument(f,we.min()))}else $e(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=hs(s).toUint8Array()}catch(p){if(p instanceof w0)return yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Dp(f,o,u)}catch(p){return yo(p instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Fm(m.target)){const p=new Ee(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Wt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ve();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new $h(e,n,this.Ue,this.Qe,s);return this.Qe=hr(),this.$e=Qc(),this.Ke=Qc(),this.Ue=new lt(Pe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new bE,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new xt(Pe),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new xt(Pe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new bE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Qc(){return new lt(Ee.comparator)}function AE(){return new lt(Ee.comparator)}const Zx={asc:"ASCENDING",desc:"DESCENDING"},Jx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e1={and:"AND",or:"OR"};class t1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(r,e){return r.useProto3Json||zh(e)?e:{value:e}}function Rh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function n1(r,e){return Rh(r,e.toTimestamp())}function yi(r){return $e(!!r),we.fromTimestamp(function(n){const s=cs(n);return new Nt(s.seconds,s.nanos)}(r))}function Op(r,e){return Qm(r,e).canonicalString()}function Qm(r,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function nb(r){const e=tt.fromString(r);return $e(ob(e)),e}function Ym(r,e){return Op(r.databaseId,e.path)}function Am(r,e){const n=nb(e);if(n.get(1)!==r.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ee(rb(n))}function ib(r,e){return Op(r.databaseId,e)}function i1(r){const e=nb(r);return e.length===4?tt.emptyPath():rb(e)}function Xm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rb(r){return $e(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function SE(r,e,n){return{name:Ym(r,e),fields:n.value.mapValue.fields}}function r1(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?($e(T===void 0||typeof T=="string"),Gt.fromBase64String(T||"")):($e(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Gt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const T=g.code===void 0?ne.UNKNOWN:Z0(g.code);return new de(T,g.message||"")}(f);n=new eb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Am(r,s.document.name),u=yi(s.document.updateTime),f=s.document.createTime?yi(s.document.createTime):we.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new uh(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Am(r,s.document),u=s.readTime?yi(s.readTime):we.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new uh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Am(r,s.document),u=s.removedTargetIds||[];n=new uh([],u,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new $x(o,u),m=s.targetId;n=new J0(m,f)}}return n}function s1(r,e){let n;if(e instanceof yu)n={update:SE(r,e.key,e.value)};else if(e instanceof Np)n={delete:Ym(r,e.key)};else if(e instanceof ys)n={update:SE(r,e.key,e.data),updateMask:m1(e.fieldMask)};else{if(!(e instanceof Fx))return Ae();n={verify:Ym(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ae()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:n1(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae()}(r,e.precondition)),n}function a1(r,e){return r&&r.length>0?($e(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?yi(o.updateTime):yi(u);return f.isEqual(we.min())&&(f=yi(u)),new zx(f,o.transformResults||[])}(n,e))):[]}function o1(r,e){return{documents:[ib(r,e.path)]}}function l1(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ib(r,o);const u=function(g){if(g.length!==0)return ab(Yn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(T=>function(C){return{field:oo(C.field),direction:h1(C.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=$m(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function u1(r){let e=i1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(w){const C=sb(w);return C instanceof Yn&&M0(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(C=>function(O){return new Ah(lo(O.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(w){let C;return C=typeof w=="object"?w.value:w,zh(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(w){const C=!!w.before,V=w.values||[];return new bh(V,C)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const C=!w.before,V=w.values||[];return new bh(V,C)}(n.endAt)),Ix(e,o,f,u,m,"F",p,g)}function c1(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sb(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(n.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(r):r.fieldFilter!==void 0?function(n){return Tt.create(lo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(s=>sb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(r):Ae()}function h1(r){return Zx[r]}function f1(r){return Jx[r]}function d1(r){return e1[r]}function oo(r){return{fieldPath:r.canonicalString()}}function lo(r){return Ft.fromServerFormat(r.fieldPath)}function ab(r){return r instanceof Tt?function(n){if(n.op==="=="){if(hE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(cE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(cE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:f1(n.op),value:n.value}}}(r):r instanceof Yn?function(n){const s=n.getFilters().map(o=>ab(o));return s.length===1?s[0]:{compositeFilter:{op:d1(n.op),filters:s}}}(r):Ae()}function m1(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ob(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.Tt=e}}function g1(r){const e=u1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.Tn=new _1}addToCollectionParentIndex(e,n){return this.Tn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(us.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class _1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new xt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lb=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(lb,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new To(0)}static Un(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="LruGarbageCollector",v1=1048576;function CE([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class E1{constructor(e){this.Hn=e,this.buffer=new xt(CE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();CE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class T1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(RE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?fe(RE,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.er(3e5)})}}class b1{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Bh.ae);const s=new E1(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(wE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),so()<=ke.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function A1(r,e){return new b1(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Wl(s.mutation,o,Tn.empty(),Nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=Zs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Fl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=hr();const f=Xl(),m=function(){return Xl()}();return n.forEach((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof ys)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),Wl(T.mutation,g,T.mutation.getFieldMask(),Nt.now())):f.set(g.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,T)=>f.set(g,T)),n.forEach((g,T)=>{var w;return m.set(g,new w1(T,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new lt((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||Tn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const w=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,w=F0();T.forEach(C=>{if(!u.has(C)){const V=X0(n.get(C),s.get(C));V!==null&&w.set(C,V),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Zs());let m=tu,p=u;return f.next(g=>te.forEach(g,(T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(T)?te.resolve():this.remoteDocumentCache.getEntry(e,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(T=>({batchId:m,changes:H0(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Fl();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(w,C){return new gu(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((w,C)=>{f=f.insert(w,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,Wt.newInvalidDocument(T)))});let m=Fl();return f.forEach((p,g)=>{const T=u.get(p);T!==void 0&&Wl(T.mutation,g,Tn.empty(),Nt.now()),Fh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return te.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:g1(o.bundledQuery),readTime:yi(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.overlays=new lt(Ee.comparator),this.Rr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,f=new Ee(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt((g,T)=>g-T);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=Zs(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return te.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Kx(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.Vr=new xt(Lt.mr),this.gr=new xt(Lt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Lt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new Ee(new tt([])),s=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ee(new tt([])),s=new Lt(n,e),o=new Lt(n,e+1);let u=Ve();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Lt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ee.comparator(e.key,n.key)||Pe(e.Cr,n.Cr)}static pr(e,n){return Pe(e.Cr,n.Cr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new xt(Lt.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Gx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?bp:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(Pe);return n.forEach(o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),te.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new Ee(u),0);let m=new xt(Pe);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),te.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){$e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return te.forEach(n.mutations,o=>{const u=new Lt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Lt(n,0),o=this.Mr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.kr=e,this.docs=function(){return new lt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=hr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=hr();const f=n.path,m=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||ax(sx(T),s)<=0||(o.has(T.key)||Fh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae()}qr(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new O1(this)}getSize(e){return te.resolve(this.size)}}class O1 extends S1{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.persistence=e,this.Qr=new fa(n=>wp(n),Rp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new kp,this.targetCount=0,this.Ur=To.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),te.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new To(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.zn(n),te.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Bh(0),this.zr=!1,this.zr=!0,this.jr=new N1,this.referenceDelegate=e(this),this.Hr=new k1(this),this.indexManager=new y1,this.remoteDocumentCache=function(o){return new D1(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new p1(n),this.Yr=new C1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new x1(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new V1(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return te.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class V1 extends lx{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.ti=new kp,this.ni=null}static ri(e){return new Vp(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),te.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,s=>{const o=Ee.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return te.or([()=>te.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.oi=new fa(s=>hx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=A1(this,n)}static ri(e,n){return new Ch(e,n)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return te.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),te.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ah(e.data.value)),n}ar(e,n,s){return te.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Mp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return pR()?8:ux(Zt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new M1;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(so()<=ke.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(so()<=ke.DEBUG&&fe("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(so()<=ke.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):te.resolve())}rs(e,n){if(pE(n))return te.resolve(null);let s=gi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Km(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Km(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return pE(n)||o.isEqual(we.min())?te.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?te.resolve(null):(so()<=ke.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.hs(e,f,n,rx(o,tu)).next(m=>m))})}cs(e,n){let s=new xt(z0(e));return n.forEach((o,u)=>{Fh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return so()<=ke.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ns.getDocumentsMatchingQuery(e,n,us.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="LocalStore",P1=3e8;class L1{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new lt(Pe),this.Is=new fa(u=>wp(u),Rp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function U1(r,e,n,s){return new L1(r,e,n,s)}async function cb(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function B1(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const w=g.batch,C=w.keys();let V=te.resolve();return C.forEach(O=>{V=V.next(()=>T.getEntry(p,O)).next(H=>{const B=g.docVersions.get(O);$e(B!==null),H.version.compareTo(B)<0&&(w.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),T.addEntry(H)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function hb(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function z1(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,w)=>{const C=o.get(w);if(!C)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,w)));let V=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?V=V.withResumeToken(Gt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,s)),o=o.insert(w,V),function(H,B,G){return H.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=P1?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(C,V,T)&&m.push(n.Hr.updateTargetData(u,V))});let p=hr(),g=Ve();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(q1(u,f,e.documentUpdates).next(T=>{p=T.Vs,g=T.fs})),!s.isEqual(we.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function q1(r,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=hr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):fe(jp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function H1(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=bp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function F1(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new is(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Wm(r,e,n){const s=Ce(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Io(f))throw f;fe(jp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function IE(r,e,n){const s=Ce(r);let o=we.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,T){const w=Ce(p),C=w.Is.get(T);return C!==void 0?te.resolve(w.Ts.get(C)):w.Hr.getTargetData(g,T)}(s,f,gi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Ve())).next(m=>(G1(s,xx(e),m),{documents:m,gs:u})))}function G1(r,e,n){let s=r.Es.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class NE{constructor(){this.activeTargetIds=jx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K1{constructor(){this.ho=new NE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new NE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="ConnectivityMonitor";class DE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(xE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function Zm(){return Yc===null?Yc=function(){return 268435456+Math.round(2147483648*Math.random())}():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="RestConnection",Q1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Eh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=Zm(),m=this.So(e,n.toUriEncodedString());fe(Sm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(fe(Sm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw yo(Sm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=Q1[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class W1 extends Y1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Zm();return new Promise((f,m)=>{const p=new g0;p.setWithCredentials(!0),p.listenOnce(y0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case sh.NO_ERROR:const T=p.getResponseJson();fe(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case sh.TIMEOUT:fe(Yt,`RPC '${e}' ${u} timed out`),m(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const w=p.getStatus();if(fe(Yt,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const V=C==null?void 0:C.error;if(V&&V.status&&V.message){const O=function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(G)>=0?G:ne.UNKNOWN}(V.status);m(new de(O,V.message))}else m(new de(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{fe(Yt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);fe(Yt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Zm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=E0(),m=v0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");fe(Yt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const w=f.createWebChannel(T,p);let C=!1,V=!1;const O=new X1({Fo:B=>{V?fe(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(C||(fe(Yt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),C=!0),fe(Yt,`RPC '${e}' stream ${o} sending:`,B),w.send(B))},Mo:()=>w.close()}),H=(B,G,W)=>{B.listen(G,X=>{try{W(X)}catch(Z){setTimeout(()=>{throw Z},0)}})};return H(w,Hl.EventType.OPEN,()=>{V||(fe(Yt,`RPC '${e}' stream ${o} transport opened.`),O.Qo())}),H(w,Hl.EventType.CLOSE,()=>{V||(V=!0,fe(Yt,`RPC '${e}' stream ${o} transport closed`),O.Ko())}),H(w,Hl.EventType.ERROR,B=>{V||(V=!0,yo(Yt,`RPC '${e}' stream ${o} transport errored:`,B),O.Ko(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),H(w,Hl.EventType.MESSAGE,B=>{var G;if(!V){const W=B.data[0];$e(!!W);const X=W,Z=(X==null?void 0:X.error)||((G=X[0])===null||G===void 0?void 0:G.error);if(Z){fe(Yt,`RPC '${e}' stream ${o} received error:`,Z);const ae=Z.status;let pe=function(b){const I=Et[b];if(I!==void 0)return Z0(I)}(ae),M=Z.message;pe===void 0&&(pe=ne.INTERNAL,M="Unknown error status: "+ae+" with message "+Z.message),V=!0,O.Ko(new de(pe,M)),w.close()}else fe(Yt,`RPC '${e}' stream ${o} received:`,W),O.Uo(W)}}),H(m,_0.STAT_EVENT,B=>{B.stat===Bm.PROXY?fe(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Bm.NOPROXY&&fe(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(r){return new t1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="PersistentStream";class db{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new fb(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new de(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(OE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(fe(OE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z1 extends db{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=r1(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?yi(f.readTime):we.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Xm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Fm(p)?{documents:o1(u,p)}:{query:l1(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=tb(u,f.resumeToken);const g=$m(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Rh(u,f.snapshotVersion.toTimestamp());const g=$m(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=c1(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Xm(this.serializer),n.removeTarget=e,this.I_(n)}}class J1 extends db{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=a1(e.writeResults,e.commitTime),s=yi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Xm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>s1(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{}class tD extends eD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,Qm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Qm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(ne.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class nD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(cr(n),this.N_=!1):fe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class iD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{da(this)&&(fe(sa,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.W_.add(4),await vu(g),g.j_.set("Unknown"),g.W_.delete(4),await Yh(g)}(this))})}),this.j_=new nD(s,o)}}async function Yh(r){if(da(r))for(const e of r.G_)await e(!0)}async function vu(r){for(const e of r.G_)await e(!1)}function mb(r,e){const n=Ce(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Bp(n)?Up(n):No(n).c_()&&Lp(n,e))}function Pp(r,e){const n=Ce(r),s=No(n);n.U_.delete(e),s.c_()&&pb(n,e),n.U_.size===0&&(s.c_()?s.P_():da(n)&&n.j_.set("Unknown"))}function Lp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(r).y_(e)}function pb(r,e){r.H_.Ne(e),No(r).w_(e)}function Up(r){r.H_=new Wx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),No(r).start(),r.j_.B_()}function Bp(r){return da(r)&&!No(r).u_()&&r.U_.size>0}function da(r){return Ce(r).W_.size===0}function gb(r){r.H_=void 0}async function rD(r){r.j_.set("Online")}async function sD(r){r.U_.forEach((e,n)=>{Lp(r,e)})}async function aD(r,e){gb(r),Bp(r)?(r.j_.q_(e),Up(r)):r.j_.set("Unknown")}async function oD(r,e,n){if(r.j_.set("Online"),e instanceof eb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){fe(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ih(r,s)}else if(e instanceof uh?r.H_.We(e):e instanceof J0?r.H_.Ze(e):r.H_.je(e),!n.isEqual(we.min()))try{const s=await hb(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(g);T&&u.U_.set(g,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken(Gt.EMPTY_BYTE_STRING,T.snapshotVersion)),pb(u,p);const w=new is(T.target,p,g,T.sequenceNumber);Lp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){fe(sa,"Failed to raise snapshot:",s),await Ih(r,s)}}async function Ih(r,e,n){if(!Io(e))throw e;r.W_.add(1),await vu(r),r.j_.set("Offline"),n||(n=()=>hb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(sa,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Yh(r)})}function yb(r,e){return e().catch(n=>Ih(r,n,e))}async function Xh(r){const e=Ce(r),n=ds(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:bp;for(;lD(e);)try{const o=await H1(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,uD(e,o)}catch(o){await Ih(e,o)}_b(e)&&vb(e)}function lD(r){return da(r)&&r.K_.length<10}function uD(r,e){r.K_.push(e);const n=ds(r);n.c_()&&n.b_&&n.S_(e.mutations)}function _b(r){return da(r)&&!ds(r).u_()&&r.K_.length>0}function vb(r){ds(r).start()}async function cD(r){ds(r).C_()}async function hD(r){const e=ds(r);for(const n of r.K_)e.S_(n.mutations)}async function fD(r,e,n){const s=r.K_.shift(),o=xp.from(s,e,n);await yb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Xh(r)}async function dD(r,e){e&&ds(r).b_&&await async function(s,o){if(function(f){return Qx(f)&&f!==ne.ABORTED}(o.code)){const u=s.K_.shift();ds(s).h_(),await yb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Xh(s)}}(r,e),_b(r)&&vb(r)}async function kE(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),fe(sa,"RemoteStore received new credentials");const s=da(n);n.W_.add(3),await vu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Yh(n)}async function mD(r,e){const n=Ce(r);e?(n.W_.delete(2),await Yh(n)):e||(n.W_.add(2),await vu(n),n.j_.set("Unknown"))}function No(r){return r.J_||(r.J_=function(n,s,o){const u=Ce(n);return u.M_(),new Z1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:rD.bind(null,r),No:sD.bind(null,r),Lo:aD.bind(null,r),p_:oD.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Bp(r)?Up(r):r.j_.set("Unknown")):(await r.J_.stop(),gb(r))})),r.J_}function ds(r){return r.Y_||(r.Y_=function(n,s,o){const u=Ce(n);return u.M_(),new J1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:cD.bind(null,r),Lo:dD.bind(null,r),D_:hD.bind(null,r),v_:fD.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Xh(r)):(await r.Y_.stop(),r.K_.length>0&&(fe(sa,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new zp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qp(r,e){if(cr("AsyncQueue",`${e}: ${r}`),Io(r))return new de(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.Z_=new lt(Ee.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class bo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new bo(e,n,po.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class gD{constructor(){this.queries=ME(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=ME(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function ME(){return new fa(r=>B0(r),Hh)}async function Eb(r,e){const n=Ce(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new pD,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=qp(f,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Hp(n)}async function Tb(r,e){const n=Ce(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function yD(r,e){const n=Ce(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Hp(n)}function _D(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Hp(r){r.ia.forEach(e=>{e.next()})}var Jm,jE;(jE=Jm||(Jm={}))._a="default",jE.Cache="cache";class bb{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.key=e}}class Sb{constructor(e){this.key=e}}class vD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=z0(e),this.wa=new po(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new VE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,w)=>{const C=o.get(T),V=Fh(this.query,w)?w:null,O=!!C&&this.mutatedKeys.has(C.key),H=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let B=!1;C&&V?C.data.isEqual(V.data)?O!==H&&(s.track({type:3,doc:V}),B=!0):this.va(C,V)||(s.track({type:2,doc:V}),B=!0,(p&&this.ya(V,p)>0||g&&this.ya(V,g)<0)&&(m=!0)):!C&&V?(s.track({type:0,doc:V}),B=!0):C&&!V&&(s.track({type:1,doc:C}),B=!0,(p||g)&&(m=!0)),B&&(V?(f=f.add(V),u=H?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,w)=>function(V,O){const H=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return H(V)-H(O)}(T.type,w.type)||this.ya(T.doc,w.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new bo(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new VE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new Sb(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new Ab(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return bo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Fp="SyncEngine";class ED{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class TD{constructor(e){this.key=e,this.Ba=!1}}class bD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new fa(m=>B0(m),Hh),this.qa=new Map,this.Qa=new Set,this.$a=new lt(Ee.comparator),this.Ka=new Map,this.Ua=new kp,this.Wa={},this.Ga=new Map,this.za=To.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function AD(r,e,n=!0){const s=xb(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await wb(s,e,n,!0),o}async function SD(r,e){const n=xb(r);await wb(n,e,!0,!1)}async function wb(r,e,n,s){const o=await F1(r.localStore,gi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await wD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&mb(r.remoteStore,o),m}async function wD(r,e,n,s,o){r.Ha=(w,C,V)=>async function(H,B,G,W){let X=B.view.Sa(G);X.ls&&(X=await IE(H.localStore,B.query,!1).then(({documents:M})=>B.view.Sa(M,X)));const Z=W&&W.targetChanges.get(B.targetId),ae=W&&W.targetMismatches.get(B.targetId)!=null,pe=B.view.applyChanges(X,H.isPrimaryClient,Z,ae);return LE(H,B.targetId,pe.Ma),pe.snapshot}(r,w,C,V);const u=await IE(r.localStore,e,!0),f=new vD(e,u.gs),m=f.Sa(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);LE(r,n,g.Ma);const T=new ED(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function RD(r,e,n){const s=Ce(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Hh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Wm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Pp(s.remoteStore,o.targetId),ep(s,o.targetId)}).catch(Co)):(ep(s,o.targetId),await Wm(s.localStore,o.targetId,!0))}async function CD(r,e){const n=Ce(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pp(n.remoteStore,s.targetId))}async function ID(r,e,n){const s=MD(r);try{const o=await function(f,m){const p=Ce(f),g=Nt.now(),T=m.reduce((V,O)=>V.add(O.key),Ve());let w,C;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let O=hr(),H=Ve();return p.ds.getEntries(V,T).next(B=>{O=B,O.forEach((G,W)=>{W.isValidDocument()||(H=H.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,O)).next(B=>{w=B;const G=[];for(const W of m){const X=Hx(W,w.get(W.key).overlayedDocument);X!=null&&G.push(new ys(W.key,X,O0(X.value.mapValue),Kn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,G,m)}).next(B=>{C=B;const G=B.applyToLocalDocumentSet(w,H);return p.documentOverlayCache.saveOverlays(V,B.batchId,G)})}).then(()=>({batchId:C.batchId,changes:H0(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new lt(Pe)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await Eu(s,o.changes),await Xh(s.remoteStore)}catch(o){const u=qp(o,"Failed to persist write");n.reject(u)}}async function Rb(r,e){const n=Ce(r);try{const s=await z1(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?$e(f.Ba):o.removedDocuments.size>0&&($e(f.Ba),f.Ba=!1))}),await Eu(n,s,e)}catch(s){await Co(s)}}function PE(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ce(f);p.onlineState=m;let g=!1;p.queries.forEach((T,w)=>{for(const C of w.ta)C.sa(m)&&(g=!0)}),g&&Hp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ND(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new lt(Ee.comparator);f=f.insert(u,Wt.newNoDocument(u,we.min()));const m=Ve().add(u),p=new $h(we.min(),new Map,new lt(Pe),f,m);await Rb(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Gp(s)}else await Wm(s.localStore,e,!1).then(()=>ep(s,e,n)).catch(Co)}async function xD(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await B1(n.localStore,e);Ib(n,s,null),Cb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,o)}catch(o){await Co(o)}}async function DD(r,e,n){const s=Ce(r);try{const o=await function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>($e(w!==null),T=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,e);Ib(s,e,n),Cb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Eu(s,o)}catch(o){await Co(o)}}function Cb(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function Ib(r,e,n){const s=Ce(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function ep(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||Nb(r,s)})}function Nb(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Pp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),Gp(r))}function LE(r,e,n){for(const s of n)s instanceof Ab?(r.Ua.addReference(s.key,e),OD(r,s)):s instanceof Sb?(fe(Fp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||Nb(r,s.key)):Ae()}function OD(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(fe(Fp,"New document in limbo: "+n),r.Qa.add(s),Gp(r))}function Gp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new Ee(tt.fromString(e)),s=r.za.next();r.Ka.set(s,new TD(n)),r.$a=r.$a.insert(n,s),mb(r.remoteStore,new is(gi(Cp(n.path)),s,"TargetPurposeLimboResolution",Bh.ae))}}async function Eu(r,e,n){const s=Ce(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var T;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Mp.Yi(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const T=Ce(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(g,C=>te.forEach(C.Hi,V=>T.persistence.referenceDelegate.addReference(w,C.targetId,V)).next(()=>te.forEach(C.Ji,V=>T.persistence.referenceDelegate.removeReference(w,C.targetId,V)))))}catch(w){if(!Io(w))throw w;fe(jp,"Failed to update sequence numbers: "+w)}for(const w of g){const C=w.targetId;if(!w.fromCache){const V=T.Ts.get(C),O=V.snapshotVersion,H=V.withLastLimboFreeSnapshotVersion(O);T.Ts=T.Ts.insert(C,H)}}}(s.localStore,u))}async function kD(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){fe(Fp,"User change. New user:",e.toKey());const s=await cb(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new de(ne.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.Rs)}}function VD(r,e){const n=Ce(r),s=n.Ka.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function xb(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ND.bind(null,e),e.La.p_=yD.bind(null,e.eventManager),e.La.Ja=_D.bind(null,e.eventManager),e}function MD(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DD.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return U1(this.persistence,new j1,e.initialUser,this.serializer)}Xa(e){return new ub(Vp.ri,this.serializer)}Za(e){return new K1}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class jD extends Nh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){$e(this.persistence.referenceDelegate instanceof Ch);const s=this.persistence.referenceDelegate.garbageCollector;return new T1(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new ub(s=>Ch.ri(s,n),this.serializer)}}class tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>PE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kD.bind(null,this.syncEngine),await mD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gD}()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),s=function(u){return new W1(u)}(e.databaseInfo);return function(u,f,m,p){return new tD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new iD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>PE(this.syncEngine,n,0),function(){return DE.D()?new DE:new $1}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,T){const w=new bD(o,u,f,m,p,g);return T&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ce(o);fe(sa,"RemoteStore shutting down."),u.W_.add(5),await vu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tp.provider={build:()=>new tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class PD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=b0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{fe(ms,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(fe(ms,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=qp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Rm(r,e){r.asyncQueue.verifyOperationInProgress(),fe(ms,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await cb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function UE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await LD(r);fe(ms,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>kE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>kE(e.remoteStore,o)),r._onlineComponents=e}async function LD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(ms,"Using user provided OfflineComponentProvider");try{await Rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await Rm(r,new Nh)}}else fe(ms,"Using default OfflineComponentProvider"),await Rm(r,new jD(void 0));return r._offlineComponents}async function Ob(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(ms,"Using user provided OnlineComponentProvider"),await UE(r,r._uninitializedComponentsProvider._online)):(fe(ms,"Using default OnlineComponentProvider"),await UE(r,new tp))),r._onlineComponents}function UD(r){return Ob(r).then(e=>e.syncEngine)}async function kb(r){const e=await Ob(r),n=e.eventManager;return n.onListen=AD.bind(null,e.syncEngine),n.onUnlisten=RD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CD.bind(null,e.syncEngine),n}function BD(r,e,n={}){const s=new rr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new Db({next:C=>{T.su(),f.enqueueAndForget(()=>Tb(u,w));const V=C.docs.has(m);!V&&C.fromCache?g.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&C.fromCache&&p&&p.source==="server"?g.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(C)},error:C=>g.reject(C)}),w=new bb(Cp(m.path),T,{includeMetadataChanges:!0,Ta:!0});return Eb(u,w)}(await kb(r),r.asyncQueue,e,n,s)),s.promise}function zD(r,e,n={}){const s=new rr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new Db({next:C=>{T.su(),f.enqueueAndForget(()=>Tb(u,w)),C.fromCache&&p.source==="server"?g.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(C)},error:C=>g.reject(C)}),w=new bb(m,T,{includeMetadataChanges:!0,Ta:!0});return Eb(u,w)}(await kb(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(r,e,n){if(!n)throw new de(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function qD(r,e,n,s){if(e===!0&&s===!0)throw new de(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function zE(r){if(!Ee.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function qE(r){if(Ee.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae()}function vi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(r);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="firestore.googleapis.com",HE=!0;class FE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jb,this.ssl=HE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:HE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v1)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new XN;switch(s.type){case"firstParty":return new ex(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=BE.get(n);s&&(fe("ComponentProvider","Removing Datastore"),BE.delete(n),s.terminate())}(this),Promise.resolve()}}function HD(r,e,n,s={}){var o;const u=(r=vi(r,Zh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==jb&&u.host!==m&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!ea(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=Xt.MOCK_USER;else{g=RT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Xt(w)}r._authCredentials=new WN(new T0(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xo(this.firestore,e,this._query)}}class on{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class os extends xo{constructor(e,n,s){super(e,n,Cp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new Ee(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function sr(r,e,...n){if(r=dt(r),Mb("collection","path",e),r instanceof Zh){const s=tt.fromString(e,...n);return qE(s),new os(r,null,s)}{if(!(r instanceof on||r instanceof os))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return qE(s),new os(r.firestore,null,s)}}function It(r,e,...n){if(r=dt(r),arguments.length===1&&(e=b0.newId()),Mb("doc","path",e),r instanceof Zh){const s=tt.fromString(e,...n);return zE(s),new on(r,null,new Ee(s))}{if(!(r instanceof on||r instanceof os))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return zE(s),new on(r.firestore,r instanceof os?r.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="AsyncQueue";class KE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new fb(this,"async_queue_retry"),this.bu=()=>{const s=wm();s&&fe(GE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new rr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Io(e))throw e;fe(GE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw cr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=zp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Do extends Zh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new KE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KE(e),this._firestoreClient=void 0,await e}}}function FD(r,e){const n=typeof r=="object"?r:hp(),s=typeof r=="string"?r:Eh,o=jh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=AT("firestore");u&&HD(o,...u)}return o}function Kp(r){if(r._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GD(r),r._firestoreClient}function GD(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,T){return new mx(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,Vb(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new PD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ao(Gt.fromBase64String(e))}catch(n){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ao(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=/^__.*__$/;class $D{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class Pb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Lb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Xp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Xp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return xh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Lb(this.Lu)&&KD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class QD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Qh(e)}ju(e,n,s,o=!1){return new Xp({Lu:e,methodName:n,zu:s,path:Ft.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wp(r){const e=r._freezeSettings(),n=Qh(r._databaseId);return new QD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function YD(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Zp("Data must be an object, but it was:",f,s);const m=Ub(s,f);let p,g;if(u.merge)p=new Tn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const C=np(e,w,n);if(!f.contains(C))throw new de(ne.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);zb(T,C)||T.push(C)}p=new Tn(T),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new $D(new fn(m),p,g)}class ef extends $p{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}function XD(r,e,n,s){const o=r.ju(1,e,n);Zp("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();gs(s,(p,g)=>{const T=Jp(e,p,n);g=dt(g);const w=o.Ku(T);if(g instanceof ef)u.push(T);else{const C=Tu(g,w);C!=null&&(u.push(T),f.set(T,C))}});const m=new Tn(u);return new Pb(f,m,o.fieldTransforms)}function WD(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[np(e,s,n)],p=[o];if(u.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)m.push(np(e,u[C])),p.push(u[C+1]);const g=[],T=fn.empty();for(let C=m.length-1;C>=0;--C)if(!zb(g,m[C])){const V=m[C];let O=p[C];O=dt(O);const H=f.Ku(V);if(O instanceof ef)g.push(V);else{const B=Tu(O,H);B!=null&&(g.push(V),T.set(V,B))}}const w=new Tn(g);return new Pb(T,w,f.fieldTransforms)}function ZD(r,e,n,s=!1){return Tu(n,r.ju(s?4:3,e))}function Tu(r,e){if(Bb(r=dt(r)))return Zp("Unsupported field value:",e,r),Ub(r,e);if(r instanceof $p)return function(s,o){if(!Lb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Tu(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Px(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Nt.fromDate(s);return{timestampValue:Rh(o.serializer,u)}}if(s instanceof Nt){const u=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,u)}}if(s instanceof Qp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ao)return{bytesValue:tb(o.serializer,s._byteString)};if(s instanceof on){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Op(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yp)return function(f,m){return{mapValue:{fields:{[x0]:{stringValue:D0},[Th]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Ip(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Wh(s)}`)}(r,e)}function Ub(r,e){const n={};return S0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,(s,o)=>{const u=Tu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Bb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Nt||r instanceof Qp||r instanceof Ao||r instanceof on||r instanceof $p||r instanceof Yp)}function Zp(r,e,n){if(!Bb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Wh(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function np(r,e,n){if((e=dt(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return Jp(r,e);throw xh("Field path arguments must be of type string or ",r,!1,void 0,n)}const JD=new RegExp("[~\\*/\\[\\]]");function Jp(r,e,n){if(e.search(JD)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function xh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(ne.INVALID_ARGUMENT,m+r+p)}function zb(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eO extends qb{data(){return super.data()}}function eg(r,e){return typeof e=="string"?Jp(r,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class nO extends tg{}function $E(r,e,...n){let s=[];e instanceof tg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ng).length,m=u.filter(p=>p instanceof tf).length;if(f>1||f>0&&m>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class tf extends nO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new tf(e,n,s)}_apply(e){const n=this._parse(e);return Hb(e._query,n),new xo(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=Wp(e.firestore);return function(u,f,m,p,g,T,w){let C;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){XE(w,T);const O=[];for(const H of w)O.push(YE(p,u,H));C={arrayValue:{values:O}}}else C=YE(p,u,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||XE(w,T),C=ZD(m,f,w,T==="in"||T==="not-in");return Tt.create(g,T,C)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function QE(r,e,n){const s=e,o=eg("where",r);return tf._create(o,s,n)}class ng extends tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ng(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Hb(f,p),f=Gm(f,p)}(e._query,n),new xo(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function YE(r,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U0(e)&&n.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!Ee.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return uE(r,new Ee(s))}if(n instanceof on)return uE(r,n._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function XE(r,e){if(!Array.isArray(r)||r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hb(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iO{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return gs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Th].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>gt(f.doubleValue));return new Yp(u)}convertGeoPoint(e){return new Qp(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=cs(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);$e(ob(s));const o=new iu(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fb extends qb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(eg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ch extends Fb{data(e={}){return super.data(e)}}class sO{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ch(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:aO(m.type),doc:p,oldIndex:g,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(r){r=vi(r,on);const e=vi(r.firestore,Do);return BD(Kp(e),r._key).then(n=>oO(e,r,n))}class Gb extends iO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function ar(r){r=vi(r,xo);const e=vi(r.firestore,Do),n=Kp(e),s=new Gb(e);return tO(r._query),zD(n,r._query).then(o=>new sO(e,s,r,o))}function nf(r,e,n){r=vi(r,on);const s=vi(r.firestore,Do),o=rO(r.converter,e,n);return ig(s,[YD(Wp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Kn.none())])}function Cm(r,e,n,...s){r=vi(r,on);const o=vi(r.firestore,Do),u=Wp(o);let f;return f=typeof(e=dt(e))=="string"||e instanceof Jh?WD(u,"updateDoc",r._key,e,n,s):XD(u,"updateDoc",r._key,e),ig(o,[f.toMutation(r._key,Kn.exists(!0))])}function Js(r){return ig(vi(r.firestore,Do),[new Np(r._key,Kn.none())])}function ig(r,e){return function(s,o){const u=new rr;return s.asyncQueue.enqueueAndForget(async()=>ID(await UD(s),o,u)),u.promise}(Kp(r),e)}function oO(r,e,n){const s=n.docs.get(e._key),o=new Gb(r);return new Fb(r,o,e._key,s,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ro=o})(ua),ta(new ls("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Do(new ZN(s.getProvider("auth-internal")),new tx(f,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),di(Zv,Jv,e),di(Zv,Jv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="firebasestorage.googleapis.com",lO="storageBucket",uO=2*60*1e3,cO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Ai{constructor(e,n,s=0){super(Im(e),`Firebase Storage: ${n} (${Im(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Si.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Im(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ei;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ei||(Ei={}));function Im(r){return"storage/"+r}function hO(){const r="An unknown error occurred, please check the error payload for server response.";return new Si(Ei.UNKNOWN,r)}function fO(){return new Si(Ei.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dO(){return new Si(Ei.CANCELED,"User canceled the upload/download.")}function mO(r){return new Si(Ei.INVALID_URL,"Invalid URL '"+r+"'.")}function pO(r){return new Si(Ei.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function WE(r){return new Si(Ei.INVALID_ARGUMENT,r)}function $b(){return new Si(Ei.APP_DELETED,"The Firebase app was deleted.")}function gO(r){return new Si(Ei.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Gn.makeFromUrl(e,n)}catch{return new Gn(e,"")}if(s.path==="")return s;throw pO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(Z){Z.path_=decodeURIComponent(Z.path)}const T="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",V=new RegExp(`^https?://${w}/${T}/b/${o}/o${C}`,"i"),O={bucket:1,path:3},H=n===Kb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",G=new RegExp(`^https?://${H}/${o}/${B}`,"i"),X=[{regex:m,indices:p,postModify:u},{regex:V,indices:O,postModify:g},{regex:G,indices:{bucket:1,path:2},postModify:g}];for(let Z=0;Z<X.length;Z++){const ae=X[Z],pe=ae.regex.exec(e);if(pe){const M=pe[ae.indices.bucket];let S=pe[ae.indices.path];S||(S=""),s=new Gn(M,S),ae.postModify(s);break}}if(s==null)throw mO(e);return s}}class yO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(r,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function T(...B){g||(g=!0,e.apply(null,B))}function w(B){o=setTimeout(()=>{o=null,r(V,p())},B)}function C(){u&&clearTimeout(u)}function V(B,...G){if(g){C();return}if(B){C(),T.call(null,B,...G);return}if(p()||f){C(),T.call(null,B,...G);return}s<64&&(s*=2);let X;m===1?(m=2,X=0):X=(s+Math.random())*1e3,w(X)}let O=!1;function H(B){O||(O=!0,C(),!g&&(o!==null?(B||(m=2),clearTimeout(o),w(0)):B||(m=1)))}return w(0),u=setTimeout(()=>{f=!0,H(!0)},n),H}function vO(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(r){return r!==void 0}function ZE(r,e,n,s){if(s<e)throw WE(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw WE(`Invalid value for '${r}'. Expected ${n} or less.`)}function TO(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Dh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Dh||(Dh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,s,o,u,f,m,p,g,T,w,C=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=T,this.connectionFactory_=w,this.retry=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,O)=>{this.resolve_=V,this.reject_=O,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Xc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Dh.NO_ERROR,p=u.getStatus();if(!m||bO(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Dh.ABORT;s(!1,new Xc(!1,null,T));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Xc(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());EO(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=hO();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?$b():dO();f(p)}else{const p=fO();f(p)}};this.canceled_?n(!1,new Xc(!1,null,!0)):this.backoffId_=_O(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function SO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function wO(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function RO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function CO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function IO(r,e,n,s,o,u,f=!0){const m=TO(r.urlParams),p=r.url+m,g=Object.assign({},r.headers);return RO(g,e),SO(g,n),wO(g,u),CO(g,s),new AO(p,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function xO(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this._service=e,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Oh(e,n)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xO(this._location.path)}get storage(){return this._service}get parent(){const e=NO(this._location.path);if(e===null)return null;const n=new Gn(this._location.bucket,e);return new Oh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gO(e)}}function JE(r,e){const n=e==null?void 0:e[lO];return n==null?null:Gn.makeFromBucketSpec(n,r)}function DO(r,e,n,s={}){r.host=`${e}:${n}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:RT(o,r.app.options.projectId))}class OO{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=Kb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uO,this._maxUploadRetryTime=cO,this._requests=new Set,o!=null?this._bucket=Gn.makeFromBucketSpec(o,this._host):this._bucket=JE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=JE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new yO($b());{const f=IO(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const eT="@firebase/storage",tT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="storage";function kO(r=hp(),e){r=dt(r);const s=jh(r,Qb).getImmediate({identifier:e}),o=AT("storage");return o&&VO(s,...o),s}function VO(r,e,n,s={}){DO(r,e,n,s)}function MO(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new OO(n,s,o,e,ua)}function jO(){ta(new ls(Qb,MO,"PUBLIC").setMultipleInstances(!0)),di(eT,tT,""),di(eT,tT,"esm2017")}jO();const PO={apiKey:"AIzaSyBVRn_QbtI8E4-_iFW5UV7t6ADu3JIzu9s",authDomain:"easyride-97bd2.firebaseapp.com",projectId:"easyride-97bd2",storageBucket:"easyride-97bd2.firebasestorage.app",messagingSenderId:"620795154256",appId:"1:620795154256:web:a119271bce394dfe8ae655"},rg=NT(PO),an=QN(rg),Xe=FD(rg);kO(rg);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function LO(r,e,n,s){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function m(T){try{g(s.next(T))}catch(w){f(w)}}function p(T){try{g(s.throw(T))}catch(w){f(w)}}function g(T){T.done?u(T.value):o(T.value).then(m,p)}g((s=s.apply(r,[])).next())})}function UO(r,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(g){return function(T){return p([g,T])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(u=g[0]&2?o.return:g[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,g[1])).done)return u;switch(o=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(r,n)}catch(T){g=[6,T],o=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var co=function(){return co=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},co.apply(this,arguments)},Yb=function(r){return{loading:r==null,value:r}},BO=function(){return function(r,e){switch(e.type){case"error":return co(co({},r),{error:e.error,loading:!1,value:void 0});case"reset":return Yb(e.defaultValue);case"value":return co(co({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},zO=function(r){var e=r?r():void 0,n=j.useReducer(BO(),Yb(e)),s=n[0],o=n[1],u=j.useCallback(function(){var p=r?r():void 0;o({type:"reset",defaultValue:p})},[r]),f=j.useCallback(function(p){o({type:"error",error:p})},[]),m=j.useCallback(function(p){o({type:"value",value:p})},[]);return j.useMemo(function(){return{error:s.error,loading:s.loading,reset:u,setError:f,setValue:m,value:s.value}},[s.error,s.loading,u,f,m,s.value])},qO=function(r,e){var n=zO(function(){return r.currentUser}),s=n.error,o=n.loading,u=n.setError,f=n.setValue,m=n.value;return j.useEffect(function(){var p=mr(r,function(g){return LO(void 0,void 0,void 0,function(){var T;return UO(this,function(w){switch(w.label){case 0:return[3,4];case 1:return w.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return w.sent(),[3,4];case 3:return T=w.sent(),u(T),[3,4];case 4:return f(g),[2]}})})},u);return function(){p()}},[r]),[m,o,s]};const Xb=({isOpen:r,onClose:e})=>{const n=bi(),[s,o]=j.useState(null),[u,f]=j.useState([]);j.useEffect(()=>{const g=mr(an,T=>{T&&(o(T),m(T.uid))});return()=>g()},[]);const m=async g=>{try{const w=(await ar(sr(Xe,"vehicles"))).docs.map(C=>({id:C.id,...C.data()})).filter(C=>C.booked&&C.bookedBy&&C.bookedBy.userId===g);f(w.map(C=>({vehicleType:C.type,owner:C.username,location:`${C.country}, ${C.state}, ${C.city}`,bookedAt:C.bookedBy.bookedAt,requestLocation:C.bookedBy.requestedLocation,requestDate:C.bookedBy.requestedDate})))}catch(T){console.error("Error fetching messages:",T)}},p=async()=>{await jI(an),e(),n("/auth")};return y.jsxs("div",{className:`profile-sidebar ${r?"open":""}`,children:[y.jsx("button",{className:"close-btn",onClick:e,children:"✕"}),y.jsx("h2",{children:"Profile"}),y.jsx("button",{onClick:()=>{e(),n("/profile-show")},className:"show-profile-btn",children:"Show Profile"}),y.jsx("button",{onClick:()=>{e(),n("/edit-vehicles")},className:"show-profile-btn",children:"Edit Your Vehicles"}),y.jsx("button",{onClick:()=>{e(),n("/request-status")},className:"show-profile-btn",children:"Request Status"}),y.jsxs("div",{className:"messages-section",children:[y.jsx("h3",{children:"Your Booking Messages"}),u.length===0?y.jsx("p",{children:"No booking messages yet."}):u.map((g,T)=>y.jsxs("div",{className:"message-item",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Vehicle:"})," ",g.vehicleType]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Owner:"})," ",g.owner]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Location:"})," ",g.location]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Requested Location:"})," ",g.requestLocation]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Requested Date:"})," ",g.requestDate]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Booked At:"})," ",new Date(g.bookedAt).toLocaleString()]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Status:"})," Booked"]})]},T))]}),y.jsx("button",{onClick:p,className:"logout-btn",children:"Logout"})]})},ro="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJg9BTJHBq_39g9nGfBoHo2FlpKD4venJyYanuvqu81EBWkI8M8hHuEfkJ-YbcVphhgJU&usqp=CAU",HO=()=>{const[r]=qO(an),[e,n]=j.useState(""),[s,o]=j.useState(ro),[u,f]=j.useState(!1);return j.useEffect(()=>{(async()=>{if(r){const g=It(Xe,"users",r.uid),T=await So(g);if(T.exists()){const w=T.data();n(w.displayName||r.displayName||""),o(w.photoURL||r.photoURL||ro)}else n(r.displayName||""),o(r.photoURL||ro)}})();const p=mr(an,async g=>{if(g){const T=It(Xe,"users",g.uid),w=await So(T);if(w.exists()){const C=w.data();n(C.displayName||g.displayName||""),o(C.photoURL||g.photoURL||ro)}else n(g.displayName||""),o(g.photoURL||ro)}});return()=>p()},[r]),y.jsxs(y.Fragment,{children:[y.jsxs("nav",{className:"navbar",children:[y.jsx(Ws,{to:"/",children:y.jsx("img",{src:"/Easyride/easyridel.jpg",alt:"EasyRide",className:"logo"})}),y.jsxs("ul",{className:"nav-links",children:[y.jsx("li",{children:y.jsx(Ws,{to:"/",children:"Home"})}),y.jsx("li",{children:y.jsx(Ws,{to:"/book",children:"Book Here"})})]}),r?y.jsxs("div",{className:"profile-section",onClick:()=>f(!0),children:[y.jsx("img",{src:s,alt:"User DP",className:"profile-pic",onError:m=>m.target.src=ro}),y.jsx("span",{className:"username",children:e})]}):y.jsxs("div",{className:"auth-buttons",children:[y.jsx(Ws,{to:"/auth",className:"login-btn",children:"Login"}),y.jsx(Ws,{to:"/auth",className:"register-btn",children:"Register"})]})]}),y.jsx(Xb,{isOpen:u,onClose:()=>f(!1)})]})},FO=()=>y.jsx("footer",{className:"footer",children:y.jsx("p",{children:"© 2025 EasyRide. All rights reserved."})}),Wc=["bike.jpg","car.jpg","bus.jpeg"],GO=()=>{const[r,e]=j.useState(0),[n,s]=j.useState(!1),o=bi(),u=()=>{n||(s(!0),e(g=>(g+1)%Wc.length),setTimeout(()=>s(!1),500))},f=()=>{n||(s(!0),e(g=>g===0?Wc.length-1:g-1),setTimeout(()=>s(!1),500))};j.useEffect(()=>{const g=setInterval(u,3e3);return()=>clearInterval(g)},[]);const m=()=>{o("/book")},p=[{type:"Bike",icon:"bike_icon.jpg",description:"Skip the traffic, ride in style – Reserve your bike today!",color:"#4CAF50"},{type:"Car",icon:"car_icon.jpg",description:"Drive your way – Book a car and enjoy the journey!",color:"#2196F3"},{type:"Bus",icon:"bus_icon.jpg",description:"Skip the hassle, enjoy the journey – Book your bus now!",color:"#FF9800"}];return y.jsxs("div",{className:"home",children:[y.jsx("header",{className:"hero-section",children:y.jsxs("div",{className:"hero-content",children:[y.jsxs("h1",{children:["Welcome to ",y.jsx("span",{className:"highlight",children:"EasyRide"})]}),y.jsx("p",{className:"tagline",children:"Wherever you go, we make it simple."}),y.jsx("button",{className:"cta-button",onClick:m,type:"button",children:"Book Now"})]})}),y.jsx("section",{className:"slider-section",children:y.jsxs("div",{className:"slider",children:[y.jsx("button",{className:"prev",onClick:f,"aria-label":"Previous slide",children:"❮"}),y.jsxs("div",{className:"slide-container",children:[y.jsx("img",{src:Wc[r],alt:`Transportation option ${r+1}`,className:`slide-image ${n?"transitioning":""}`}),y.jsxs("div",{className:"slide-caption",children:[y.jsxs("h3",{children:["Discover Our ",r===0?"Bikes":r===1?"Cars":"Buses"]}),y.jsx("p",{children:"Explore our fleet of high-quality vehicles"})]})]}),y.jsx("button",{className:"next",onClick:u,"aria-label":"Next slide",children:"❯"}),y.jsx("div",{className:"dots-container",children:Wc.map((g,T)=>y.jsx("span",{className:`dot ${r===T?"active":""}`,onClick:()=>e(T)},T))})]})}),y.jsxs("section",{className:"suggestions-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx("h2",{children:"Choose Your Ride"}),y.jsx("p",{children:"Select the transportation option that fits your needs"})]}),y.jsx("div",{className:"suggestion-container",children:p.map((g,T)=>y.jsxs("div",{className:"suggestion-item",style:{borderTop:`4px solid ${g.color}`},children:[y.jsx("div",{className:"icon-wrapper",style:{backgroundColor:`${g.color}20`},children:y.jsx("img",{src:g.icon,alt:g.type,className:"suggestion-icon"})}),y.jsx("h3",{children:g.type}),y.jsx("p",{className:"suggestion-description",children:g.description}),y.jsxs("button",{className:"book-button",style:{backgroundColor:g.color},onClick:()=>o("/book",{state:{vehicleType:g.type}}),children:["Book ",g.type]})]},T))})]}),y.jsxs("section",{className:"features-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx("h2",{children:"Why Choose EasyRide?"}),y.jsx("p",{children:"Experience the best transportation service in town"})]}),y.jsxs("div",{className:"features-container",children:[y.jsxs("div",{className:"feature",children:[y.jsx("div",{className:"feature-icon",children:"🔒"}),y.jsx("h3",{children:"Safe & Reliable"}),y.jsx("p",{children:"All our vehicles undergo regular maintenance checks"})]}),y.jsxs("div",{className:"feature",children:[y.jsx("div",{className:"feature-icon",children:"💰"}),y.jsx("h3",{children:"Best Prices"}),y.jsx("p",{children:"Competitive rates with no hidden charges"})]}),y.jsxs("div",{className:"feature",children:[y.jsx("div",{className:"feature-icon",children:"⚡"}),y.jsx("h3",{children:"Fast Booking"}),y.jsx("p",{children:"Book your ride in less than a minute"})]}),y.jsxs("div",{className:"feature",children:[y.jsx("div",{className:"feature-icon",children:"🌟"}),y.jsx("h3",{children:"Great Support"}),y.jsx("p",{children:"24/7 customer service to assist you"})]})]})]}),y.jsx(FO,{})]})},rf="/Easyride/assets/BIKE-iuBFtodb.jpeg",sf="/Easyride/assets/BUS-DOSAMR3I.jpeg",af="/Easyride/assets/CAR-BI3lEP4d.jpeg",of="/Easyride/assets/TRUCK-CbzQUIZi.jpeg",lf="/Easyride/assets/AUTO-BxJ_Xp-Q.jpeg",uf="/Easyride/assets/OTHER-DV6wfVCa.jpeg",aa="/Easyride/assets/default-vehicle-BpzjbhfU.jpg",KO=({vehicle:r,currentUser:e,onClose:n,onVehiclesUpdate:s})=>{var S;const[o,u]=j.useState(""),[f,m]=j.useState(""),[p,g]=j.useState(""),[T,w]=j.useState(""),[C,V]=j.useState(""),[O,H]=j.useState(!1),[B,G]=j.useState(null),[W,X]=j.useState("details"),Z=b=>{switch(b){case"Bike":return rf;case"Bus":return sf;case"Car":return af;case"Truck":return of;case"Auto":return lf;case"Other 4-Wheeler":return uf;default:return aa}},ae=b=>!b.photoURL||b.photoURL==="default-vehicle.png"?Z(b.type):b.photoURL.startsWith("http")?b.photoURL:Z(b.type),pe=async()=>{if(!e||!e.uid){alert("Please log in to send a booking request.");return}if(e.uid===r.userId){alert("You cannot request your own vehicle.");return}if(!o||!f||!p||!T||!C){G("Please provide all booking details.");return}const b=new Date(`${f}T${p}`),I=new Date(`${T}T${C}`);if(I<=b){G("End date/time must be after start date/time.");return}H(!0),G(null);try{const D=It(Xe,"users",e.uid),U=await So(D),x=U.exists()?U.data():{},Oe={vehicleId:r.id,userId:e.uid,username:e.displayName||"Anonymous",email:x.email||"Not available",phoneNumber:x.phoneNumber||"Not available",country:x.country||"Not specified",city:x.city||"Not specified",requestLocation:o,startDateTime:b.toISOString(),endDateTime:I.toISOString(),requestedAt:new Date().toISOString(),status:"pending"},Ze=It(Xe,"bookingRequests",`${r.id}_${e.uid}_${Date.now()}`);await nf(Ze,Oe),alert("Booking request sent successfully!"),n()}catch(D){console.error("Error sending request:",D.message),G(`Failed to send request: ${D.message}`)}finally{H(!1)}},M=b=>{if(!b)return"Not specified";try{return new Date(b).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Not specified"}};return y.jsx("div",{className:"popup-overlay",children:y.jsxs("div",{className:"popup-content vehicle-details-popup",children:[y.jsx("button",{className:"close-btn",onClick:n,children:y.jsx("i",{className:"fa fa-times"})}),y.jsxs("div",{className:"popup-header",children:[y.jsxs("div",{className:"vehicle-status",children:[r.booked?y.jsxs("span",{className:"status-indicator booked",children:[y.jsx("i",{className:"fa fa-clock-o"})," Currently Booked"]}):y.jsxs("span",{className:"status-indicator available",children:[y.jsx("i",{className:"fa fa-check-circle"})," Available Now"]}),r.withDriver&&y.jsxs("span",{className:"driver-badge",children:[y.jsx("i",{className:"fa fa-user"})," With Driver"]})]}),y.jsx("h2",{children:r.type||"Unknown Type"}),y.jsxs("p",{className:"vehicle-location",children:[y.jsx("i",{className:"fa fa-map-marker"}),[r.city,r.state,r.country].filter(Boolean).join(", ")||"Location not specified"]})]}),y.jsxs("div",{className:"popup-body",children:[y.jsxs("div",{className:"popup-left",children:[y.jsxs("div",{className:"image-container",children:[y.jsx("img",{src:ae(r),alt:r.type||"Vehicle",className:"vehicle-image",onError:b=>{b.target.src=aa}}),y.jsx("div",{className:"image-overlay",children:y.jsx("span",{className:"price-tag",children:r.price||"Price not specified"})})]}),y.jsxs("div",{className:"owner-card",children:[y.jsxs("h3",{children:[y.jsx("i",{className:"fa fa-user-circle"})," Owner Information"]}),y.jsxs("div",{className:"owner-info",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Name:"})," ",r.username||"Anonymous"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Email:"})," ",r.email||"Not available"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Phone:"})," ",r.phoneNumber||"Not available"]})]})]})]}),y.jsxs("div",{className:"popup-right",children:[y.jsxs("div",{className:"tabs",children:[y.jsxs("button",{className:`tab-btn ${W==="details"?"active":""}`,onClick:()=>X("details"),children:[y.jsx("i",{className:"fa fa-info-circle"})," Vehicle Details"]}),!r.booked&&y.jsxs("button",{className:`tab-btn ${W==="booking"?"active":""}`,onClick:()=>X("booking"),children:[y.jsx("i",{className:"fa fa-calendar"})," Book Now"]}),r.booked&&r.bookedBy&&y.jsxs("button",{className:`tab-btn ${W==="booked"?"active":""}`,onClick:()=>X("booked"),children:[y.jsx("i",{className:"fa fa-calendar-check-o"})," Booking Status"]})]}),y.jsxs("div",{className:"tab-content",children:[W==="details"&&y.jsxs("div",{className:"details-tab",children:[y.jsxs("div",{className:"detail-row",children:[y.jsxs("div",{className:"detail-item",children:[y.jsx("i",{className:"fa fa-id-card"}),y.jsxs("div",{className:"detail-text",children:[y.jsx("span",{className:"detail-label",children:"Vehicle Number"}),y.jsx("span",{className:"detail-value",children:r.vehicleNumber||"Not specified"})]})]}),y.jsxs("div",{className:"detail-item",children:[y.jsx("i",{className:"fa fa-road"}),y.jsxs("div",{className:"detail-text",children:[y.jsx("span",{className:"detail-label",children:"Driver Option"}),y.jsx("span",{className:"detail-value",children:r.withDriver?"With Driver":"Self-Drive"})]})]})]}),y.jsxs("div",{className:"detail-full",children:[y.jsx("i",{className:"fa fa-map"}),y.jsxs("div",{className:"detail-text",children:[y.jsx("span",{className:"detail-label",children:"Preferred Locations"}),y.jsx("span",{className:"detail-value",children:((S=r.preferredLocations)==null?void 0:S.join(", "))||"No preferred locations specified"})]})]}),y.jsxs("div",{className:"detail-full",children:[y.jsx("i",{className:"fa fa-file-text-o"}),y.jsxs("div",{className:"detail-text",children:[y.jsx("span",{className:"detail-label",children:"Description"}),y.jsx("span",{className:"detail-value description",children:r.description||"No description provided"})]})]})]}),W==="booking"&&!r.booked&&y.jsxs("div",{className:"booking-tab",children:[y.jsx("h3",{children:"Request to Book"}),B&&y.jsxs("div",{className:"error-message",children:[y.jsx("i",{className:"fa fa-exclamation-circle"})," ",B]}),y.jsxs("div",{className:"booking-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx("i",{className:"fa fa-map-marker"})," Pickup Location"]}),y.jsx("input",{type:"text",placeholder:"Enter your preferred pickup location",value:o,onChange:b=>u(b.target.value),disabled:O})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx("i",{className:"fa fa-calendar"})," Start Date"]}),y.jsx("input",{type:"date",value:f,onChange:b=>m(b.target.value),disabled:O,min:new Date().toISOString().split("T")[0]})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx("i",{className:"fa fa-clock-o"})," Start Time"]}),y.jsx("input",{type:"time",value:p,onChange:b=>g(b.target.value),disabled:O})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx("i",{className:"fa fa-calendar"})," End Date"]}),y.jsx("input",{type:"date",value:T,onChange:b=>w(b.target.value),disabled:O,min:f||new Date().toISOString().split("T")[0]})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx("i",{className:"fa fa-clock-o"})," End Time"]}),y.jsx("input",{type:"time",value:C,onChange:b=>V(b.target.value),disabled:O})]})]}),y.jsx("button",{className:"submit-request-btn",onClick:pe,disabled:O,children:O?y.jsxs(y.Fragment,{children:[y.jsx("i",{className:"fa fa-spinner fa-spin"})," Sending..."]}):y.jsxs(y.Fragment,{children:[y.jsx("i",{className:"fa fa-paper-plane"})," Send Request"]})})]})]}),W==="booked"&&r.booked&&r.bookedBy&&y.jsxs("div",{className:"booked-tab",children:[y.jsx("h3",{children:"Current Booking Information"}),y.jsxs("div",{className:"booking-info",children:[y.jsxs("div",{className:"booking-detail",children:[y.jsx("i",{className:"fa fa-user"}),y.jsxs("div",{children:[y.jsx("span",{className:"detail-label",children:"Booked By"}),y.jsx("span",{className:"detail-value",children:r.bookedBy.username||"Anonymous"})]})]}),y.jsxs("div",{className:"booking-detail",children:[y.jsx("i",{className:"fa fa-envelope"}),y.jsxs("div",{children:[y.jsx("span",{className:"detail-label",children:"Email"}),y.jsx("span",{className:"detail-value",children:r.bookedBy.email||"Not available"})]})]}),y.jsxs("div",{className:"booking-detail",children:[y.jsx("i",{className:"fa fa-phone"}),y.jsxs("div",{children:[y.jsx("span",{className:"detail-label",children:"Phone"}),y.jsx("span",{className:"detail-value",children:r.bookedBy.phoneNumber||"Not available"})]})]}),y.jsxs("div",{className:"booking-detail",children:[y.jsx("i",{className:"fa fa-map-pin"}),y.jsxs("div",{children:[y.jsx("span",{className:"detail-label",children:"Request Location"}),y.jsx("span",{className:"detail-value",children:r.bookedBy.requestedLocation||"Not specified"})]})]}),y.jsxs("div",{className:"booking-detail",children:[y.jsx("i",{className:"fa fa-calendar-plus-o"}),y.jsxs("div",{children:[y.jsx("span",{className:"detail-label",children:"Booking Date"}),y.jsx("span",{className:"detail-value",children:M(r.bookedBy.bookedAt)})]})]}),y.jsxs("div",{className:"booking-detail",children:[y.jsx("i",{className:"fa fa-hourglass-start"}),y.jsxs("div",{children:[y.jsx("span",{className:"detail-label",children:"Start Date/Time"}),y.jsx("span",{className:"detail-value",children:M(r.bookedBy.startDateTime)})]})]}),y.jsxs("div",{className:"booking-detail",children:[y.jsx("i",{className:"fa fa-hourglass-end"}),y.jsxs("div",{children:[y.jsx("span",{className:"detail-label",children:"End Date/Time"}),y.jsx("span",{className:"detail-value",children:M(r.bookedBy.endDateTime)})]})]})]})]})]})]})]})]})})},$O=()=>{const r=bi(),[e,n]=j.useState([]),[s,o]=j.useState(!0),[u,f]=j.useState({type:"",specificLocation:"",withDriver:"",price:"",sortBy:"default",availability:""}),[m,p]=j.useState(1),[g,T]=j.useState(null),[w,C]=j.useState(null),[V,O]=j.useState(""),[H,B]=j.useState(!1),G=6;j.useEffect(()=>{const ie=mr(an,ye=>{T(ye),ye||r("/auth")});return(async()=>{try{const k=(await ar(sr(Xe,"vehicles"))).docs.map(re=>({id:re.id,...re.data()}));n(k)}catch(ye){console.error("Error fetching vehicles:",ye)}finally{o(!1)}})(),()=>ie()},[r]);const W=ie=>{switch(ie){case"Bike":return rf;case"Bus":return sf;case"Car":return af;case"Truck":return of;case"Auto":return lf;case"Other 4-Wheeler":return uf;default:return aa}},X=ie=>!ie.photoURL||ie.photoURL==="default-vehicle.png"?W(ie.type):ie.photoURL.startsWith("http")?ie.photoURL:W(ie.type),ae=[...e.filter(ie=>{var le;const he=V?[ie.type||"",ie.username||"",ie.country||"",ie.state||"",ie.city||"",...ie.preferredLocations||[],ie.price||""].some(_e=>_e.toLowerCase().includes(V.toLowerCase())):!0,ye=u.type?ie.type===u.type:!0,k=u.specificLocation?[ie.country||"",ie.state||"",ie.city||"",...ie.preferredLocations||[]].some(_e=>_e.toLowerCase().includes(u.specificLocation.toLowerCase())):!0,re=u.withDriver===""?!0:u.withDriver==="true"?ie.withDriver:!ie.withDriver,ee=u.price?(le=ie.price)==null?void 0:le.toLowerCase().includes(u.price.toLowerCase()):!0,oe=u.availability===""?!0:u.availability==="available"?!ie.booked:ie.booked;return he&&ye&&k&&re&&ee&&oe})].sort((ie,he)=>{var ye,k,re,ee;switch(u.sortBy){case"price-low-high":return(parseFloat((ye=ie.price)==null?void 0:ye.replace(/[^\d.]/g,""))||0)-(parseFloat((k=he.price)==null?void 0:k.replace(/[^\d.]/g,""))||0);case"price-high-low":return(parseFloat((re=he.price)==null?void 0:re.replace(/[^\d.]/g,""))||0)-(parseFloat((ee=ie.price)==null?void 0:ee.replace(/[^\d.]/g,""))||0);case"newest":return new Date(he.createdAt||0)-new Date(ie.createdAt||0);case"name-a-z":return(ie.type||"").localeCompare(he.type||"");case"name-z-a":return(he.type||"").localeCompare(ie.type||"");default:return 0}}),pe=m*G,M=pe-G,S=ae.slice(M,pe),b=Math.ceil(ae.length/G),I=ie=>{const{name:he,value:ye}=ie.target;f(k=>({...k,[he]:ye})),p(1)},D=ie=>{O(ie.target.value),p(1)},U=()=>{f({type:"",specificLocation:"",withDriver:"",price:"",sortBy:"default",availability:""}),O(""),p(1)},x=ie=>{p(ie),window.scrollTo({top:0,behavior:"smooth"})},Oe=ie=>{C(ie)},Ze=()=>{C(null)},ue=()=>{B(!H)};return s?y.jsxs("div",{className:"book loading-container",children:[y.jsx("div",{className:"loader"}),y.jsx("p",{children:"Loading available vehicles..."})]}):y.jsxs("div",{className:"book",children:[y.jsxs("div",{className:"book-header",children:[y.jsx("h1",{children:"Premium Vehicle Rentals"}),y.jsx("p",{children:"Find your perfect ride and explore with freedom and comfort"}),y.jsxs("div",{className:"search-container",children:[y.jsx("input",{type:"text",placeholder:"Search for vehicles, locations, or owners...",value:V,onChange:D,className:"search-input"}),y.jsx("button",{className:"search-button",children:y.jsx("i",{className:"fa fa-search"})})]}),y.jsx("div",{className:"mobile-filter-toggle",children:y.jsxs("button",{onClick:ue,children:[H?"Hide Filters":"Show Filters"," ",y.jsx("i",{className:"fa fa-filter"})]})})]}),y.jsxs("div",{className:"book-container",children:[y.jsxs("div",{className:`filter-sidebar ${H?"mobile-visible":""}`,children:[y.jsxs("div",{className:"filter-header",children:[y.jsx("h2",{children:"Refine Your Search"}),y.jsx("button",{className:"clear-filters",onClick:U,children:"Clear All"})]}),y.jsxs("div",{className:"filter-section",children:[y.jsx("label",{children:"Sort By"}),y.jsxs("select",{name:"sortBy",value:u.sortBy,onChange:I,className:"select-control",children:[y.jsx("option",{value:"default",children:"Default"}),y.jsx("option",{value:"price-low-high",children:"Price: Low to High"}),y.jsx("option",{value:"price-high-low",children:"Price: High to Low"}),y.jsx("option",{value:"newest",children:"Newest First"}),y.jsx("option",{value:"name-a-z",children:"Name: A to Z"}),y.jsx("option",{value:"name-z-a",children:"Name: Z to A"})]})]}),y.jsxs("div",{className:"filter-section",children:[y.jsx("label",{children:"Vehicle Type"}),y.jsxs("select",{name:"type",value:u.type,onChange:I,className:"select-control",children:[y.jsx("option",{value:"",children:"All Types"}),y.jsx("option",{value:"Car",children:"Car"}),y.jsx("option",{value:"Bike",children:"Bike"}),y.jsx("option",{value:"Bus",children:"Bus"}),y.jsx("option",{value:"Truck",children:"Truck"}),y.jsx("option",{value:"Auto",children:"Auto"}),y.jsx("option",{value:"Other 4-Wheeler",children:"Other 4-Wheeler"})]})]}),y.jsxs("div",{className:"filter-section",children:[y.jsx("label",{children:"Location"}),y.jsx("input",{type:"text",name:"specificLocation",value:u.specificLocation,onChange:I,placeholder:"City, state, or country",className:"input-control"})]}),y.jsxs("div",{className:"filter-section",children:[y.jsx("label",{children:"Driver Option"}),y.jsxs("select",{name:"withDriver",value:u.withDriver,onChange:I,className:"select-control",children:[y.jsx("option",{value:"",children:"All Options"}),y.jsx("option",{value:"true",children:"With Driver"}),y.jsx("option",{value:"false",children:"Self-Drive"})]})]}),y.jsxs("div",{className:"filter-section",children:[y.jsx("label",{children:"Price Range"}),y.jsx("input",{type:"text",name:"price",value:u.price,onChange:I,placeholder:"Enter price (e.g., 1000)",className:"input-control"})]}),y.jsxs("div",{className:"filter-section",children:[y.jsx("label",{children:"Availability"}),y.jsxs("select",{name:"availability",value:u.availability,onChange:I,className:"select-control",children:[y.jsx("option",{value:"",children:"All"}),y.jsx("option",{value:"available",children:"Available Now"}),y.jsx("option",{value:"booked",children:"Currently Booked"})]})]}),y.jsx("div",{className:"filter-footer",children:y.jsxs("p",{className:"result-count",children:[ae.length," vehicles found"]})})]}),y.jsxs("div",{className:"vehicle-list",children:[S.length===0?y.jsxs("div",{className:"no-results",children:[y.jsx("i",{className:"fa fa-search-minus"}),y.jsx("h3",{children:"No vehicles match your search"}),y.jsx("p",{children:"Try adjusting your filters or search terms"}),y.jsx("button",{onClick:U,className:"reset-search-btn",children:"Reset Search"})]}):y.jsx("div",{className:"vehicle-grid",children:S.map(ie=>y.jsxs("div",{className:"vehicle-card",onClick:()=>Oe(ie),children:[y.jsx("div",{className:"vehicle-image-container",children:y.jsx("img",{src:X(ie),alt:ie.type||"Vehicle",className:"vehicle-pic",onError:he=>{he.target.src=aa}})}),y.jsxs("div",{className:"vehicle-info",children:[y.jsx("h3",{className:"vehicle-title",children:ie.type||"Unknown Type"}),y.jsxs("div",{className:"vehicle-details",children:[y.jsxs("div",{className:"detail-item",children:[y.jsx("i",{className:"fa fa-user"}),y.jsx("span",{children:ie.username||"Anonymous"})]}),y.jsxs("div",{className:"detail-item",children:[y.jsx("i",{className:"fa fa-map-marker"}),y.jsx("span",{children:[ie.city,ie.state,ie.country].filter(Boolean).join(", ")||"Location not specified"})]}),y.jsxs("div",{className:"detail-item price",children:[y.jsx("i",{className:"fa fa-tag"}),y.jsx("span",{className:"price-value",children:ie.price||"Price not specified"})]}),y.jsxs("div",{className:"detail-item status",children:[y.jsx("i",{className:"fa fa-info-circle"}),y.jsx("span",{className:ie.booked?"booked-status":"available-status",children:ie.booked?"Booked":"Available"})]}),ie.withDriver&&y.jsxs("div",{className:"detail-item driver",children:[y.jsx("i",{className:"fa fa-user-shield"}),y.jsx("span",{children:"With Driver"})]})]}),y.jsxs("button",{className:"view-details-btn",children:["View Details ",y.jsx("i",{className:"fa fa-arrow-right"})]})]})]},ie.id))}),b>1&&y.jsxs("div",{className:"pagination",children:[y.jsxs("button",{onClick:()=>x(Math.max(1,m-1)),disabled:m===1,className:"page-btn prev",children:[y.jsx("i",{className:"fa fa-chevron-left"})," Prev"]}),y.jsxs("div",{className:"page-numbers",children:[Array.from({length:Math.min(5,b)},(ie,he)=>{let ye;return b<=5||m<=3?ye=he+1:m>=b-2?ye=b-4+he:ye=m-2+he,y.jsx("button",{className:m===ye?"page-btn active":"page-btn",onClick:()=>x(ye),children:ye},ye)}),b>5&&m<b-2&&y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"ellipsis",children:"..."}),y.jsx("button",{className:"page-btn",onClick:()=>x(b),children:b})]})]}),y.jsxs("button",{onClick:()=>x(Math.min(b,m+1)),disabled:m===b,className:"page-btn next",children:["Next ",y.jsx("i",{className:"fa fa-chevron-right"})]})]})]})]}),w&&y.jsx(KO,{vehicle:w,currentUser:g,onClose:Ze,onVehiclesUpdate:n})]})},QO=()=>{const[r,e]=j.useState(!0),[n,s]=j.useState(""),[o,u]=j.useState(""),[f,m]=j.useState(""),[p,g]=j.useState(""),T=bi(),w=async C=>{C.preventDefault(),g("");try{if(r)await OI(an,o,f),console.log("Login successful");else{const O=(await DI(an,o,f)).user;await r0(O,{displayName:n}),await nf(It(Xe,"users",O.uid),{username:n,email:o,createdAt:new Date().toISOString()},{merge:!0}),console.log("User registered, username set in Auth and Firestore for UID:",O.uid)}T("/")}catch(V){console.error("Error in handleSubmit:",V),g(V.message)}};return y.jsx("div",{className:"auth-container",children:y.jsxs("form",{onSubmit:w,className:"auth-form",children:[y.jsxs("div",{className:"auth-header",children:[y.jsx("img",{src:"/easyridel.jpg",alt:"Authentication",className:"auth-image"}),y.jsx("h2",{children:r?"Welcome Back":"Create Account"}),y.jsx("p",{className:"auth-subtitle",children:r?"Sign in to continue":"Join us today"})]}),p&&y.jsx("p",{className:"error-message",children:p}),!r&&y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"username",children:"Username"}),y.jsx("input",{type:"text",id:"username",placeholder:"Enter your username",value:n,onChange:C=>s(C.target.value),required:!0})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"email",children:"Email Address"}),y.jsx("input",{type:"email",id:"email",placeholder:"Enter your email",value:o,onChange:C=>u(C.target.value),required:!0})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"password",children:"Password"}),y.jsx("input",{type:"password",id:"password",placeholder:"Enter your password",value:f,onChange:C=>m(C.target.value),required:!0})]}),y.jsx("button",{type:"submit",className:"auth-button",children:r?"Sign In":"Sign Up"}),y.jsxs("p",{className:"switch-form",children:[r?"New to EasyRide?":"Already have an account?"," ",y.jsx("span",{onClick:()=>e(!r),children:r?"Create an account":"Sign in"})]})]})})},Zc="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJg9BTJHBq_39g9nGfBoHo2FlpKD4venJyYanuvqu81EBWkI8M8hHuEfkJ-YbcVphhgJU&usqp=CAU",Wb=()=>{const r=bi(),[e,n]=j.useState(null),[s,o]=j.useState(!0),[u,f]=j.useState(null);return j.useEffect(()=>{const m=mr(an,async p=>{if(p)try{const g=It(Xe,"users",p.uid),T=await So(g);if(T.exists()){const w=T.data();n({uid:p.uid,email:p.email,username:w.username||"Not set",photoURL:w.photoURL||p.photoURL||Zc,country:w.country||"Not set",state:w.state||"Not set",city:w.city||"Not set",gender:w.gender||"Not set",age:w.age||"Not set",dateOfBirth:w.dateOfBirth||"Not set",phoneNumber:w.phoneNumber||"Not set",aboutYou:w.aboutYou||"Not set"})}else n({uid:p.uid,email:p.email,username:"Not set",photoURL:p.photoURL||Zc,country:"Not set",state:"Not set",city:"Not set",gender:"Not set",age:"Not set",dateOfBirth:"Not set",phoneNumber:"Not set",aboutYou:"Not set"});o(!1)}catch(g){f("Failed to load profile data. Please try again."),o(!1),console.error("Error fetching profile:",g)}else r("/auth")});return()=>m()},[r]),s?y.jsx("div",{className:"profile-show-container",children:y.jsx("div",{className:"loading-spinner",children:"Loading profile..."})}):u?y.jsx("div",{className:"profile-show-container",children:y.jsx("p",{className:"error-message",children:u})}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"background"}),y.jsxs("div",{className:"profile-show-container",children:[y.jsxs("div",{className:"profile-header",children:[y.jsx("h2",{children:"Your Profile"}),y.jsx("p",{className:"profile-subtitle",children:"View and manage your personal information"})]}),y.jsxs("div",{className:"profile-info",children:[y.jsx("img",{src:(e==null?void 0:e.photoURL)||Zc,alt:`${e==null?void 0:e.username}'s profile`,className:"profile-pic",onError:m=>m.target.src=Zc}),y.jsxs("div",{className:"info-grid",children:[y.jsxs("div",{className:"info-item",children:[y.jsx("strong",{children:"Username:"})," ",y.jsx("span",{children:e==null?void 0:e.username})]}),y.jsxs("div",{className:"info-item",children:[y.jsx("strong",{children:"Email:"})," ",y.jsx("span",{children:e==null?void 0:e.email})]}),y.jsxs("div",{className:"info-item",children:[y.jsx("strong",{children:"Country:"})," ",y.jsx("span",{children:e==null?void 0:e.country})]}),y.jsxs("div",{className:"info-item",children:[y.jsx("strong",{children:"State:"})," ",y.jsx("span",{children:e==null?void 0:e.state})]}),y.jsxs("div",{className:"info-item",children:[y.jsx("strong",{children:"City:"})," ",y.jsx("span",{children:e==null?void 0:e.city})]}),y.jsxs("div",{className:"info-item",children:[y.jsx("strong",{children:"Gender:"})," ",y.jsx("span",{children:e==null?void 0:e.gender})]}),y.jsxs("div",{className:"info-item",children:[y.jsx("strong",{children:"Age:"})," ",y.jsx("span",{children:e==null?void 0:e.age})]}),y.jsxs("div",{className:"info-item",children:[y.jsx("strong",{children:"Date of Birth:"})," ",y.jsx("span",{children:e==null?void 0:e.dateOfBirth})]}),y.jsxs("div",{className:"info-item",children:[y.jsx("strong",{children:"Phone Number:"})," ",y.jsx("span",{children:e==null?void 0:e.phoneNumber})]}),y.jsxs("div",{className:"info-item about-you",children:[y.jsx("strong",{children:"About You:"})," ",y.jsx("span",{children:e==null?void 0:e.aboutYou})]})]})]}),y.jsx("button",{onClick:()=>r("/edit-profile"),className:"edit-btn",children:"Edit Profile"})]})]})},nT=["+1 (USA)","+1 (Canada)","+91 (India)","+44 (UK)","+33 (France)","+49 (Germany)","+81 (Japan)","+86 (China)","+61 (Australia)","+55 (Brazil)"],YO=()=>{const r=bi(),[e,n]=j.useState(an.currentUser),[s,o]=j.useState(""),[u,f]=j.useState(""),[m,p]=j.useState(""),[g,T]=j.useState(""),[w,C]=j.useState(""),[V,O]=j.useState(""),[H,B]=j.useState(""),[G,W]=j.useState(""),[X,Z]=j.useState(""),[ae,pe]=j.useState(""),[M,S]=j.useState(""),[b,I]=j.useState(""),[D,U]=j.useState(!1),[x,Oe]=j.useState(null),[Ze,ue]=j.useState("profile");j.useEffect(()=>{const ee=mr(an,oe=>{oe?(n(oe),ie(oe)):r("/login")});return()=>ee()},[r]);const ie=async ee=>{try{const oe=It(Xe,"users",ee.uid),le=await So(oe);if(le.exists()){const _e=le.data();if(o(_e.displayName||ee.displayName||""),f(_e.photoURL||ee.photoURL||""),p(_e.country||""),T(_e.state||""),C(_e.city||""),O(_e.gender||""),B(_e.age?String(_e.age):""),W(_e.dateOfBirth||""),_e.phoneNumber){const[Se,nt]=_e.phoneNumber.split(" ");Z(nT.find(Me=>Me.startsWith(Se))||""),pe(nt||"")}S(ee.email||""),I(_e.aboutYou||"")}else o(ee.displayName||""),f(ee.photoURL||""),S(ee.email||"")}catch(oe){console.error("Error loading user data:",oe),Oe("Failed to load user data.")}},he=ee=>{try{return new URL(ee),ee.startsWith("http")}catch{return!1}},ye=async ee=>{if(!e){Oe("No authenticated user found.");return}U(!0),Oe(null);try{let oe=!1;const le={};if(ee==="photoURL"&&u&&u!==e.photoURL){if(!he(u))throw new Error("Please enter a valid image URL starting with http or https.");await r0(e,{photoURL:u}),le.photoURL=u,oe=!0}ee==="location"&&(m.trim()&&(le.country=m),g.trim()&&(le.state=g),w.trim()&&(le.city=w),oe=!0),ee==="contacts"&&X&&ae&&(le.phoneNumber=`${X.split(" ")[0]} ${ae}`,oe=!0),ee==="ageBirth"&&(H&&(le.age=parseInt(H,10)),G&&(le.dateOfBirth=G),oe=!0),ee==="aboutYou"&&b.trim()&&(le.aboutYou=b,oe=!0),Object.keys(le).length>0&&(await nf(It(Xe,"users",e.uid),le,{merge:!0}),oe=!0),oe&&(await an.currentUser.reload(),n(an.currentUser))}catch(oe){console.error("Error updating profile:",oe.message),Oe(oe.message)}finally{U(!1)}},k=async()=>{if(e&&window.confirm("Are you sure you want to delete your account? This action cannot be undone.")){U(!0),Oe(null);try{const ee=window.prompt("Please enter your password to confirm account deletion:");if(!ee)throw new Error("Password required for re-authentication.");const oe=ha.credential(e.email,ee);await xI(e,oe);const le=$E(sr(Xe,"vehicles"),QE("userId","==",e.uid)),Se=(await ar(le)).docs.map(qe=>Js(qe.ref));await Promise.all(Se);const nt=$E(sr(Xe,"bookingRequests"),QE("userId","==",e.uid)),it=(await ar(nt)).docs.map(qe=>Js(qe.ref));await Promise.all(it),await Js(It(Xe,"users",e.uid)),await PI(e),r("/login")}catch(ee){console.error("Error deleting account:",ee.message),Oe("Failed to delete account: "+ee.message),ee.code==="auth/requires-recent-login"&&Oe("Please log out and log back in, then try again.")}finally{U(!1)}}},re=()=>{switch(Ze){case"profile":return y.jsx(Wb,{});case"editDp":return y.jsxs("div",{className:"content-section",children:[y.jsx("h3",{children:"Edit Display Picture"}),y.jsx("input",{type:"text",placeholder:"Profile Picture URL (http/https only)",value:u,onChange:ee=>f(ee.target.value),disabled:D}),y.jsx("button",{onClick:()=>ye("photoURL"),disabled:D,children:D?"Saving...":"Save DP"})]});case"contacts":return y.jsxs("div",{className:"content-section",children:[y.jsx("h3",{children:"Edit Contacts"}),y.jsx("input",{type:"email",placeholder:"Email (cannot be changed here)",value:M,disabled:!0}),y.jsxs("div",{className:"phone-container",children:[y.jsxs("select",{value:X,onChange:ee=>Z(ee.target.value),disabled:D,children:[y.jsx("option",{value:"",children:"Select Country Code"}),nT.map(ee=>y.jsx("option",{value:ee,children:ee},ee))]}),y.jsx("input",{type:"tel",placeholder:"Phone Number",value:ae,onChange:ee=>pe(ee.target.value),disabled:D})]}),y.jsx("button",{onClick:()=>ye("contacts"),disabled:D,children:D?"Saving...":"Save Contacts"})]});case"location":return y.jsxs("div",{className:"content-section",children:[y.jsx("h3",{children:"Edit Location"}),y.jsx("input",{type:"text",placeholder:"Country",value:m,onChange:ee=>p(ee.target.value),disabled:D}),y.jsx("input",{type:"text",placeholder:"State",value:g,onChange:ee=>T(ee.target.value),disabled:D}),y.jsx("input",{type:"text",placeholder:"City",value:w,onChange:ee=>C(ee.target.value),disabled:D}),y.jsx("button",{onClick:()=>ye("location"),disabled:D,children:D?"Saving...":"Save Location"})]});case"ageBirth":return y.jsxs("div",{className:"content-section",children:[y.jsx("h3",{children:"Edit Age & Birth Date"}),y.jsx("input",{type:"number",placeholder:"Age",value:H,onChange:ee=>B(ee.target.value),min:"1",max:"150",disabled:D}),y.jsx("input",{type:"date",value:G,onChange:ee=>W(ee.target.value),disabled:D}),y.jsx("button",{onClick:()=>ye("ageBirth"),disabled:D,children:D?"Saving...":"Save Age & Birth Date"})]});case"aboutYou":return y.jsxs("div",{className:"content-section",children:[y.jsx("h3",{children:"Update About You"}),y.jsx("textarea",{placeholder:"About You",value:b,onChange:ee=>I(ee.target.value),disabled:D,rows:"4"}),y.jsx("button",{onClick:()=>ye("aboutYou"),disabled:D,children:D?"Saving...":"Save About You"})]});case"changePassword":return y.jsxs("div",{className:"content-section",children:[y.jsx("h3",{children:"Change Password"}),y.jsx("p",{children:"Password change is not implemented here. Use the Forgot Password link on the login page."})]});case"deleteAccount":return y.jsxs("div",{className:"content-section",children:[y.jsx("h3",{children:"Delete Account"}),y.jsx("p",{children:"Clicking below will permanently delete your account and all associated data."}),y.jsx("button",{onClick:k,disabled:D,className:"delete-btn",children:D?"Deleting...":"Delete Account"})]});default:return null}};return y.jsxs("div",{className:"edit-profile-wrapper",children:[y.jsxs("div",{className:"sidebar",children:[y.jsx("h2",{children:"Options"}),y.jsxs("ul",{children:[y.jsx("li",{onClick:()=>ue("profile"),children:"Your Profile"}),y.jsx("li",{onClick:()=>ue("editDp"),children:"Edit DP"}),y.jsx("li",{onClick:()=>ue("contacts"),children:"Contacts"}),y.jsx("li",{onClick:()=>ue("location"),children:"Location"}),y.jsx("li",{onClick:()=>ue("ageBirth"),children:"Age & Birth Date"}),y.jsx("li",{onClick:()=>ue("aboutYou"),children:"About You"}),y.jsx("li",{onClick:()=>ue("changePassword"),children:"Change Password"}),y.jsx("li",{onClick:()=>ue("deleteAccount"),children:"Delete Account"})]})]}),y.jsxs("div",{className:"content-area",children:[x&&y.jsx("p",{className:"error-message",children:x}),re()]})]})},XO=()=>{const r=bi(),[e,n]=j.useState(null),[s,o]=j.useState(""),[u,f]=j.useState(""),[m,p]=j.useState([]),[g,T]=j.useState(""),[w,C]=j.useState(!1),[V,O]=j.useState(""),[H,B]=j.useState(""),[G,W]=j.useState(!1),[X,Z]=j.useState(null);j.useEffect(()=>{const b=mr(an,I=>{I?n(I):r("/auth")});return()=>b()},[r]);const ae=()=>{g.trim()&&!m.includes(g.trim())&&(p([...m,g.trim()]),T(""))},pe=b=>{p(m.filter(I=>I!==b))},M=b=>{switch(b){case"Bike":return rf;case"Bus":return sf;case"Car":return af;case"Truck":return of;case"Auto":return lf;case"Other 4-Wheeler":return uf;default:return aa}},S=async()=>{if(!e){Z("No authenticated user found.");return}if(!s.trim()){Z("Vehicle Number is required.");return}if(!u){Z("Vehicle Type is required.");return}W(!0),Z(null);try{const b=await So(It(Xe,"users",e.uid)),I=b.exists()?b.data():{},D={userId:e.uid,vehicleNumber:s,type:u,country:I.country||"Not specified",state:I.state||"Not specified",city:I.city||"Not specified",photoURL:M(u),preferredLocations:m.length>0?m:null,withDriver:w,price:V||null,description:H||null,username:e.displayName||"Anonymous",email:e.email||"Not available",phoneNumber:I.phoneNumber||"Not available",createdAt:new Date().toISOString(),booked:!1};console.log("Saving vehicle data:",{...D,photoURL:"Image object"}),await nf(It(Xe,"vehicles",`${e.uid}_${Date.now()}`),D),r("/book")}catch(b){Z(b.message),console.error("Error adding vehicle:",b)}finally{W(!1)}};return y.jsxs("div",{className:"add-vehicle-container",children:[y.jsx("h2",{children:"Add Your Vehicle"}),X&&y.jsx("p",{className:"error-message",children:X}),y.jsx("input",{type:"text",placeholder:"Vehicle Number (required)",value:s,onChange:b=>o(b.target.value),disabled:G,required:!0}),y.jsxs("select",{value:u,onChange:b=>f(b.target.value),disabled:G,required:!0,children:[y.jsx("option",{value:"",children:"Select Vehicle Type (required)"}),y.jsx("option",{value:"Car",children:"Car"}),y.jsx("option",{value:"Bike",children:"Bike"}),y.jsx("option",{value:"Bus",children:"Bus"}),y.jsx("option",{value:"Truck",children:"Truck"}),y.jsx("option",{value:"Auto",children:"Auto"}),y.jsx("option",{value:"Other 4-Wheeler",children:"Other 4-Wheeler"})]}),y.jsxs("div",{className:"preferred-locations",children:[y.jsx("input",{type:"text",placeholder:"Add Preferred Location (optional)",value:g,onChange:b=>T(b.target.value),disabled:G,onKeyPress:b=>b.key==="Enter"&&ae()}),y.jsx("button",{onClick:ae,disabled:G,children:"Add"}),y.jsx("div",{className:"location-list",children:m.map(b=>y.jsxs("div",{className:"location-item",children:[b,y.jsx("button",{onClick:()=>pe(b),disabled:G,children:"x"})]},b))})]}),y.jsx("div",{className:"driver-option",children:y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",checked:w,onChange:b=>C(b.target.checked),disabled:G}),"With Driver"]})}),y.jsx("input",{type:"text",placeholder:"Price (e.g., 1000/per 300 km)",value:V,onChange:b=>O(b.target.value),disabled:G}),y.jsx("textarea",{placeholder:"Description (optional)",value:H,onChange:b=>B(b.target.value),disabled:G,rows:"4"}),y.jsx("button",{onClick:S,disabled:G,children:G?"Saving...":"Save Vehicle"})]})},WO=()=>{const r=bi(),[e,n]=j.useState(null),[s,o]=j.useState([]),[u,f]=j.useState(!0),[m,p]=j.useState(null),[g,T]=j.useState(!1),[w,C]=j.useState(null),[V,O]=j.useState({});j.useEffect(()=>{const S=mr(an,b=>{b?(n(b),H(b.uid)):r("/auth")});return()=>S()},[r]);const H=async S=>{f(!0);try{const b=await ar(sr(Xe,"vehicles")),I=await ar(sr(Xe,"bookingRequests")),D=b.docs.filter(U=>U.data().userId===S).map(U=>{const x=I.docs.filter(Oe=>Oe.data().vehicleId===U.id).map(Oe=>({id:Oe.id,...Oe.data()}));return{id:U.id,...U.data(),bookingRequests:x}});o(D)}catch(b){p("Failed to fetch vehicles: "+b.message),console.error(b)}finally{f(!1)}},B=async S=>{if(window.confirm("Are you sure you want to delete this vehicle?"))try{await Js(It(Xe,"vehicles",S));const I=(await ar(sr(Xe,"bookingRequests"))).docs.filter(D=>D.data().vehicleId===S);for(const D of I)await Js(It(Xe,"bookingRequests",D.id));H(e.uid)}catch(b){p("Error deleting vehicle: "+b.message),console.error(b)}},G=async(S,b)=>{try{const I=It(Xe,"vehicles",S),D=It(Xe,"bookingRequests",b.id),U={booked:!0,bookedBy:{userId:b.userId,username:b.username,email:b.email||"Not available",phoneNumber:b.phoneNumber||"Not available",country:b.country||"Not specified",city:b.city||"Not specified",bookedAt:new Date().toISOString(),requestedLocation:b.requestLocation,startDateTime:b.startDateTime,endDateTime:b.endDateTime}};await Cm(I,U),await Cm(D,{status:"accepted"}),H(e.uid),alert("Request accepted and vehicle booked!")}catch(I){p("Error accepting request: "+I.message),console.error(I)}},W=async S=>{try{const b=It(Xe,"bookingRequests",S);await Js(b),H(e.uid),alert("Request rejected and removed!")}catch(b){p("Error rejecting request: "+b.message),console.error(b)}},X=async S=>{try{const b=It(Xe,"vehicles",S);await Cm(b,{booked:!1,bookedBy:null}),T(!1),C(null),H(e.uid)}catch(b){p("Error canceling booking: "+b.message),console.error(b)}},Z=S=>{O(b=>({...b,[S]:!b[S]}))},ae=S=>{if(!S)return"Not specified";try{return new Date(S).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}},pe=S=>{switch(S){case"Bike":return rf;case"Bus":return sf;case"Car":return af;case"Truck":return of;case"Auto":return lf;case"Other 4-Wheeler":return uf;default:return aa}},M=S=>!S.photoURL||S.photoURL==="default-vehicle.png"?pe(S.type):S.photoURL.startsWith("http")?S.photoURL:pe(S.type);return u?y.jsxs("div",{className:"edit-vehicles-container loading-container",children:[y.jsx("div",{className:"loader"}),y.jsx("p",{children:"Loading your vehicles..."})]}):y.jsxs("div",{className:"edit-vehicles-container",children:[y.jsx("h2",{children:"Manage Your Vehicles"}),m&&y.jsxs("p",{className:"error-message",children:[y.jsx("i",{className:"fa fa-exclamation-circle"})," ",m]}),s.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-state-icon",children:y.jsx("i",{className:"fa fa-car"})}),y.jsx("h3",{children:"No Vehicles Found"}),y.jsx("p",{children:"Add your first vehicle to start receiving booking requests!"}),y.jsxs("button",{onClick:()=>r("/add-vehicle"),className:"add-vehicle-btn",children:[y.jsx("i",{className:"fa fa-plus"})," Add Your Vehicle"]})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"vehicles-list",children:s.map(S=>{var b;return y.jsxs("div",{className:"vehicle-item",children:[y.jsx("div",{className:`vehicle-status-badge ${S.booked?"status-booked":"status-available"}`,children:S.booked?"Booked":"Available"}),y.jsx("img",{src:M(S),alt:S.type||"Vehicle",className:"vehicle-image",onError:I=>{I.target.src=aa}}),y.jsx("h3",{children:S.type||"Unknown Type"}),y.jsxs("p",{children:[y.jsx("i",{className:"fa fa-id-card vehicle-detail-icon"}),y.jsx("strong",{children:"Vehicle Number:"})," ",S.vehicleNumber||"N/A"]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa fa-map-marker vehicle-detail-icon"}),y.jsx("strong",{children:"Location:"})," ",[S.city,S.state,S.country].filter(Boolean).join(", ")||"N/A"]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa fa-map vehicle-detail-icon"}),y.jsx("strong",{children:"Preferred Locations:"})," ",((b=S.preferredLocations)==null?void 0:b.join(", "))||"N/A"]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa fa-user vehicle-detail-icon"}),y.jsx("strong",{children:"Driver:"})," ",S.withDriver?"With Driver":"Self-Drive"]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa fa-tag vehicle-detail-icon"}),y.jsx("strong",{children:"Price:"})," ",S.price||"N/A"]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa fa-file-text-o vehicle-detail-icon"}),y.jsx("strong",{children:"Description:"})," ",S.description||"N/A"]}),S.booked&&S.bookedBy&&y.jsxs("div",{className:"booked-info",children:[y.jsxs("h3",{children:[y.jsx("i",{className:"fa fa-calendar-check-o"})," Booking Information"]}),y.jsxs("div",{className:"booking-details-grid",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Username:"})," ",S.bookedBy.username]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Email:"})," ",S.bookedBy.email]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Phone:"})," ",S.bookedBy.phoneNumber]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Location:"})," ",[S.bookedBy.city,S.bookedBy.country].filter(Boolean).join(", ")]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Request Location:"})," ",S.bookedBy.requestedLocation]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Booked At:"})," ",ae(S.bookedBy.bookedAt)]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Start Date/Time:"})," ",ae(S.bookedBy.startDateTime)]}),y.jsxs("p",{children:[y.jsx("strong",{children:"End Date/Time:"})," ",ae(S.bookedBy.endDateTime)]})]}),y.jsxs("button",{className:"reject-btn",onClick:()=>{C(S),T(!0)},style:{marginTop:"1rem"},children:[y.jsx("i",{className:"fa fa-times"})," Cancel Booking"]})]}),S.bookingRequests&&S.bookingRequests.filter(I=>I.status==="pending").length>0&&y.jsxs("div",{className:"requests-section",children:[y.jsxs("h3",{onClick:()=>Z(S.id),style:{cursor:"pointer"},children:[y.jsx("i",{className:"fa fa-clock-o"})," Pending Requests",y.jsx("span",{className:"request-count-badge",children:S.bookingRequests.filter(I=>I.status==="pending").length}),y.jsx("i",{className:`fa fa-chevron-${V[S.id]?"up":"down"}`,style:{marginLeft:"auto"}})]}),V[S.id]&&S.bookingRequests.filter(I=>I.status==="pending").map(I=>y.jsxs("div",{className:"request-item",children:[y.jsxs("h4",{children:["Request from ",I.username]}),y.jsxs("div",{className:"request-details",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Email:"})," ",I.email]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Phone:"})," ",I.phoneNumber]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Location:"})," ",[I.city,I.country].filter(Boolean).join(", ")]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Request Location:"})," ",I.requestLocation]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Start Date/Time:"})," ",ae(I.startDateTime)]}),y.jsxs("p",{children:[y.jsx("strong",{children:"End Date/Time:"})," ",ae(I.endDateTime)]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Requested At:"})," ",ae(I.requestedAt)]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Status:"}),y.jsx("span",{className:"request-status status-pending",children:"Pending"})]})]}),!S.booked&&y.jsxs("div",{className:"request-actions",children:[y.jsxs("button",{onClick:()=>G(S.id,I),className:"accept-btn",children:[y.jsx("i",{className:"fa fa-check"})," Accept"]}),y.jsxs("button",{onClick:()=>W(I.id),className:"reject-btn",children:[y.jsx("i",{className:"fa fa-times"})," Reject"]})]})]},I.id))]}),y.jsxs("div",{className:"vehicle-actions",children:[y.jsxs("button",{onClick:()=>r(`/edit-vehicle/${S.id}`),className:"edit-btn",children:[y.jsx("i",{className:"fa fa-pencil"})," Edit"]}),y.jsxs("button",{onClick:()=>B(S.id),className:"delete-btn",children:[y.jsx("i",{className:"fa fa-trash"})," Delete"]})]})]},S.id)})}),y.jsxs("button",{onClick:()=>r("/add-vehicle"),className:"add-vehicle-btn",children:[y.jsx("i",{className:"fa fa-plus"})," Add New Vehicle"]})]}),g&&w&&y.jsx("div",{className:"popup-overlay",children:y.jsxs("div",{className:"popup-content",style:{maxWidth:"500px"},children:[y.jsx("h3",{children:"Cancel Booking Confirmation"}),y.jsxs("p",{children:["Are you sure you want to cancel the booking for your ",w.type,"?"]}),y.jsx("p",{children:"The vehicle will be marked as available again."}),y.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem"},children:[y.jsx("button",{onClick:()=>X(w.id),className:"accept-btn",style:{flex:"1"},children:"Yes, Cancel Booking"}),y.jsx("button",{onClick:()=>{T(!1),C(null)},className:"reject-btn",style:{flex:"1"},children:"No, Keep Booking"})]})]})})]})},ZO=()=>{const r=bi(),[e,n]=j.useState(null),[s,o]=j.useState([]),[u,f]=j.useState([]),[m,p]=j.useState(!0),[g,T]=j.useState(null);j.useEffect(()=>{const O=mr(an,H=>{H?(n(H),w(H.uid)):r("/auth")});return()=>O()},[r]);const w=async O=>{p(!0);try{const B=(await ar(sr(Xe,"vehicles"))).docs.map(Z=>({id:Z.id,...Z.data()})),W=(await ar(sr(Xe,"bookingRequests"))).docs.filter(Z=>Z.data().userId===O&&Z.data().status==="pending").map(Z=>{const ae=B.find(pe=>pe.id===Z.data().vehicleId)||{};return{requestId:Z.id,vehicleId:Z.data().vehicleId,type:ae.type||"Unknown",owner:ae.username||"Anonymous",location:`${ae.country||"N/A"}, ${ae.state||"N/A"}, ${ae.city||"N/A"}`,requestLocation:Z.data().requestLocation,requestDate:Z.data().requestDate,requestedAt:Z.data().requestedAt,status:"pending"}}),X=B.filter(Z=>Z.booked&&Z.bookedBy&&Z.bookedBy.userId===O).map(Z=>({vehicleId:Z.id,type:Z.type,owner:Z.username,location:`${Z.country}, ${Z.state}, ${Z.city}`,requestLocation:Z.bookedBy.requestedLocation,requestDate:Z.bookedBy.requestedDate,bookedAt:Z.bookedBy.bookedAt,status:"booked"})).filter(Z=>new Date(Z.requestDate)>=new Date);o(W),f(X)}catch(H){T("Failed to fetch requests/bookings: "+H.message),console.error(H)}finally{p(!1)}},C=async O=>{if(window.confirm("Are you sure you want to reject and delete this request?"))try{const H=It(Xe,"bookingRequests",O);await Js(H),w(e.uid),alert("Request rejected and removed!")}catch(H){T("Error rejecting request: "+H.message),console.error(H)}},V=async(O,H)=>{const W=new Date(H)-new Date;if(Math.ceil(W/(1e3*60*60*24))<=3){alert("You can only delete a booking more than 3 days before the requested date.");return}if(window.confirm("Are you sure you want to delete this booking?"))try{const Z=It(Xe,"vehicles",O);await updateDoc(Z,{booked:!1,bookedBy:null}),w(e.uid),alert("Booking deleted and vehicle status updated!")}catch(Z){T("Error deleting booking: "+Z.message),console.error(Z)}};return m?y.jsx("div",{className:"request-status-container",children:"Loading..."}):g?y.jsx("div",{className:"request-status-container",children:y.jsx("p",{className:"error-message",children:g})}):y.jsxs("div",{className:"request-status-container",children:[y.jsx("h2",{children:"Your Request Status"}),s.length===0&&u.length===0?y.jsx("p",{children:"No requests or bookings found."}):y.jsxs("div",{className:"status-list",children:[s.map(O=>y.jsxs("div",{className:"status-card",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Vehicle:"})," ",O.type]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Owner:"})," ",O.owner]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Location:"})," ",O.location]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Requested Location:"})," ",O.requestLocation]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Requested Date:"})," ",O.requestDate]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Status:"})," Pending"]}),y.jsx("button",{onClick:()=>C(O.requestId),className:"reject-btn",children:"Reject"})]},O.requestId)),u.map((O,H)=>{const B=new Date(O.requestDate),W=Math.ceil((B-new Date)/(1e3*60*60*24));return y.jsxs("div",{className:"status-card",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Vehicle:"})," ",O.type]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Owner:"})," ",O.owner]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Location:"})," ",O.location]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Requested Location:"})," ",O.requestLocation]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Requested Date:"})," ",O.requestDate]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Booked At:"})," ",new Date(O.bookedAt).toLocaleString()]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Status:"})," Booked"]}),W>3&&y.jsx("button",{onClick:()=>V(O.vehicleId,O.requestDate),className:"delete-btn",children:"Delete Booking"})]},H)})]})]})};function JO(){const[r,e]=j.useState(!1);return y.jsx(Fw,{children:y.jsxs("div",{className:"app-wrapper",children:[y.jsx(HO,{onOpenProfile:()=>e(!0)}),y.jsx("main",{className:"main-content",children:y.jsxs(Tw,{children:[y.jsx(Zi,{path:"/",element:y.jsx(GO,{})}),y.jsx(Zi,{path:"/book",element:y.jsx($O,{})}),y.jsx(Zi,{path:"/auth",element:y.jsx(QO,{})}),y.jsx(Zi,{path:"/edit-profile",element:y.jsx(YO,{})}),y.jsx(Zi,{path:"/profile-show",element:y.jsx(Wb,{})}),y.jsx(Zi,{path:"/add-vehicle",element:y.jsx(XO,{})}),y.jsx(Zi,{path:"/edit-vehicles",element:y.jsx(WO,{})}),y.jsx(Zi,{path:"/request-status",element:y.jsx(ZO,{})})]})}),y.jsx(Xb,{isOpen:r,onClose:()=>e(!1)})]})})}DS.createRoot(document.getElementById("root")).render(y.jsx(j.StrictMode,{children:y.jsx(JO,{})}));
